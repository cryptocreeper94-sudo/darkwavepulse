import{j as e,T as S,r,c as v,d as m,e as C,f as w}from"./SniperBotTab-4e32qIl7.js";import{T as A,l as I,S as W,m as f,k as z,W as B}from"./components-DHZ_EzFs.js";const E=[{id:"sniper",label:"StrikeAgent",icon:"üéØ"},{id:"wallet",label:"Wallet",icon:"üí≥"},{id:"pricing",label:"Upgrade",icon:"‚ö°"}];function H({activeTab:s,onTabChange:n}){return e.jsx("nav",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#0f0f0f",borderTop:"1px solid rgba(0, 212, 255, 0.15)",display:"flex",justifyContent:"space-around",padding:"8px 0 max(8px, env(safe-area-inset-bottom))",zIndex:1e3},children:E.map(t=>{const i=s===t.id;return e.jsxs("button",{onClick:()=>n(t.id),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",background:"transparent",border:"none",padding:"8px 16px",cursor:"pointer",color:i?"#00d4ff":"#666",transition:"color 0.2s ease",position:"relative"},children:[e.jsx("span",{style:{fontSize:"20px"},children:t.icon}),e.jsx("span",{style:{fontSize:"11px",fontWeight:i?"600":"400",textTransform:"uppercase",letterSpacing:"0.5px"},children:t.label}),i&&e.jsx("span",{style:{position:"absolute",bottom:"4px",width:"24px",height:"2px",background:"#00d4ff",borderRadius:"1px"}})]},t.id)})})}function F(){const{telegramUser:s,isReady:n,webApp:t}=I(),[i,j]=r.useState("sniper"),[c,u]=r.useState(null),[a,g]=r.useState(null),[l,x]=r.useState(!1);r.useEffect(()=>{s?.id&&u(`telegram_${s.id}`)},[s]),r.useEffect(()=>{(async()=>{try{const d=await fetch("/api/session");if(d.ok){const p=await d.json();if(p.user?.email){u(p.user.email);const h=await fetch(`/api/users/${p.user.email}/dashboard`);if(h.ok){const k=await h.json();g(k)}}}}catch{console.log("Session check failed, using defaults")}})()},[]),r.useEffect(()=>{t&&n&&(t.setHeaderColor?.("#0f0f0f"),t.setBackgroundColor?.("#0f0f0f"))},[t,n]);const T=(o="impact")=>{if(t?.HapticFeedback)switch(o){case"impact":t.HapticFeedback.impactOccurred("medium");break;case"notification":t.HapticFeedback.notificationOccurred("success");break;case"selection":t.HapticFeedback.selectionChanged();break}},b=o=>{T("selection"),o==="settings"?x(!0):(x(!1),j(o))},y=()=>{if(l)return e.jsx(W,{userId:c,userConfig:a,setUserConfig:g,isTelegram:!0});switch(i){case"sniper":return e.jsx(f,{requiredTier:"rm-plus",featureName:"StrikeAgent AI Trading",mode:"overlay",currentTier:a?.subscriptionTier,children:e.jsx(m,{isTelegram:!0})});case"wallet":return e.jsx(f,{requiredTier:"rm-plus",featureName:"Wallet Transactions",mode:"overlay",currentTier:a?.subscriptionTier,children:e.jsx(B,{userId:c,isTelegram:!0})});case"pricing":return e.jsx(z,{userId:c,currentTier:a?.subscriptionTier,isTelegram:!0});default:return e.jsx(f,{requiredTier:"rm-plus",featureName:"StrikeAgent AI Trading",mode:"overlay",currentTier:a?.subscriptionTier,children:e.jsx(m,{isTelegram:!0})})}};return n?e.jsx(v,{children:e.jsxs("div",{style:{minHeight:"100vh",background:"#0f0f0f",color:"#fff",paddingBottom:"80px"},children:[e.jsxs("header",{style:{position:"sticky",top:0,background:"#0f0f0f",borderBottom:"1px solid rgba(0, 212, 255, 0.1)",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:100},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:"üéØ"}),e.jsx("span",{style:{fontWeight:"700",fontSize:"18px",background:"linear-gradient(135deg, #00d4ff, #00ff88)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"StrikeAgent"})]}),e.jsx("button",{onClick:()=>b("settings"),style:{background:"transparent",border:"none",padding:"8px",cursor:"pointer",fontSize:"20px",opacity:l?1:.6},children:"‚öôÔ∏è"})]}),e.jsx("main",{style:{padding:"0 12px"},children:y()}),!l&&e.jsx(H,{activeTab:i,onTabChange:b})]})}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0f0f0f",color:"#00d4ff"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:50,height:50,border:"3px solid #00d4ff",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Loading StrikeAgent..."})]}),e.jsx("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]})}function R(){return e.jsx(S,{children:e.jsx(A,{children:e.jsx(F,{})})})}C.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(w,{children:e.jsx(R,{})})}));
