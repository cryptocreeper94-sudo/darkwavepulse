import{r as n,j as e,W as nt,P as rt,w as it,Q as ta,h as Qt,i as vt,I as Ue,k as st}from"./SniperBotTab-4e32qIl7.js";const L={skinTone:[{id:"light",label:"Light",color:"#FFDFC4"},{id:"light-tan",label:"Light Tan",color:"#F0C08A"},{id:"tan",label:"Tan",color:"#D4A574"},{id:"medium",label:"Medium",color:"#C68642"},{id:"olive",label:"Olive",color:"#9F8170"},{id:"brown",label:"Brown",color:"#8D5524"},{id:"dark-brown",label:"Dark Brown",color:"#5C3D2E"},{id:"dark",label:"Dark",color:"#3B2219"}],faceShape:[{id:"oval",label:"Oval",icon:"ðŸ¥š"},{id:"round",label:"Round",icon:"â­•"},{id:"square",label:"Square",icon:"â¬œ"},{id:"heart",label:"Heart",icon:"ðŸ’œ"}],hairStyle:[{id:"short",label:"Short",icon:"ðŸ’‡"},{id:"medium",label:"Medium",icon:"ðŸ’‡â€â™€ï¸"},{id:"long",label:"Long",icon:"ðŸ‘©â€ðŸ¦±"},{id:"curly",label:"Curly",icon:"ðŸŒ€"},{id:"wavy",label:"Wavy",icon:"ðŸŒŠ"},{id:"braids",label:"Braids",icon:"ðŸª¢"},{id:"afro",label:"Afro",icon:"ðŸ”´"},{id:"bald",label:"Bald",icon:"ðŸ‘´"},{id:"buzzcut",label:"Buzz Cut",icon:"âœ‚ï¸"},{id:"ponytail",label:"Ponytail",icon:"ðŸŽ€"},{id:"pigtails",label:"Pigtails",icon:"ðŸŽ€ðŸŽ€"},{id:"mohawk",label:"Mohawk",icon:"ðŸ¦”"},{id:"dreads",label:"Dreads",icon:"ðŸ”—"},{id:"cornrows",label:"Cornrows",icon:"ã€°ï¸"},{id:"man-bun",label:"Man Bun",icon:"ðŸ”µ"},{id:"pixie",label:"Pixie Cut",icon:"âœ¨"},{id:"bob",label:"Bob",icon:"ðŸ’"}],hairColor:[{id:"black",label:"Black",color:"#1a1a1a"},{id:"dark-brown",label:"Dark Brown",color:"#3b2417"},{id:"brown",label:"Brown",color:"#6a4e42"},{id:"light-brown",label:"Light Brown",color:"#a67c52"},{id:"blonde",label:"Blonde",color:"#d4a76a"},{id:"platinum",label:"Platinum",color:"#e8e4d9"},{id:"red",label:"Red",color:"#8b3a3a"},{id:"ginger",label:"Ginger",color:"#c65d3b"},{id:"gray",label:"Gray",color:"#888888"},{id:"white",label:"White",color:"#e0e0e0"},{id:"blue",label:"Blue",color:"#3498db"},{id:"purple",label:"Purple",color:"#9b59b6"},{id:"pink",label:"Pink",color:"#e91e8c"},{id:"green",label:"Green",color:"#27ae60"}],eyeColor:[{id:"brown",label:"Brown",color:"#5D4037"},{id:"blue",label:"Blue",color:"#1976D2"},{id:"green",label:"Green",color:"#388E3C"},{id:"hazel",label:"Hazel",color:"#8D6E63"},{id:"gray",label:"Gray",color:"#607D8B"},{id:"amber",label:"Amber",color:"#FF8F00"}],eyebrowStyle:[{id:"thin",label:"Thin",icon:"â€•"},{id:"thick",label:"Thick",icon:"â”"},{id:"arched",label:"Arched",icon:"âŒ’"},{id:"straight",label:"Straight",icon:"â€”"}],facialHair:[{id:"none",label:"None",icon:"ðŸ˜Š"},{id:"stubble",label:"Stubble",icon:"ðŸ§”â€â™‚ï¸"},{id:"mustache",label:"Mustache",icon:"ðŸ‘¨"},{id:"goatee",label:"Goatee",icon:"ðŸ§”"},{id:"full-beard",label:"Full Beard",icon:"ðŸ§”â€â™‚ï¸"},{id:"soul-patch",label:"Soul Patch",icon:"ðŸ˜Ž"}],bodyType:[{id:"slim",label:"Slim",icon:"ðŸ§"},{id:"average",label:"Average",icon:"ðŸ§"},{id:"athletic",label:"Athletic",icon:"ðŸ’ª"},{id:"curvy",label:"Curvy",icon:"ðŸ§â€â™€ï¸"},{id:"plus",label:"Plus Size",icon:"ðŸ§"}],clothing:[{id:"suit",label:"Business Suit",icon:"ðŸ‘”",color:"#2c3e50"},{id:"casual",label:"Casual",icon:"ðŸ‘•",color:"#3498db"},{id:"hoodie",label:"Hoodie",icon:"ðŸ§¥",color:"#34495e"},{id:"tshirt",label:"T-Shirt",icon:"ðŸ‘•",color:"#e74c3c"},{id:"dress",label:"Dress",icon:"ðŸ‘—",color:"#9b59b6"},{id:"blazer",label:"Blazer",icon:"ðŸ§¥",color:"#1abc9c"},{id:"crypto",label:"Crypto Merch",icon:"â‚¿",color:"#f39c12"},{id:"tank-top",label:"Tank Top",icon:"ðŸŽ½",color:"#e67e22"},{id:"jacket",label:"Jacket",icon:"ðŸ§¥",color:"#2c3e50"},{id:"vest",label:"Vest",icon:"ðŸ¦º",color:"#7f8c8d"},{id:"polo",label:"Polo",icon:"ðŸ‘•",color:"#16a085"},{id:"sweater",label:"Sweater",icon:"ðŸ§¶",color:"#8e44ad"},{id:"crop-top",label:"Crop Top",icon:"ðŸ‘š",color:"#e91e63"}],accessories:[{id:"none",label:"None",icon:"âœ–ï¸"},{id:"glasses",label:"Glasses",icon:"ðŸ‘“"},{id:"sunglasses",label:"Sunglasses",icon:"ðŸ•¶ï¸"},{id:"earrings",label:"Earrings",icon:"ðŸ’Ž"},{id:"necklace",label:"Necklace",icon:"ðŸ“¿"},{id:"headphones",label:"Headphones",icon:"ðŸŽ§"},{id:"hat",label:"Hat",icon:"ðŸ§¢"},{id:"bandana",label:"Bandana",icon:"ðŸŽ€"},{id:"beanie",label:"Beanie",icon:"ðŸ§¢"},{id:"cap-backwards",label:"Cap Backwards",icon:"ðŸ”„"},{id:"chain-necklace",label:"Chain",icon:"â›“ï¸"},{id:"watch",label:"Watch",icon:"âŒš"},{id:"rings",label:"Rings",icon:"ðŸ’"}],background:[{id:"dark",label:"Dark",color:"#0f0f0f"},{id:"space",label:"Space",color:"#0B0C10"},{id:"ocean",label:"Ocean",color:"#0d1b2a"},{id:"forest",label:"Forest",color:"#0f1419"},{id:"sunset",label:"Sunset",color:"#2A2416"},{id:"neon",label:"Neon",color:"#1a1a2e"},{id:"crypto",label:"Crypto",color:"#1a1a1a"}]},Zt=[{id:"thumbs",label:"Thumbs",premium:!1},{id:"lorelei",label:"Anime",premium:!0},{id:"adventurer",label:"Illustrated",premium:!0},{id:"big-ears",label:"Cute",premium:!0},{id:"avataaars",label:"Cartoon",premium:!0},{id:"pixel-art",label:"Pixel Art",premium:!0},{id:"micah",label:"Minimalist",premium:!0},{id:"fun-emoji",label:"Emoji",premium:!0},{id:"personas",label:"Personas",premium:!0},{id:"notionists",label:"Notionists",premium:!0}],Ce={skinTone:"medium",faceShape:"oval",hairStyle:"short",hairColor:"black",eyeColor:"brown",eyebrowStyle:"thick",facialHair:"none",bodyType:"average",clothing:"casual",accessories:"none",background:"dark",name:"My Avatar",dicebearStyle:"thumbs"};function la(a,t=200){const i=a.dicebearStyle||"personas",r=a.name||"default",o=L.skinTone.find(y=>y.id===a.skinTone),c=L.hairColor.find(y=>y.id===a.hairColor),h=L.background.find(y=>y.id===a.background),p=o?o.color.replace("#",""):"c68642";c&&c.color.replace("#","");const d=h?h.color.replace("#",""):"0f0f0f",l=new URLSearchParams({seed:r,backgroundColor:d,size:t.toString()});return(i==="personas"||i==="notionists")&&l.append("skinColor",p),`https://api.dicebear.com/9.x/${i}/svg?${l.toString()}`}function jt({avatar:a,size:t=200}){const i=L.background.find(c=>c.id===a.background),r=i?i.color:"#0f0f0f",o=la(a,t);return e.jsxs("div",{style:{width:t,height:t,background:r,borderRadius:16,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5), 0 0 40px rgba(0, 212, 255, 0.15)"},children:[e.jsx("img",{src:o,alt:a.name||"Avatar",style:{width:"85%",height:"85%",objectFit:"contain"}}),e.jsx("div",{style:{position:"absolute",bottom:8,left:0,right:0,textAlign:"center",color:"white",fontSize:12,fontWeight:600,textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:a.name})]})}function He({title:a,icon:t,isOpen:i,onToggle:r,children:o}){return e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:10,marginBottom:8,border:i?"1px solid rgba(0, 212, 255, 0.3)":"1px solid rgba(255,255,255,0.1)",overflow:"hidden",transition:"border-color 0.2s ease"},children:[e.jsxs("button",{onClick:r,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"transparent",border:"none",cursor:"pointer",color:i?"#00D4FF":"#ccc",transition:"color 0.2s ease"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,fontWeight:600},children:[e.jsx("span",{children:t}),a]}),e.jsx("span",{style:{transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",fontSize:12},children:"â–¼"})]}),e.jsx("div",{style:{maxHeight:i?400:0,overflow:"hidden",transition:"max-height 0.3s ease"},children:e.jsx("div",{style:{padding:"0 14px 14px"},children:o})})]})}function We({options:a,selected:t,onSelect:i,type:r="icon"}){return e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:a.map(o=>e.jsx("button",{onClick:()=>i(o.id),style:{width:r==="color"?32:"auto",height:r==="color"?32:34,minWidth:r==="color"?32:54,padding:r==="color"?0:"6px 10px",borderRadius:r==="color"?"50%":8,border:t===o.id?"2px solid #00D4FF":"1px solid rgba(255,255,255,0.15)",background:r==="color"?o.color:"rgba(255,255,255,0.05)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:r==="color"?12:11,transition:"all 0.2s",boxShadow:t===o.id?"0 0 12px rgba(0,212,255,0.5)":"none"},children:r!=="color"&&(o.icon?`${o.icon}`:o.label)},o.id))})}function en({selected:a,onSelect:t,isPremium:i=!1}){return e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Zt.map(r=>{const o=`https://api.dicebear.com/9.x/${r.id}/svg?seed=preview&size=48&backgroundColor=1a1a1a`,c=r.premium&&!i;return e.jsxs("button",{onClick:()=>!c&&t(r.id),disabled:c,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,padding:8,background:a===r.id?"rgba(0, 212, 255, 0.15)":"rgba(255,255,255,0.05)",border:a===r.id?"2px solid #00D4FF":"1px solid rgba(255,255,255,0.15)",borderRadius:10,cursor:c?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:a===r.id?"0 0 15px rgba(0,212,255,0.3)":"none",opacity:c?.5:1,position:"relative"},children:[e.jsx("img",{src:o,alt:r.label,style:{width:40,height:40,borderRadius:6,background:"#1a1a1a"}}),e.jsx("span",{style:{fontSize:10,color:a===r.id?"#00D4FF":"#888",fontWeight:600},children:r.label}),c&&e.jsx("span",{style:{position:"absolute",top:2,right:2,fontSize:10,color:"#888"},children:"ðŸ”’"})]},r.id)}),!i&&e.jsxs("div",{style:{width:"100%",marginTop:8,fontSize:11,color:"#00d4aa",display:"flex",alignItems:"center",gap:4},children:[e.jsx("span",{children:"â­"})," Upgrade to RM+ for all avatar styles"]})]})}function an({isOpen:a,onClose:t,onSave:i,isPremium:r=!1}){const[o,c]=n.useState(()=>{const b=localStorage.getItem("pulse-user-avatar");if(b){const f=JSON.parse(b);return{...Ce,...f}}return Ce}),[h,p]=n.useState("face"),d=n.useCallback((b,f)=>{c(u=>({...u,[b]:f}))},[]),l=n.useCallback(()=>{localStorage.setItem("pulse-user-avatar",JSON.stringify(o)),i?.(o),t?.()},[o,i,t]),y=n.useCallback(()=>{const b=Math.random().toString(36).substring(2,10),f={skinTone:L.skinTone[Math.floor(Math.random()*L.skinTone.length)].id,faceShape:L.faceShape[Math.floor(Math.random()*L.faceShape.length)].id,hairStyle:L.hairStyle[Math.floor(Math.random()*L.hairStyle.length)].id,hairColor:L.hairColor[Math.floor(Math.random()*L.hairColor.length)].id,eyeColor:L.eyeColor[Math.floor(Math.random()*L.eyeColor.length)].id,eyebrowStyle:L.eyebrowStyle[Math.floor(Math.random()*L.eyebrowStyle.length)].id,facialHair:L.facialHair[Math.floor(Math.random()*L.facialHair.length)].id,bodyType:L.bodyType[Math.floor(Math.random()*L.bodyType.length)].id,clothing:L.clothing[Math.floor(Math.random()*L.clothing.length)].id,accessories:L.accessories[Math.floor(Math.random()*L.accessories.length)].id,background:L.background[Math.floor(Math.random()*L.background.length)].id,name:o.name||b,dicebearStyle:o.dicebearStyle};c(f)},[o.name,o.dicebearStyle]),x=n.useCallback(b=>{p(f=>f===b?null:b)},[]);return a?e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.92)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:t,children:[e.jsxs("div",{style:{background:"#0f0f0f",borderRadius:16,border:"1px solid rgba(0, 212, 255, 0.2)",width:"100%",maxWidth:"min(720px, 90vw)",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 0 60px rgba(0, 212, 255, 0.1)"},onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"#141414"},children:[e.jsx("h2",{style:{margin:0,color:"#00D4FF",fontSize:18,fontFamily:"Orbitron, sans-serif",textShadow:"0 0 20px rgba(0, 212, 255, 0.4)"},children:"Avatar Creator"}),e.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,color:"#888",fontSize:18,cursor:"pointer",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:"Ã—"})]}),e.jsxs("div",{style:{flex:1,overflow:"auto",padding:16},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"auto auto",gap:12},className:"avatar-bento-grid",children:[e.jsx("div",{style:{gridRow:"span 2",background:"#141414",borderRadius:14,border:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",padding:20,minHeight:280},children:e.jsx(jt,{avatar:o,size:220})}),e.jsxs("div",{style:{background:"#141414",borderRadius:14,border:"1px solid rgba(255,255,255,0.08)",padding:16},children:[e.jsxs("div",{style:{marginBottom:14},children:[e.jsx("label",{style:{fontSize:11,color:"#666",textTransform:"uppercase",fontWeight:600,marginBottom:6,display:"block"},children:"Avatar Name"}),e.jsx("input",{type:"text",value:o.name,onChange:b=>d("name",b.target.value),placeholder:"Enter name...",style:{width:"100%",padding:"10px 12px",background:"#1a1a1a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,color:"white",fontSize:13}})]}),e.jsxs("div",{style:{marginBottom:14},children:[e.jsx("label",{style:{fontSize:11,color:"#666",textTransform:"uppercase",fontWeight:600,marginBottom:8,display:"block"},children:"Avatar Style"}),e.jsx(en,{selected:o.dicebearStyle||"thumbs",onSelect:b=>d("dicebearStyle",b),isPremium:r})]}),e.jsx("button",{onClick:y,style:{width:"100%",padding:"10px 16px",background:"linear-gradient(135deg, rgba(157, 78, 221, 0.2), rgba(0, 212, 255, 0.2))",border:"1px solid rgba(157, 78, 221, 0.4)",borderRadius:8,color:"#c084fc",fontSize:13,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s"},children:"ðŸŽ² Randomize"})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:14,border:"1px solid rgba(255,255,255,0.08)",padding:12,maxHeight:320,overflowY:"auto"},children:[e.jsx(He,{title:"Face & Skin",icon:"ðŸ‘¤",isOpen:h==="face",onToggle:()=>x("face"),children:e.jsxs("div",{style:{marginBottom:10},children:[e.jsx("div",{style:{fontSize:10,color:"#666",marginBottom:6,fontWeight:600},children:"SKIN TONE"}),e.jsx(We,{options:L.skinTone,selected:o.skinTone,onSelect:b=>d("skinTone",b),type:"color"})]})}),e.jsxs(He,{title:"Hair",icon:"ðŸ’‡",isOpen:h==="hair",onToggle:()=>x("hair"),children:[e.jsxs("div",{style:{marginBottom:10},children:[e.jsx("div",{style:{fontSize:10,color:"#666",marginBottom:6,fontWeight:600},children:"HAIR STYLE"}),e.jsx(We,{options:L.hairStyle,selected:o.hairStyle,onSelect:b=>d("hairStyle",b)})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:10,color:"#666",marginBottom:6,fontWeight:600},children:"HAIR COLOR"}),e.jsx(We,{options:L.hairColor,selected:o.hairColor,onSelect:b=>d("hairColor",b),type:"color"})]})]}),e.jsx(He,{title:"Clothing & Style",icon:"ðŸ‘”",isOpen:h==="clothing",onToggle:()=>x("clothing"),children:e.jsx(We,{options:L.clothing,selected:o.clothing,onSelect:b=>d("clothing",b)})}),e.jsx(He,{title:"Accessories",icon:"ðŸ•¶ï¸",isOpen:h==="accessories",onToggle:()=>x("accessories"),children:e.jsx(We,{options:L.accessories,selected:o.accessories,onSelect:b=>d("accessories",b)})}),e.jsx(He,{title:"Background",icon:"ðŸŽ¨",isOpen:h==="background",onToggle:()=>x("background"),children:e.jsx(We,{options:L.background,selected:o.background,onSelect:b=>d("background",b),type:"color"})})]})]}),!r&&e.jsx("div",{style:{marginTop:12,padding:12,background:"rgba(249, 115, 22, 0.08)",border:"1px solid rgba(249, 115, 22, 0.25)",borderRadius:10,fontSize:12,color:"#f97316",textAlign:"center"},children:"Upgrade to Premium to unlock all customization options!"})]}),e.jsxs("div",{style:{display:"flex",gap:12,padding:16,borderTop:"1px solid rgba(255,255,255,0.08)",background:"#141414"},children:[e.jsx("button",{onClick:t,style:{flex:1,padding:"12px 20px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:10,color:"#888",fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"Cancel"}),e.jsx("button",{onClick:l,style:{flex:1,padding:"12px 20px",background:"linear-gradient(135deg, #00D4FF, #9D4EDD)",border:"none",borderRadius:10,color:"white",fontSize:14,fontWeight:600,cursor:"pointer",boxShadow:"0 0 20px rgba(0, 212, 255, 0.3)",transition:"all 0.2s"},children:"Save Avatar"})]})]}),e.jsx("style",{children:`
        @media (max-width: 768px) {
          .avatar-bento-grid {
            grid-template-columns: 1fr !important;
            grid-template-rows: auto !important;
          }
          .avatar-bento-grid > div:first-child {
            grid-row: span 1 !important;
          }
        }
      `})]}):null}const na="pulse-user-avatar",za="pulse-avatar-mode",wt=n.createContext(null);function $n({children:a}){const[t,i]=n.useState(()=>{try{const f=localStorage.getItem(na);if(f){const u=JSON.parse(f);return{...Ce,...u}}return Ce}catch{return Ce}}),[r,o]=n.useState(()=>{try{return localStorage.getItem(za)==="agent"?"agent":"custom"}catch{return"custom"}}),c=n.useCallback(f=>{i(f);try{localStorage.setItem(na,JSON.stringify(f))}catch(u){console.error("Failed to save avatar to localStorage:",u)}},[]),h=n.useCallback((f,u)=>{i(j=>{const v={...j,[f]:u};try{localStorage.setItem(na,JSON.stringify(v))}catch(z){console.error("Failed to save avatar to localStorage:",z)}return v})},[]),p=n.useCallback(()=>{o(f=>{const u=f==="custom"?"agent":"custom";try{localStorage.setItem(za,u)}catch(j){console.error("Failed to save avatar mode to localStorage:",j)}return u})},[]),d=n.useCallback(f=>{if(f==="custom"||f==="agent"){o(f);try{localStorage.setItem(za,f)}catch(u){console.error("Failed to save avatar mode to localStorage:",u)}}},[]),l=n.useCallback((f=200)=>e.jsx("div",{style:{width:f,height:f},children:e.jsx(jt,{avatar:t,size:f})}),[t]),y=n.useMemo(()=>function({size:u=40,showName:j=!1}){const v=L.background.find(M=>M.id===t.background)||L.background[0],z=la(t,u);return e.jsxs("div",{style:{width:u,height:u,borderRadius:"50%",background:v.color,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",position:"relative"},children:[e.jsx("img",{src:z,alt:t.name||"Avatar",style:{width:"90%",height:"90%",objectFit:"contain"}}),j&&e.jsx("div",{style:{position:"absolute",bottom:-20,left:"50%",transform:"translateX(-50%)",fontSize:10,color:"white",whiteSpace:"nowrap"},children:t.name})]})},[t]),x=n.useCallback(()=>{i(Ce);try{localStorage.setItem(na,JSON.stringify(Ce))}catch(f){console.error("Failed to reset avatar in localStorage:",f)}},[]),b=n.useMemo(()=>({avatar:t,mode:r,isCustomMode:r==="custom",isAgentMode:r==="agent",updateAvatar:c,updateAvatarField:h,toggleMode:p,setAvatarMode:d,getAvatarPreview:l,AvatarComponent:y,resetAvatar:x,avatarOptions:L,defaultAvatar:Ce,buildDicebearUrl:la}),[t,r,c,h,p,d,l,y,x]);return e.jsx(wt.Provider,{value:b,children:a})}function kt(){const a=n.useContext(wt);if(!a)throw new Error("useAvatar must be used within an AvatarProvider");return a}function ot({size:a=32,onClick:t=null,showFallback:i=!0}){const{avatar:r,isCustomMode:o}=kt(),c=L.background.find(p=>p.id===r.background)||L.background[0];if(!o&&i)return e.jsx("div",{onClick:t,style:{width:a,height:a,borderRadius:"50%",background:"linear-gradient(135deg, #FFA500, #FF6B00)",display:"flex",alignItems:"center",justifyContent:"center",cursor:t?"pointer":"default",boxShadow:"0 2px 8px rgba(255, 165, 0, 0.3)",fontSize:a*.5},children:"ðŸ±"});const h=la(r,a*2);return e.jsx("div",{onClick:t,style:{width:a,height:a,borderRadius:"50%",background:c.color,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:t?"pointer":"default",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",border:"2px solid rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:h,alt:r.name||"Avatar",style:{width:"90%",height:"90%",objectFit:"contain"}})})}function ye({title:a,icon:t,children:i,isOpen:r,onToggle:o}){return e.jsxs("div",{className:`accordion-item ${r?"open":""}`,children:[e.jsxs("button",{className:"accordion-header",onClick:o,children:[e.jsxs("span",{className:"accordion-title",children:[t&&e.jsx("span",{children:t}),a]}),e.jsx("span",{className:"accordion-arrow",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"14",height:"14",stroke:"currentColor",strokeWidth:"2",fill:"none",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),e.jsx("div",{className:"accordion-content",children:e.jsx("div",{className:"accordion-body",children:i})})]})}function tn({children:a,singleOpen:t=!0,defaultOpen:i=null}){const[r,o]=n.useState(i!==null?[i]:[]),c=Array.isArray(a)?a:[a],h=p=>{o(t?d=>d.includes(p)?[]:[p]:d=>d.includes(p)?d.filter(l=>l!==p):[...d,p])};return e.jsx("div",{className:"accordion",children:c.map((p,d)=>p.type===ye?e.jsx(ye,{...p.props,isOpen:r.includes(d),onToggle:()=>h(d)},d):p)})}const ca={Address:{category:"Crypto",smartass:"Your blockchain mailbox. If you lose it, you're emotionally homeless.",plain:"A unique string used to send or receive crypto assets, like a bank account number.",pose:"neutral"},Airdrop:{category:"Crypto",smartass:"Free tokens raining from the sky. Usually followed by disappointment.",plain:"Distribution of free tokens to promote a project or reward users.",pose:"sideeye"},Altcoin:{category:"Crypto",smartass:"Anything that's not Bitcoin. Some are brilliant. Most are memes.",plain:"Any cryptocurrency other than Bitcoin.",pose:"sideeye"},APR:{category:"Finance",smartass:"Annual Pain Rate. What you earn before compounding. Still not enough.",plain:"Annual interest rate earned on investments, excluding compounding.",pose:"neutral"},APY:{category:"Finance",smartass:"Annual Profit You'll never see. Includes compounding. Still disappointing.",plain:"Annual return on investment including compounding interest.",pose:"sideeye"},ATH:{category:"Crypto",smartass:"All-Time High. The moment you brag and forget to sell.",plain:"The highest price ever reached by an asset.",pose:"fist"},ATL:{category:"Crypto",smartass:"All-Time Low. The moment you disappear from Discord.",plain:"The lowest price ever reached by an asset.",pose:"facepalm"},"Bear Market":{category:"Finance",smartass:"Prices falling. Everyone's grumpy. Crypto Cat thrives here.",plain:"A market condition where asset prices decline over time.",pose:"walking"},Blockchain:{category:"Crypto",smartass:"A permanent receipt for everything. Like your browser history, but worse.",plain:"A decentralized, distributed digital ledger that records transactions.",pose:"neutral"},Bluechip:{category:"Crypto",smartass:"Crypto royalty. BTC, ETH, SOL. Emotionally stable-ish.",plain:"Established, high-value cryptocurrencies with strong reputations.",pose:"thumbsup"},"Bull Market":{category:"Finance",smartass:"Prices rising. Everyone's a genius. Until they're not.",plain:"A market condition where asset prices increase over time.",pose:"fist"},Burn:{category:"Crypto",smartass:"Token destruction ritual. Emotional cleansing for supply control.",plain:"The process of permanently removing tokens from circulation.",pose:"pointing"},DeFi:{category:"Crypto",smartass:"Finance without suits. Same greed, fewer middlemen.",plain:"Decentralized Finance - financial services built on blockchain technology.",pose:"neutral"},DEX:{category:"Crypto",smartass:"Decentralized exchange. Trade with strangers, trust the code.",plain:"A peer-to-peer exchange that doesn't require a central authority.",pose:"neutral"},"Diamond Hands":{category:"Crypto Slang",smartass:"Refusing to sell. Either brave or delusional. Time will tell.",plain:"Holding an asset through extreme volatility without selling.",pose:"fist"},DYOR:{category:"Crypto Slang",smartass:"Do Your Own Research. What people say before you lose money.",plain:"Advice to research before investing rather than following others.",pose:"pointing"},EMA:{category:"Technical Analysis",smartass:"Exponential Moving Average. The smooth talker of indicators.",plain:"A moving average that gives more weight to recent prices.",pose:"neutral"},"Fear & Greed Index":{category:"Crypto",smartass:"Emotional temperature of the market. Usually wrong at extremes.",plain:"An index measuring market sentiment from extreme fear to extreme greed.",pose:"sideeye"},FOMO:{category:"Crypto Slang",smartass:"Fear Of Missing Out. The reason you bought at the top.",plain:"Anxiety that others are making money while you're not participating.",pose:"facepalm"},FUD:{category:"Crypto Slang",smartass:"Fear, Uncertainty, Doubt. When Twitter becomes a horror show.",plain:"Negative information spread to cause panic selling.",pose:"sideeye"},Gas:{category:"Crypto",smartass:"Transaction fees. The blockchain's appetite for your money.",plain:"The fee required to execute transactions on a blockchain network.",pose:"pointing"},HODL:{category:"Crypto Slang",smartass:"Hold On for Dear Life. A typo that became a religion.",plain:"Long-term holding strategy regardless of market conditions.",pose:"fist"},Leverage:{category:"Finance",smartass:"Borrowed money to amplify gains. Or losses. Mostly losses.",plain:"Using borrowed capital to increase potential returns on investment.",pose:"pointing"},Liquidity:{category:"Finance",smartass:"How easily you can sell without crashing the price. Usually not enough.",plain:"The ease with which an asset can be bought or sold without affecting its price.",pose:"neutral"},MACD:{category:"Technical Analysis",smartass:"Moving Average Convergence Divergence. Sounds smart, often lies.",plain:"A momentum indicator showing relationship between two moving averages.",pose:"neutral"},"Market Cap":{category:"Crypto",smartass:"Total value if everyone could sell at once. Spoiler: they can't.",plain:"Total market value of a cryptocurrency (price x circulating supply).",pose:"neutral"},Moon:{category:"Crypto Slang",smartass:"Extreme price increase. Where all your coins are supposedly going.",plain:"Significant upward price movement in a cryptocurrency.",pose:"fist"},NFT:{category:"Crypto",smartass:"Non-Fungible Token. Digital receipts for JPEGs. Some worth millions.",plain:"Unique digital assets representing ownership of specific items.",pose:"neutral"},"Paper Hands":{category:"Crypto Slang",smartass:"Selling at the first sign of trouble. The opposite of diamond hands.",plain:"Selling assets quickly when prices drop due to fear.",pose:"facepalm"},"Pump and Dump":{category:"Crypto",smartass:"Artificially inflate, sell to idiots, disappear. Classic scam.",plain:"A scheme where the price is inflated before insiders sell their holdings.",pose:"pointing"},Resistance:{category:"Technical Analysis",smartass:"Price ceiling where sellers gather. Like a party, but sadder.",plain:"A price level where an asset tends to face selling pressure.",pose:"neutral"},RSI:{category:"Technical Analysis",smartass:"Relative Strength Index. 0-100 scale of market emotions.",plain:"A momentum oscillator measuring speed and change of price movements.",pose:"neutral"},"Rug Pull":{category:"Crypto",smartass:"Developers steal everything and vanish. Welcome to DeFi.",plain:"A scam where developers abandon a project and take investors' funds.",pose:"facepalm"},"Seed Phrase":{category:"Crypto",smartass:"12-24 magic words. Lose them and your crypto is gone forever.",plain:"A series of words that can be used to recover a cryptocurrency wallet.",pose:"pointing"},Slippage:{category:"Finance",smartass:"The difference between expected and actual price. Always worse.",plain:"The difference between expected and executed trade price.",pose:"sideeye"},"Smart Contract":{category:"Crypto",smartass:"Code that executes automatically. Until it gets hacked.",plain:"Self-executing contracts with terms written directly into code.",pose:"neutral"},Staking:{category:"Crypto",smartass:"Lock up tokens, earn rewards. Like a savings account, but riskier.",plain:"Locking cryptocurrency to support network operations and earn rewards.",pose:"thumbsup"},Support:{category:"Technical Analysis",smartass:"Price floor where buyers gather. Until it breaks.",plain:"A price level where an asset tends to find buying interest.",pose:"neutral"},Volatility:{category:"Finance",smartass:"Wild price swings. The reason crypto is exciting and terrifying.",plain:"The degree of price variation in an asset over time.",pose:"sideeye"},Volume:{category:"Finance",smartass:"How much is being traded. More volume = more conviction.",plain:"The total amount of an asset traded during a specific period.",pose:"neutral"},Wallet:{category:"Crypto",smartass:"Your digital vault. Cold or hot, just don't lose the keys.",plain:"Software or hardware used to store and manage cryptocurrency.",pose:"neutral"},Whale:{category:"Crypto",smartass:"Someone with enough crypto to move markets. Probably not you.",plain:"An individual or entity holding a large amount of cryptocurrency.",pose:"pointing"},"Yield Farming":{category:"DeFi",smartass:"Chasing the highest APY. Like musical chairs with your money.",plain:"Strategies to maximize returns by moving assets between DeFi protocols.",pose:"sideeye"}},Un=["All","Crypto","Finance","DeFi","Technical Analysis","Crypto Slang"];function nn(a){const t=Object.keys(ca).find(i=>i.toLowerCase()===a.toLowerCase());return t?{term:t,...ca[t]}:null}function Hn(a){if(!a)return Object.entries(ca).map(([i,r])=>({term:i,...r}));const t=a.toLowerCase();return Object.entries(ca).filter(([i,r])=>i.toLowerCase().includes(t)||r.plain.toLowerCase().includes(t)||r.smartass.toLowerCase().includes(t)).map(([i,r])=>({term:i,...r}))}const lt="pulse-sass-mode",St=n.createContext(null);function Vn({children:a}){const[t,i]=n.useState(null),[r,o]=n.useState({x:0,y:0}),[c,h]=n.useState(()=>localStorage.getItem(lt)!=="false"),[p,d]=n.useState([]),l=n.useCallback((f,u)=>{const j=nn(f);if(!j)return;let v=0,z=0;if(u){const M=u.target.getBoundingClientRect();v=M.left+M.width/2,z=M.bottom+8,v>window.innerWidth-180&&(v=window.innerWidth-180),v<20&&(v=20),z>window.innerHeight-200&&(z=M.top-8)}o({x:v,y:z}),i(j)},[]),y=n.useCallback(()=>{i(null)},[]),x=n.useCallback(()=>{h(f=>{const u=!f;return localStorage.setItem(lt,String(u)),window.dispatchEvent(new CustomEvent("pulse-sass-mode-changed",{detail:u})),u})},[]),b=n.useCallback(f=>(d(u=>[...u,f]),()=>{d(u=>u.filter(j=>j!==f))}),[]);return n.useEffect(()=>{t&&p.forEach(f=>f(t))},[t,p]),e.jsx(St.Provider,{value:{activeTerm:t,position:r,sassMode:c,showDefinition:l,hideDefinition:y,toggleSassMode:x,onTermShow:b},children:a})}function Gn(){const a=n.useContext(St);if(!a)throw new Error("useGlossary must be used within a GlossaryProvider");return a}const S="v2",Wa=[{id:1,name:"Agent Marcus",gender:"male",race:"black",age:"young",hair:"fade",build:"athletic",image:`/agents/marcus_pixar-style_friendly_agent.png?${S}`},{id:2,name:"Agent Aria",gender:"female",race:"asian",age:"young",hair:"black-long",build:"petite",image:`/agents/aria_pixar-style_friendly_agent.png?${S}`},{id:3,name:"Agent Devon",gender:"male",race:"mixed",age:"young",hair:"brown",build:"athletic",image:`/agents/devon_pixar-style_friendly_agent.png?${S}`},{id:4,name:"Agent Claire",gender:"female",race:"white",age:"young",hair:"blonde",build:"athletic",image:`/agents/claire_pixar-style_friendly_agent.png?${S}`},{id:5,name:"Agent Gloria",gender:"female",race:"black",age:"senior",hair:"gray",build:"elegant",image:`/agents/african_american_female_agent.png?${S}`},{id:6,name:"Agent Raj",gender:"male",race:"indian",age:"young",hair:"black",build:"slim",image:`/agents/asian_male_agent_headshot.png?${S}`},{id:7,name:"Agent Layla",gender:"female",race:"middle-eastern",age:"middle",hair:"dark-wavy",build:"medium",image:`/agents/middle-aged_middle_eastern_woman.png?${S}`},{id:8,name:"Agent James",gender:"male",race:"white",age:"middle",hair:"brown-gray",build:"athletic",facial:"beard",image:`/agents/middle-aged_white_man_beard.png?${S}`},{id:9,name:"Agent Walter",gender:"male",race:"white",age:"senior",hair:"bald",build:"stocky",image:`/agents/african_american_bald_male.png?${S}`},{id:10,name:"Agent Ken",gender:"male",race:"asian",age:"young",hair:"undercut",build:"slim",image:`/agents/asian_male_agent_headshot.png?${S}`},{id:11,name:"Agent Sarah",gender:"female",race:"white",age:"young",hair:"blonde-ponytail",build:"tall-athletic",image:`/agents/caucasian_blonde_female.png?${S}`},{id:12,name:"Agent Darius",gender:"male",race:"black",age:"middle",hair:"bald",build:"muscular",facial:"goatee",image:`/agents/middle-aged_black_man_goatee_bald.png?${S}`},{id:13,name:"Agent Emma",gender:"female",race:"white",age:"young",hair:"red-pixie",build:"petite",image:`/agents/caucasian_red-haired_female.png?${S}`},{id:14,name:"Agent Carlos",gender:"male",race:"hispanic",age:"senior",hair:"gray",build:"medium",facial:"mustache",image:`/agents/latino_male_agent.png?${S}`},{id:15,name:"Agent Zara",gender:"female",race:"black",age:"young",hair:"natural-afro",build:"curvy",image:`/agents/african_american_female_agent.png?${S}`},{id:16,name:"Agent Priya",gender:"female",race:"indian",age:"young",hair:"brown-long",build:"curvy",image:`/agents/asian_female_agent.png?${S}`},{id:17,name:"Agent Richard",gender:"male",race:"white",age:"middle",hair:"gray",build:"heavyset",facial:"full-beard",image:`/agents/middle-aged_white_man_gray_beard_heavyset.png?${S}`},{id:18,name:"Agent Koa",gender:"male",race:"polynesian",age:"young",hair:"black-bun",build:"muscular",image:`/agents/mixed_black-latino_male.png?${S}`},{id:19,name:"Agent Yuki",gender:"female",race:"asian",age:"senior",hair:"white-updo",build:"slim-petite",image:`/agents/middle-aged_japanese_woman_bob_cut.png?${S}`},{id:20,name:"Agent Ryan",gender:"male",race:"white",age:"young",hair:"brown-wavy",build:"athletic",facial:"stubble",image:`/agents/caucasian_brown-haired_male.png?${S}`},{id:21,name:"Agent Kwame",gender:"male",race:"african",age:"young",hair:"black-designs",build:"tall-slim",image:`/agents/african_american_bald_male.png?${S}`},{id:22,name:"Agent Akiko",gender:"female",race:"japanese",age:"middle",hair:"black-bob",build:"slim",image:`/agents/middle-aged_japanese_woman_bob_cut.png?${S}`},{id:23,name:"Agent Blake",gender:"male",race:"white",age:"young",hair:"platinum-spiky",build:"medium",image:`/agents/caucasian_blonde_male_agent.png?${S}`},{id:24,name:"Agent Earl",gender:"male",race:"black",age:"senior",hair:"white",build:"medium",image:`/agents/african_american_bald_male.png?${S}`},{id:25,name:"Agent Luna",gender:"female",race:"hispanic",age:"young",hair:"dark-highlights",build:"petite-slim",image:`/agents/latina_female_agent.png?${S}`},{id:26,name:"Agent Sofia",gender:"female",race:"hispanic",age:"young",hair:"brown-curly",build:"curvy",image:`/agents/latina_female_agent.png?${S}`},{id:27,name:"Agent Mei",gender:"female",race:"asian",age:"young",hair:"black-long",build:"petite",image:`/agents/asian_female_agent.png?${S}`},{id:28,name:"Agent Tyler",gender:"male",race:"white",age:"young",hair:"brown",build:"athletic",image:`/agents/caucasian_brown-haired_male.png?${S}`},{id:29,name:"Agent Aisha",gender:"female",race:"black",age:"young",hair:"braids",build:"athletic",image:`/agents/african_american_female_agent.png?${S}`},{id:30,name:"Agent Nina",gender:"female",race:"mixed",age:"young",hair:"curly",build:"slim",image:`/agents/mixed_black-caucasian_female.png?${S}`},{id:31,name:"Agent Chen",gender:"male",race:"asian",age:"middle",hair:"black",build:"medium",image:`/agents/asian_male_agent_headshot.png?${S}`},{id:32,name:"Agent Rosa",gender:"female",race:"hispanic",age:"middle",hair:"dark",build:"medium",image:`/agents/latina_female_agent.png?${S}`},{id:33,name:"Agent Victor",gender:"male",race:"white",age:"senior",hair:"gray",build:"distinguished",image:`/agents/middle-aged_white_man_gray_beard_heavyset.png?${S}`},{id:34,name:"Agent Maya",gender:"female",race:"indian",age:"middle",hair:"dark-long",build:"elegant",image:`/agents/asian_female_agent.png?${S}`},{id:35,name:"Agent Dante",gender:"male",race:"hispanic",age:"young",hair:"dark",build:"muscular",image:`/agents/latino_male_agent.png?${S}`},{id:36,name:"Agent Mia",gender:"female",race:"mixed",age:"young",hair:"wavy",build:"athletic",image:`/agents/mixed_latina-asian_female.png?${S}`},{id:37,name:"Agent Oscar",gender:"male",race:"black",age:"young",hair:"locs",build:"athletic",image:`/agents/african_american_bald_male.png?${S}`},{id:38,name:"Agent Hannah",gender:"female",race:"white",age:"young",hair:"brown",build:"petite",image:`/agents/caucasian_brown-haired_female.png?${S}`},{id:39,name:"Agent Leo",gender:"male",race:"mixed",age:"young",hair:"curly",build:"slim",image:`/agents/mixed_black-caucasian_male.png?${S}`},{id:40,name:"Agent Fatima",gender:"female",race:"middle-eastern",age:"young",hair:"dark",build:"slim",image:`/agents/middle-aged_middle_eastern_woman.png?${S}`},{id:41,name:"Agent Jordan",gender:"male",race:"black",age:"middle",hair:"short",build:"athletic",image:`/agents/middle-aged_black_man_goatee_bald.png?${S}`},{id:42,name:"Agent Olivia",gender:"female",race:"white",age:"young",hair:"blonde",build:"tall",image:`/agents/caucasian_blonde_female.png?${S}`},{id:43,name:"Agent Sam",gender:"male",race:"asian",age:"young",hair:"styled",build:"slim",image:`/agents/asian_male_agent_headshot.png?${S}`},{id:44,name:"Agent Keisha",gender:"female",race:"black",age:"middle",hair:"natural",build:"curvy",image:`/agents/african_american_female_agent.png?${S}`},{id:45,name:"Agent Miguel",gender:"male",race:"hispanic",age:"middle",hair:"dark",build:"stocky",image:`/agents/latino_male_agent.png?${S}`},{id:46,name:"Agent Lily",gender:"female",race:"asian",age:"young",hair:"straight",build:"petite",image:`/agents/asian_female_agent.png?${S}`},{id:47,name:"Agent Nathan",gender:"male",race:"white",age:"young",hair:"red",build:"athletic",image:`/agents/caucasian_redhead_male_agent.png?${S}`},{id:48,name:"Agent Jade",gender:"female",race:"mixed",age:"young",hair:"dark",build:"athletic",image:`/agents/mixed_asian-caucasian_female.png?${S}`},{id:49,name:"Agent Kofi",gender:"male",race:"african",age:"young",hair:"short",build:"tall",image:`/agents/african_american_bald_male.png?${S}`},{id:50,name:"Agent Isabella",gender:"female",race:"hispanic",age:"young",hair:"long",build:"slim",image:`/agents/latina_female_agent.png?${S}`},{id:51,name:"Agent Andre",gender:"male",race:"black",age:"young",hair:"fade",build:"tall",image:`/agents/african_american_bald_male.png?${S}`},{id:52,name:"Agent Grace",gender:"female",race:"white",age:"middle",hair:"auburn",build:"elegant",image:`/agents/caucasian_red-haired_female.png?${S}`},{id:53,name:"Agent Jin",gender:"male",race:"asian",age:"young",hair:"black",build:"athletic",image:`/agents/asian_male_agent_headshot.png?${S}`},{id:54,name:"Agent Serena",gender:"female",race:"black",age:"young",hair:"long",build:"tall",image:`/agents/african_american_female_agent.png?${S}`}],ct=[{id:1,name:"Agent Marcus",image:`/agents/pixar/marcus.png?${S}`},{id:2,name:"Agent Aria",image:`/agents/pixar/aria.png?${S}`},{id:3,name:"Agent Devon",image:`/agents/pixar/devon.png?${S}`},{id:4,name:"Agent Claire",image:`/agents/pixar/claire.png?${S}`},{id:5,name:"CryptoCat",image:`/agents/pixar/cryptocat.png?${S}`}],rn=()=>Wa[Math.floor(Math.random()*Wa.length)],Ft=n.createContext({isTelegram:!1,telegramUser:null,isReady:!1,webApp:null,platform:null,themeParams:null,colorScheme:"dark"});function qn({children:a}){const[t,i]=n.useState(!1),[r,o]=n.useState(null),[c,h]=n.useState(null),[p,d]=n.useState(null),[l,y]=n.useState("dark"),x=n.useMemo(()=>typeof window>"u"?null:window.Telegram?.WebApp||null,[]),b=n.useMemo(()=>typeof window>"u"?!1:new URLSearchParams(window.location.search).get("tg")==="1"?!0:!!window.Telegram?.WebApp?.initData,[]);n.useEffect(()=>{if(typeof window>"u")return;if(new URLSearchParams(window.location.search).get("tg")==="1"&&!x){o({id:123456789,first_name:"Test",last_name:"User",username:"testuser",language_code:"en",is_premium:!1}),d("web"),h({bg_color:"#1a1a2e",text_color:"#ffffff",hint_color:"#aaaaaa",link_color:"#00d4ff",button_color:"#00d4ff",button_text_color:"#ffffff"}),y("dark"),i(!0);return}if(!x){i(!0);return}try{x.ready(),x.expand();const v=x.initDataUnsafe;v?.user&&o({id:v.user.id,first_name:v.user.first_name||"",last_name:v.user.last_name||"",username:v.user.username||"",language_code:v.user.language_code||"en",is_premium:v.user.is_premium||!1,photo_url:v.user.photo_url||null});const z=x.platform||"unknown";d(z),x.themeParams&&h(x.themeParams),y(x.colorScheme||"dark"),x.onEvent?.("themeChanged",()=>{x.themeParams&&h({...x.themeParams}),y(x.colorScheme||"dark")}),i(!0)}catch(v){console.error("Error initializing Telegram WebApp:",v),i(!0)}},[x]);const f=n.useMemo(()=>({isTelegram:b,telegramUser:r,isReady:t,webApp:x,platform:p,themeParams:c,colorScheme:l}),[b,r,t,x,p,c,l]);return e.jsx(Ft.Provider,{value:f,children:a})}function sn(){const a=n.useContext(Ft);if(a===void 0)throw new Error("useTelegram must be used within a TelegramProvider");return a}const on={free:0,base:1,"rm-plus":2,founder:3,premium:4},dt=n.createContext(null);function pt(a){return on[a]??0}function ln(a,t){return pt(a)>=pt(t)}function cn({isOpen:a,onClose:t,featureName:i,requiredTier:r}){const{webApp:o,isTelegram:c}=sn();if(!a)return null;const h={base:"Base","rm-plus":"RM+",founder:"Legacy Founder",premium:"Premium"},p=()=>{const l="/pricing";c&&o?.openLink?o.openLink(window.location.origin+l):window.location.href=l,t()},d=l=>{l.target===l.currentTarget&&t()};return e.jsxs("div",{className:"subscription-gate-modal-backdrop",onClick:d,children:[e.jsxs("div",{className:"subscription-gate-modal",children:[e.jsx("button",{className:"subscription-gate-modal-close",onClick:t,children:"Ã—"}),e.jsx("div",{className:"subscription-gate-modal-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),e.jsxs("h2",{className:"subscription-gate-modal-title",children:["Unlock ",i||"Premium Feature"]}),e.jsxs("p",{className:"subscription-gate-modal-description",children:["This feature requires a ",e.jsx("strong",{children:h[r]||r})," subscription or higher. Upgrade now to unlock this and many more premium features!"]}),e.jsxs("div",{className:"subscription-gate-modal-benefits",children:[e.jsxs("div",{className:"subscription-gate-benefit",children:[e.jsx("span",{className:"subscription-gate-benefit-icon",children:"âœ“"}),e.jsx("span",{children:"Advanced AI Analysis"})]}),e.jsxs("div",{className:"subscription-gate-benefit",children:[e.jsx("span",{className:"subscription-gate-benefit-icon",children:"âœ“"}),e.jsx("span",{children:"StrikeAgent Trading Bot"})]}),e.jsxs("div",{className:"subscription-gate-benefit",children:[e.jsx("span",{className:"subscription-gate-benefit-icon",children:"âœ“"}),e.jsx("span",{children:"Real-time Alerts"})]})]}),e.jsx("button",{className:"subscription-gate-modal-cta",onClick:p,children:"Subscribe to Unlock"}),e.jsx("button",{className:"subscription-gate-modal-secondary",onClick:t,children:"Maybe Later"})]}),e.jsx("style",{children:`
        .subscription-gate-modal-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.8);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
          animation: fadeIn 0.2s ease;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        .subscription-gate-modal {
          background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
          border: 1px solid rgba(0, 212, 255, 0.3);
          border-radius: 16px;
          padding: 32px;
          max-width: 400px;
          width: 100%;
          text-align: center;
          position: relative;
          animation: slideUp 0.3s ease;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(0, 212, 255, 0.1);
        }
        
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        
        .subscription-gate-modal-close {
          position: absolute;
          top: 12px;
          right: 12px;
          background: transparent;
          border: none;
          color: rgba(255, 255, 255, 0.6);
          font-size: 24px;
          cursor: pointer;
          padding: 4px 8px;
          line-height: 1;
          transition: color 0.2s;
        }
        
        .subscription-gate-modal-close:hover {
          color: #fff;
        }
        
        .subscription-gate-modal-icon {
          color: #00d4ff;
          margin-bottom: 16px;
        }
        
        .subscription-gate-modal-title {
          font-size: 1.5rem;
          font-weight: 700;
          color: #fff;
          margin: 0 0 12px 0;
        }
        
        .subscription-gate-modal-description {
          color: rgba(255, 255, 255, 0.7);
          font-size: 0.95rem;
          line-height: 1.5;
          margin: 0 0 20px 0;
        }
        
        .subscription-gate-modal-description strong {
          color: #00d4ff;
        }
        
        .subscription-gate-modal-benefits {
          background: rgba(0, 212, 255, 0.05);
          border-radius: 12px;
          padding: 16px;
          margin-bottom: 24px;
        }
        
        .subscription-gate-benefit {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 8px 0;
          color: rgba(255, 255, 255, 0.9);
          font-size: 0.9rem;
        }
        
        .subscription-gate-benefit-icon {
          color: #10b981;
          font-weight: bold;
        }
        
        .subscription-gate-modal-cta {
          width: 100%;
          background: linear-gradient(135deg, #00d4ff, #00a8cc);
          border: none;
          border-radius: 12px;
          color: #fff;
          font-size: 1rem;
          font-weight: 600;
          padding: 14px 24px;
          cursor: pointer;
          transition: transform 0.2s, box-shadow 0.2s;
          box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
        }
        
        .subscription-gate-modal-cta:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 25px rgba(0, 212, 255, 0.4);
        }
        
        .subscription-gate-modal-secondary {
          width: 100%;
          background: transparent;
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          color: rgba(255, 255, 255, 0.6);
          font-size: 0.9rem;
          padding: 12px 24px;
          cursor: pointer;
          margin-top: 12px;
          transition: background 0.2s, color 0.2s;
        }
        
        .subscription-gate-modal-secondary:hover {
          background: rgba(255, 255, 255, 0.05);
          color: rgba(255, 255, 255, 0.8);
        }
      `})]})}function Kn({children:a,requiredTier:t="rm-plus",featureName:i="",mode:r="overlay",currentTier:o}){const[c,h]=n.useState(!1),p=o||"free",d=ln(p,t),l=n.useMemo(()=>({currentTier:p,showUpgradeModal:()=>h(!0)}),[p]),y=f=>{d||(f.preventDefault(),f.stopPropagation(),h(!0))};if(d)return e.jsx(dt.Provider,{value:l,children:a});if(r==="hide")return null;const x={overlay:{container:{position:"relative",cursor:"pointer"},overlay:{position:"absolute",inset:0,background:"linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.7) 50%, rgba(0, 0, 0, 0.9) 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",padding:"20px",paddingBottom:"40px",borderRadius:"12px",zIndex:10},content:{opacity:.6,pointerEvents:"none"}},blur:{container:{position:"relative",cursor:"pointer"},overlay:{position:"absolute",inset:0,backdropFilter:"blur(8px)",background:"rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",borderRadius:"12px",zIndex:10},content:{filter:"blur(4px)",pointerEvents:"none"}}},b=x[r]||x.overlay;return e.jsxs(dt.Provider,{value:l,children:[e.jsxs("div",{style:b.container,onClick:y,children:[e.jsx("div",{style:b.content,children:a}),e.jsxs("div",{style:b.overlay,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#00d4ff",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),e.jsx("span",{style:{color:"#fff",fontSize:"0.9rem",fontWeight:"600"},children:i||"Premium Feature"})]}),e.jsx("button",{style:{background:"linear-gradient(135deg, #00d4ff, #00a8cc)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"0.85rem",fontWeight:"600",padding:"10px 20px",cursor:"pointer",boxShadow:"0 4px 15px rgba(0, 212, 255, 0.3)"},children:"Subscribe to Unlock"})]})]}),e.jsx(cn,{isOpen:c,onClose:()=>h(!1),featureName:i,requiredTier:t})]})}const Ma="/api";async function dn(a){try{const t=a.toLowerCase()==="btc"?"bitcoin":a.toLowerCase()==="eth"?"ethereum":a.toLowerCase()==="sol"?"solana":a.toLowerCase()==="xrp"?"ripple":a.toLowerCase()==="bnb"?"binancecoin":a.toLowerCase()==="doge"?"dogecoin":a.toLowerCase()==="ada"?"cardano":a.toLowerCase()==="trx"?"tron":a.toLowerCase()==="avax"?"avalanche-2":a.toLowerCase(),i=await fetch(`${Ma}/crypto/btc-history?days=30&coinId=${t}`);let r=[],o=0,c=0,h=0;if(i.ok){const l=await i.json();if(Array.isArray(l)&&l.length>0){r=l.map(x=>x.close||x[1]||x),o=r[r.length-1]||0;const y=r[Math.max(0,r.length-6)]||o;c=o-y,h=y>0?(o-y)/y*100:0}else if(l.prices&&l.prices.length>0){r=l.prices.map(x=>x[1]||x),o=r[r.length-1]||0;const y=r[Math.max(0,r.length-24)]||o;c=o-y,h=y>0?(o-y)/y*100:0}}if(r.length<10)return{success:!1,error:"Insufficient price data"};const p=await fetch(`${Ma}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticker:a.toUpperCase(),currentPrice:o,priceChange24h:c,priceChangePercent24h:h,prices:r})});if(!p.ok)throw new Error(`API error: ${p.status}`);const d=await p.json();return{success:!0,data:{rsi:d.rsi,macd:d.macd,ema9:d.ema9,ema21:d.ema21,ema50:d.ema50,ema200:d.ema200,sma50:d.sma50,sma200:d.sma200,bollingerBands:d.bollingerBands,support:d.support,resistance:d.resistance,recommendation:d.recommendation,signals:d.signals,signalCount:d.signalCount,volatility:d.volatility,spikeScore:d.spikeScore}}}catch(t){return console.error("[API] fetchCoinAnalysis failed:",t),{success:!1,error:t.message}}}async function Yn(){try{const a=await fetch(`${Ma}/crypto/coin-prices`);if(!a.ok)throw new Error(`API error: ${a.status}`);return{success:!0,predictions:(await a.json()).slice(0,3).map(r=>{const o=parseFloat(r.priceChangePercent24h||r.change24h||0);let c="HOLD",h=60;return o>5?(c="BUY",h=Math.min(85,65+Math.abs(o))):o<-5?(c="SELL",h=Math.min(85,65+Math.abs(o))):o>2?(c="BUY",h=55+Math.abs(o)*2):o<-2&&(c="SELL",h=55+Math.abs(o)*2),{symbol:r.symbol||r.ticker,name:r.name,price:r.price||r.currentPrice,change:o,signal:c,confidence:Math.round(h)}})}}catch(a){return console.error("[API] fetchTopPredictions failed:",a),{success:!1,predictions:[{symbol:"BTC",name:"Bitcoin",signal:"BUY",confidence:72,price:"$97,234",change:2.3},{symbol:"ETH",name:"Ethereum",signal:"HOLD",confidence:65,price:"$3,845",change:1.8},{symbol:"SOL",name:"Solana",signal:"SELL",confidence:58,price:"$242.50",change:-.5}]}}}const Se=[{id:"1S",label:"1S",days:0,isLive:!0},{id:"1D",label:"1D",days:1},{id:"7D",label:"7D",days:7},{id:"30D",label:"30D",days:30},{id:"1Y",label:"1Y",days:365},{id:"ALL",label:"ALL",days:"max"}],q={upColor:"#39FF14",downColor:"#FF4444",lineColor:"#00D4FF",areaTopColor:"rgba(0, 212, 255, 0.4)",areaBottomColor:"rgba(0, 212, 255, 0.05)"},Me={sma:"#FFD700",ema:"#FF6B9D"};function pn(a=30,t=100){const i=[],r=Math.floor(Date.now()/1e3),o=a<=1?3600:a<=7?3600*6:86400,c=a<=1?24:a<=7?28:Math.min(a,365);let h=t;for(let p=c-1;p>=0;p--){const d=r-p*o,y=(Math.random()-.5)*2*.03,x=h,b=x*(1+y),f=Math.max(x,b)*(1+Math.random()*.015),u=Math.min(x,b)*(1-Math.random()*.015);i.push({time:d,open:Math.round(x*100)/100,high:Math.round(f*100)/100,low:Math.round(u*100)/100,close:Math.round(b*100)/100}),h=b}return i}function gt(a,t){const i=[];for(let r=t-1;r<a.length;r++){let o=0;for(let c=0;c<t;c++)o+=a[r-c].close;i.push({time:a[r].time,value:o/t})}return i}function xt(a,t){const i=[],r=2/(t+1);let o=a[0].close;for(let c=0;c<a.length;c++)o=(a[c].close-o)*r+o,c>=t-1&&i.push({time:a[c].time,value:o});return i}function gn({children:a,isOpen:t,onClose:i}){return t?Qt.createPortal(e.jsx("div",{style:T.fullscreenOverlay,onClick:i,children:e.jsxs("div",{style:T.fullscreenContainer,onClick:r=>r.stopPropagation(),children:[e.jsx("button",{style:T.fullscreenClose,onClick:i,children:"âœ•"}),a]})}),document.body):null}function xn({coin:a,activeIndicators:t={},fullWidth:i=!1}){const r=n.useRef(null),o=n.useRef(null),c=n.useRef(null),h=n.useRef(null),p=n.useRef(null),d=n.useRef(null),[l,y]=n.useState("candlestick"),[x,b]=n.useState("7D"),[f,u]=n.useState(!1),[j,v]=n.useState([]),[z,M]=n.useState(!0),[Q,V]=n.useState({lastPrice:null,priceChange:null}),I=a?.symbol||"BTC",$=a?.price,G=!!t.sma,_=!!t.ema,te=n.useCallback(async()=>{const w=I?.toUpperCase()||"BTC";try{const B=w==="BTC"?"/api/crypto/btc-price":`/api/crypto/coin-price?symbol=${w}`,K=await fetch(B);if(K.ok){const ee=await K.json(),D=ee?.price||ee?.current_price;if(D){const E=Math.floor(Date.now()/1e3);v(Y=>{const X={time:E,open:D,high:D,low:D,close:D};if(Y.length===0)return d.current=D,[X];const k=[...Y],R=k[k.length-1];return E-R.time<1?(R.close=D,R.high=Math.max(R.high,D),R.low=Math.min(R.low,D)):(k.push(X),k.length>120&&k.shift()),k}),V(Y=>{const X=d.current?(D-d.current)/d.current*100:0;return{lastPrice:D,priceChange:X.toFixed(2)}})}}}catch{console.log("Live price fetch error")}},[I]);n.useEffect(()=>{let w=!1;const B=Se.find(ee=>ee.id===x);if(d.current=null,B?.isLive){v([]),M(!1);return}async function K(){const ee=B?.days==="max"?1825:B?.days||7,D=I?.toUpperCase()||"BTC";M(!0);try{const E=await fetch(`/api/crypto/coin-history?symbol=${D}&days=${ee}`);if(E.ok&&!w){const Y=await E.json();if(Y&&Y.length>0){v(Y),Y[0]&&(d.current=Y[0].open),M(!1);return}}}catch{console.log("API unavailable, using sample data")}if(!w){const E=parseFloat($?.replace(/[$,]/g,"")||100),Y=pn(ee,E);v(Y),Y[0]&&(d.current=Y[0].open),M(!1)}}return K(),()=>{w=!0}},[x,I,$]),n.useEffect(()=>{if(Se.find(B=>B.id===x)?.isLive){te();const B=setInterval(te,1e3);return()=>clearInterval(B)}},[x,te]),n.useEffect(()=>{if(j.length>0){const w=j[j.length-1],B=j[0],K=(w.close-B.open)/B.open*100;V({lastPrice:w.close,priceChange:K.toFixed(2)})}},[j]),n.useEffect(()=>{if(!r.current)return;let w=null,B=!0;try{if(c.current){try{c.current.remove()}catch{}c.current=null,h.current=null}if(w=nt(r.current,{layout:{background:{type:"solid",color:"transparent"},textColor:"rgba(255, 255, 255, 0.7)"},grid:{vertLines:{color:"rgba(255, 255, 255, 0.06)"},horzLines:{color:"rgba(255, 255, 255, 0.06)"}},crosshair:{mode:1,vertLine:{color:q.lineColor,width:1,style:2,labelBackgroundColor:q.lineColor},horzLine:{color:q.lineColor,width:1,style:2,labelBackgroundColor:q.lineColor}},rightPriceScale:{borderColor:"rgba(255, 255, 255, 0.1)",scaleMargins:{top:.1,bottom:.1}},timeScale:{borderColor:"rgba(255, 255, 255, 0.1)",timeVisible:!0,secondsVisible:!0},handleScale:{mouseWheel:!0,pinch:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,touch:!0}}),!B){w.remove();return}c.current=w;const K=Se.find(X=>X.id===x),ee=l==="candlestick"&&!K?.isLive;let D;ee?D=w.addSeries(rt,{upColor:q.upColor,downColor:q.downColor,borderUpColor:q.upColor,borderDownColor:q.downColor,wickUpColor:q.upColor,wickDownColor:q.downColor}):D=w.addSeries(it,{lineColor:q.lineColor,topColor:q.areaTopColor,bottomColor:q.areaBottomColor,lineWidth:2}),h.current=D;const E=()=>{if(r.current&&c.current)try{w.applyOptions({width:r.current.clientWidth,height:r.current.clientHeight})}catch{}};window.addEventListener("resize",E),E();const Y=setTimeout(()=>{E(),c.current&&c.current.timeScale().fitContent()},100);return()=>{if(clearTimeout(Y),B=!1,window.removeEventListener("resize",E),w)try{w.remove()}catch{}c.current=null,h.current=null}}catch(K){console.log("Chart initialization error:",K)}},[l,x]),n.useEffect(()=>{if(!(!h.current||!c.current))try{if(j.length>0){const w=Se.find(K=>K.id===x);l==="candlestick"&&!w?.isLive?h.current.setData(j):h.current.setData(j.map(K=>({time:K.time,value:K.close})))}if(G&&j.length>=20&&c.current){const w=gt(j,20);c.current.addSeries(ta,{color:Me.sma,lineWidth:1,lineStyle:0,priceLineVisible:!1}).setData(w)}if(_&&j.length>=12&&c.current){const w=xt(j,12);c.current.addSeries(ta,{color:Me.ema,lineWidth:1,lineStyle:0,priceLineVisible:!1}).setData(w)}c.current&&c.current.timeScale().fitContent()}catch(w){console.log("Chart data update error:",w)}},[j,l,x,G,_]),n.useEffect(()=>{if(!f||!o.current||j.length===0){if(p.current){try{p.current.remove()}catch{}p.current=null}return}const w=setTimeout(()=>{if(p.current)try{p.current.remove()}catch{}const B=nt(o.current,{layout:{background:{type:"solid",color:"transparent"},textColor:"rgba(255, 255, 255, 0.7)"},grid:{vertLines:{color:"rgba(255, 255, 255, 0.06)"},horzLines:{color:"rgba(255, 255, 255, 0.06)"}},crosshair:{mode:1,vertLine:{color:q.lineColor,width:1,style:2,labelBackgroundColor:q.lineColor},horzLine:{color:q.lineColor,width:1,style:2,labelBackgroundColor:q.lineColor}},rightPriceScale:{borderColor:"rgba(255, 255, 255, 0.1)",scaleMargins:{top:.1,bottom:.1}},timeScale:{borderColor:"rgba(255, 255, 255, 0.1)",timeVisible:!0,secondsVisible:!0},handleScale:{mouseWheel:!0,pinch:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,touch:!0}});p.current=B;const K=Se.find(D=>D.id===x);if(l==="candlestick"&&!K?.isLive?B.addSeries(rt,{upColor:q.upColor,downColor:q.downColor,borderUpColor:q.upColor,borderDownColor:q.downColor,wickUpColor:q.upColor,wickDownColor:q.downColor}).setData(j):B.addSeries(it,{lineColor:q.lineColor,topColor:q.areaTopColor,bottomColor:q.areaBottomColor,lineWidth:2}).setData(j.map(E=>({time:E.time,value:E.close}))),G&&j.length>=20){const D=gt(j,20);B.addSeries(ta,{color:Me.sma,lineWidth:1,priceLineVisible:!1}).setData(D)}if(_&&j.length>=12){const D=xt(j,12);B.addSeries(ta,{color:Me.ema,lineWidth:1,priceLineVisible:!1}).setData(D)}B.timeScale().fitContent();try{B.applyOptions({width:o.current.clientWidth,height:o.current.clientHeight})}catch{}},100);return()=>{if(clearTimeout(w),p.current){try{p.current.remove()}catch{}p.current=null}}},[f,j,l,x,G,_]);const J=I?.toUpperCase()||"BTC",{lastPrice:le,priceChange:H}=Q,Z=Se.find(w=>w.id===x)?.isLive,re=()=>{const w=[];return G&&w.push({name:"SMA(20)",color:Me.sma}),_&&w.push({name:"EMA(12)",color:Me.ema}),w.length===0?null:e.jsx("div",{style:T.indicatorLegend,children:w.map(B=>e.jsxs("span",{style:T.legendItem,children:[e.jsx("span",{style:{...T.legendDot,background:B.color}}),B.name]},B.name))})},me=i?"320px":"220px";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:T.container,children:[e.jsxs("div",{style:T.chartHeader,children:[e.jsxs("div",{style:T.chartTitle,children:[e.jsxs("span",{style:T.symbol,children:[J,"/USD"]}),Z&&e.jsxs("span",{style:T.liveBadge,children:[e.jsx("span",{style:T.liveDot}),"LIVE"]}),le&&e.jsxs("span",{style:T.priceInfo,children:[e.jsxs("span",{style:T.currentPrice,children:["$",le.toLocaleString()]}),H&&e.jsxs("span",{style:{...T.priceChange,color:parseFloat(H)>=0?"#39FF14":"#FF4444",background:parseFloat(H)>=0?"rgba(57, 255, 20, 0.15)":"rgba(255, 68, 68, 0.15)"},children:[parseFloat(H)>=0?"+":"",H,"%"]})]})]}),e.jsxs("div",{style:T.chartControls,children:[e.jsxs("div",{style:T.chartTypeToggle,children:[e.jsx("button",{style:{...T.toggleBtn,...l==="candlestick"?T.toggleBtnActive:{}},onClick:()=>y("candlestick"),title:"Candlestick",children:"ðŸ“Š"}),e.jsx("button",{style:{...T.toggleBtn,...l==="area"?T.toggleBtnActive:{}},onClick:()=>y("area"),title:"Area",children:"ðŸ“ˆ"})]}),e.jsx("div",{style:T.timeframeButtons,children:Se.map(w=>e.jsx("button",{style:{...T.tfBtn,...x===w.id?T.tfBtnActive:{},...w.isLive?T.tfBtnLive:{}},onClick:()=>b(w.id),children:w.label},w.id))}),e.jsx("button",{style:T.actionBtn,onClick:()=>u(!0),title:"Fullscreen",children:"â›¶"})]})]}),re(),e.jsxs("div",{style:{...T.chartWrapper,height:me},ref:r,children:[z&&!Z&&e.jsxs("div",{style:T.loading,children:[e.jsx("div",{style:T.spinner}),e.jsx("span",{children:"Loading chart..."})]}),Z&&j.length===0&&e.jsxs("div",{style:T.loading,children:[e.jsx("div",{style:T.spinner}),e.jsx("span",{children:"Connecting to live feed..."})]})]})]}),e.jsxs(gn,{isOpen:f,onClose:()=>u(!1),children:[e.jsxs("div",{style:T.fullscreenHeader,children:[e.jsxs("div",{style:T.chartTitle,children:[e.jsxs("span",{style:T.symbol,children:[J,"/USD"]}),Z&&e.jsxs("span",{style:T.liveBadge,children:[e.jsx("span",{style:T.liveDot}),"LIVE"]}),le&&e.jsx("span",{style:T.priceInfo,children:e.jsxs("span",{style:T.currentPrice,children:["$",le.toLocaleString()]})})]}),e.jsxs("div",{style:T.chartControls,children:[e.jsxs("div",{style:T.chartTypeToggle,children:[e.jsx("button",{style:{...T.toggleBtn,...l==="candlestick"?T.toggleBtnActive:{}},onClick:()=>y("candlestick"),children:"ðŸ“Š"}),e.jsx("button",{style:{...T.toggleBtn,...l==="area"?T.toggleBtnActive:{}},onClick:()=>y("area"),children:"ðŸ“ˆ"})]}),e.jsx("div",{style:T.timeframeButtons,children:Se.map(w=>e.jsx("button",{style:{...T.tfBtn,...x===w.id?T.tfBtnActive:{},...w.isLive?T.tfBtnLive:{}},onClick:()=>b(w.id),children:w.label},w.id))})]})]}),re(),e.jsx("div",{style:T.fullscreenChart,ref:o})]})]})}const T={container:{background:"linear-gradient(145deg, #0f0f0f 0%, #141414 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",marginBottom:"12px"},chartHeader:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"10px",marginBottom:"10px"},chartTitle:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},symbol:{fontSize:"16px",fontWeight:"700",color:"#fff"},liveBadge:{display:"flex",alignItems:"center",gap:"5px",background:"rgba(57, 255, 20, 0.15)",color:"#39FF14",fontSize:"10px",fontWeight:"700",padding:"4px 8px",borderRadius:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},liveDot:{width:"6px",height:"6px",background:"#39FF14",borderRadius:"50%",animation:"pulse 1.5s infinite"},priceInfo:{display:"flex",alignItems:"center",gap:"8px"},currentPrice:{fontSize:"16px",fontWeight:"600",color:"#fff"},priceChange:{fontSize:"12px",fontWeight:"600",padding:"3px 8px",borderRadius:"6px"},chartControls:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},chartTypeToggle:{display:"flex",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"2px"},toggleBtn:{padding:"6px 10px",background:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},toggleBtnActive:{background:"rgba(0, 212, 255, 0.2)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.3)"},timeframeButtons:{display:"flex",gap:"2px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"2px"},tfBtn:{padding:"5px 10px",background:"transparent",border:"none",borderRadius:"6px",color:"rgba(255, 255, 255, 0.6)",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},tfBtnActive:{background:"rgba(0, 212, 255, 0.2)",color:"#00D4FF",boxShadow:"0 0 8px rgba(0, 212, 255, 0.3)"},tfBtnLive:{color:"rgba(57, 255, 20, 0.8)"},actionBtn:{width:"32px",height:"32px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",color:"#fff"},indicatorLegend:{display:"flex",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},legendItem:{display:"flex",alignItems:"center",gap:"5px",fontSize:"11px",color:"rgba(255, 255, 255, 0.7)"},legendDot:{width:"8px",height:"8px",borderRadius:"50%"},chartWrapper:{height:"220px",position:"relative",borderRadius:"8px",overflow:"hidden"},loading:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"10px",background:"rgba(0, 0, 0, 0.6)",color:"rgba(255, 255, 255, 0.6)",fontSize:"13px"},spinner:{width:"28px",height:"28px",border:"3px solid rgba(0, 212, 255, 0.2)",borderTopColor:"#00D4FF",borderRadius:"50%",animation:"spin 1s linear infinite"},fullscreenOverlay:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.95)",zIndex:99999,display:"flex",flexDirection:"column",padding:"20px"},fullscreenContainer:{flex:1,display:"flex",flexDirection:"column",background:"#0a0a0a",borderRadius:"12px",padding:"16px",position:"relative"},fullscreenClose:{position:"absolute",top:"12px",right:"12px",width:"36px",height:"36px",background:"rgba(255, 68, 68, 0.2)",border:"1px solid rgba(255, 68, 68, 0.4)",borderRadius:"50%",color:"#FF4444",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,transition:"all 0.2s ease"},fullscreenHeader:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"12px",marginBottom:"12px",paddingRight:"50px"},fullscreenChart:{flex:1,minHeight:"300px",borderRadius:"8px",overflow:"hidden"}},Ea=document.createElement("style");Ea.textContent=`
  @keyframes spin { to { transform: rotate(360deg); } }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
`;document.querySelector("[data-analysis-chart-styles]")||(Ea.setAttribute("data-analysis-chart-styles","true"),document.head.appendChild(Ea));const Ct=n.createContext(null);function Jn({children:a,userId:t}){const[i,r]=n.useState([]),[o,c]=n.useState(!0),[h,p]=n.useState(!1),d=n.useCallback(async()=>{if(!t){c(!1);return}try{const v=await fetch(`/api/users/${t}/favorites`);if(v.ok){const z=await v.json();r(z.favorites||[])}}catch(v){console.error("Failed to fetch favorites:",v)}finally{c(!1)}},[t]);n.useEffect(()=>{d()},[d]);const l=async v=>{if(!t)return!1;try{const z=await fetch(`/api/users/${t}/favorites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({assetId:v.id||v.symbol.toLowerCase(),assetType:v.assetType||"crypto",symbol:v.symbol.toUpperCase(),name:v.name})});if(z.ok){const M=await z.json();return r(Q=>[...Q,M.favorite]),!0}}catch(z){console.error("Failed to add favorite:",z)}return!1},y=async v=>{if(!t)return!1;try{if((await fetch(`/api/users/${t}/favorites/${v}`,{method:"DELETE"})).ok)return r(M=>M.filter(Q=>Q.id!==v)),!0}catch(z){console.error("Failed to remove favorite:",z)}return!1},x=v=>i.some(z=>z.symbol.toUpperCase()===v.toUpperCase()),b=v=>i.find(M=>M.symbol.toUpperCase()===v.toUpperCase())?.id,j={favorites:i,loading:o,showFavoritesOnly:h,setShowFavoritesOnly:p,addFavorite:l,removeFavorite:y,toggleFavorite:async v=>{const z=b(v.symbol);return z?await y(z):await l(v)},isFavorite:x,getFavoriteId:b,updateFavoriteOrder:async(v,z)=>{if(!t)return!1;try{if((await fetch(`/api/users/${t}/favorites/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayOrder:z})})).ok)return await d(),!0}catch(M){console.error("Failed to update favorite order:",M)}return!1},refreshFavorites:d};return e.jsx(Ct.Provider,{value:j,children:a})}function Xn(){const a=n.useContext(Ct);if(!a)throw new Error("useFavorites must be used within a FavoritesProvider");return a}const Ba=a=>{const t=new Uint8Array(a);let i="";for(const r of t)i+=String.fromCharCode(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},ut=a=>{for(a=a.replace(/-/g,"+").replace(/_/g,"/");a.length%4;)a+="=";const t=atob(a),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i};function Qn({userId:a,userConfig:t,setUserConfig:i}){const{avatar:r,mode:o,isCustomMode:c,toggleMode:h,setAvatarMode:p}=kt(),[d,l]=n.useState(!1),[y,x]=n.useState(t?.defaultLandingTab||"dashboard"),[b,f]=n.useState(!1),u=n.useRef(null),[j,v]=n.useState(!1),[z,M]=n.useState([]),[Q,V]=n.useState({biometric2faEnabled:!1,biometricWalletEnabled:!1}),[I,$]=n.useState(!0),[G,_]=n.useState(!1),[te,J]=n.useState(null),[le,H]=n.useState(null),[A,Z]=n.useState({enabled:!1,mode:"observer",confidenceThreshold:70,accuracyThreshold:55,maxPerTrade:100,maxPerDay:500,maxOpenPositions:3,stopAfterLosses:3,isPaused:!1,pauseReason:null}),[re,me]=n.useState({totalTrades:0,winRate:0,totalPnl:0}),[w,B]=n.useState(!0),[K,ee]=n.useState(!1);n.useEffect(()=>{a&&(k(),R())},[a]),n.useEffect(()=>{D(),t?.sessionToken&&E()},[t?.sessionToken]);const D=async()=>{try{if(window.PublicKeyCredential&&typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function"){const g=await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();v(g)}}catch(g){console.error("Biometric check failed:",g),v(!1)}},E=async()=>{if(t?.sessionToken){$(!0);try{const g=await fetch("/api/webauthn/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:t.sessionToken})});if(g.ok){const F=await g.json();M(F.credentials||[]),V(F.settings||{biometric2faEnabled:!1,biometricWalletEnabled:!1})}}catch(g){console.error("Failed to load biometric credentials:",g)}finally{$(!1)}}},Y=async g=>{if(!(!t?.sessionToken||!j)){_(!0),J(null),H(null);try{const F=await fetch("/api/webauthn/registration/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:t.sessionToken,deviceName:navigator.userAgent.includes("Mac")?"Touch ID":navigator.userAgent.includes("Windows")?"Windows Hello":"Biometric Device",usedFor:g})});if(!F.ok){const Ne=await F.json();throw new Error(Ne.error||"Failed to start registration")}const{challengeId:ie,options:ve}=await F.json(),Ee={...ve,challenge:ut(ve.challenge),user:{...ve.user,id:ut(ve.user.id)}},ge=await navigator.credentials.create({publicKey:Ee}),qe={id:ge.id,rawId:Ba(ge.rawId),type:ge.type,response:{clientDataJSON:Ba(ge.response.clientDataJSON),attestationObject:Ba(ge.response.attestationObject),transports:ge.response.getTransports?ge.response.getTransports():["internal"]}},Ie=await fetch("/api/webauthn/registration/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:t.sessionToken,challengeId:ie,credential:qe,deviceName:navigator.userAgent.includes("Mac")?"Touch ID":navigator.userAgent.includes("Windows")?"Windows Hello":"Biometric Device",usedFor:g})});if(!Ie.ok){const Ne=await Ie.json();throw new Error(Ne.error||"Failed to complete registration")}H(g==="2fa"?"Biometric login enabled!":"Biometric wallet confirmation enabled!"),E()}catch(F){console.error("Biometric enrollment failed:",F),J(F.message||"Enrollment failed. Please try again.")}finally{_(!1)}}},X=async g=>{if(t?.sessionToken)try{(await fetch("/api/webauthn/credentials/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:t.sessionToken,credentialId:g})})).ok&&(E(),H("Biometric credential removed"))}catch(F){console.error("Failed to remove credential:",F),J("Failed to remove credential")}},k=async()=>{if(a)try{const g=await fetch(`/api/auto-trade/config?userId=${a}`);if(g.ok){const F=await g.json();F.config&&Z(ie=>({...ie,...F.config}))}}catch(g){console.error("Failed to load auto-trade config:",g)}finally{B(!1)}},R=async()=>{if(a)try{const g=await fetch(`/api/auto-trade/stats?userId=${a}`);if(g.ok){const F=await g.json();F.success&&me({totalTrades:F.config?.totalTradesExecuted||0,winRate:F.winRate||0,totalPnl:parseFloat(F.config?.totalProfitLoss)||0})}}catch(g){console.error("Failed to load auto-trade stats:",g)}},ae=async()=>{if(!a)return;const g=!A.enabled;Z(F=>({...F,enabled:g}));try{(await fetch("/api/auto-trade/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,enabled:g})})).ok||(Z(ie=>({...ie,enabled:!g})),console.error("Failed to toggle auto-trade"))}catch(F){Z(ie=>({...ie,enabled:!g})),console.error("Failed to toggle auto-trade:",F)}},ke=async g=>{a&&(Z(F=>({...F,mode:g})),await W({mode:g}))},m=(g,F)=>{Z(ie=>({...ie,[g]:F}))},P=n.useCallback(g=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{W(g)},500)},[a]),W=async(g={})=>{if(a){ee(!0);try{(await fetch("/api/auto-trade/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,...A,...g})})).ok||console.error("Failed to save auto-trade config")}catch(F){console.error("Failed to save auto-trade config:",F)}finally{ee(!1)}}},U=async()=>{if(!a)return;const g=A.isPaused?"/api/auto-trade/resume":"/api/auto-trade/pause";try{(await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a})})).ok&&Z(ie=>({...ie,isPaused:!ie.isPaused,pauseReason:ie.isPaused?null:ie.pauseReason}))}catch(F){console.error("Failed to pause/resume auto-trade:",F)}},ne=async g=>{if(x(g),!!a){f(!0);try{const F=await fetch(`/api/users/${a}/dashboard`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({defaultLandingTab:g})});if(F.ok){const ie=await F.json();i&&i(ve=>({...ve,defaultLandingTab:g}))}}catch(F){console.error("Failed to save landing tab:",F)}finally{f(!1)}}},ce=[{id:"observer",icon:"ðŸ”",label:"Observer",desc:"Watch AI recommendations only"},{id:"approval",icon:"âœ‹",label:"Approval",desc:"Confirm each trade manually"},{id:"semi-auto",icon:"ðŸ”„",label:"Semi-Auto",desc:"Small trades with notifications"},{id:"full-auto",icon:"âš¡",label:"Full Auto",desc:"Fully autonomous trading"}];return e.jsxs("div",{className:"settings-tab",children:[e.jsx("div",{className:"section-box mb-md",children:e.jsxs("div",{style:{padding:16,display:"flex",alignItems:"center",gap:16},children:[e.jsx(ot,{size:60,onClick:()=>l(!0)}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,marginBottom:4},children:c?r.name||"My Avatar":"Founder Account"}),t?.hallmarkId&&e.jsx("div",{style:{fontSize:11,color:"#00D4FF",marginBottom:2},children:t.hallmarkId}),e.jsx("div",{style:{fontSize:12,color:"#39FF14"},children:"âœ“ Beta V1 Access"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:"Member since 2025"})]})]})}),e.jsxs(tn,{singleOpen:!1,children:[e.jsx(ye,{title:"Avatar Settings",icon:"ðŸŽ­",defaultOpen:!0,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:16,background:"rgba(0, 0, 0, 0.2)",borderRadius:12},children:e.jsx(ot,{size:80})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:2},children:"Avatar Mode"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:c?"Using custom avatar":"Using AI agent (CryptoCat)"})]}),e.jsx("button",{onClick:h,style:{width:52,height:28,background:c?"#00D4FF":"#FFA500",borderRadius:14,position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s ease"},children:e.jsx("span",{style:{position:"absolute",left:c?26:4,top:4,width:20,height:20,background:"#fff",borderRadius:"50%",transition:"left 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12},children:c?"ðŸ‘¤":"ðŸ±"})})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>p("custom"),style:{flex:1,padding:"10px 12px",background:c?"rgba(0, 212, 255, 0.2)":"rgba(255, 255, 255, 0.05)",border:c?"1px solid #00D4FF":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:8,color:c?"#00D4FF":"#888",cursor:"pointer",fontSize:12,fontWeight:600},children:"ðŸ‘¤ Custom Avatar"}),e.jsx("button",{onClick:()=>p("agent"),style:{flex:1,padding:"10px 12px",background:c?"rgba(255, 255, 255, 0.05)":"rgba(255, 165, 0, 0.2)",border:c?"1px solid rgba(255, 255, 255, 0.1)":"1px solid #FFA500",borderRadius:8,color:c?"#888":"#FFA500",cursor:"pointer",fontSize:12,fontWeight:600},children:"ðŸ± AI Agents"})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>l(!0),style:{width:"100%"},children:"âœï¸ Edit Avatar"})]})}),e.jsx(ye,{title:"Account Settings",icon:"ðŸ‘¤",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Email Notifications"}),e.jsx("label",{style:{width:44,height:24,background:"#39FF14",borderRadius:12,position:"relative",cursor:"pointer"},children:e.jsx("span",{style:{position:"absolute",right:4,top:4,width:16,height:16,background:"#fff",borderRadius:"50%"}})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Push Notifications"}),e.jsx("label",{style:{width:44,height:24,background:"#333",borderRadius:12,position:"relative",cursor:"pointer"},children:e.jsx("span",{style:{position:"absolute",left:4,top:4,width:16,height:16,background:"#888",borderRadius:"50%"}})})]})]})}),e.jsx(ye,{title:"Dashboard Settings",icon:"ðŸ ",defaultOpen:!0,children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Default Landing Page"}),e.jsx("div",{style:{fontSize:11,color:"#888",marginBottom:12},children:"Choose which page to show when you open the app"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[{id:"dashboard",icon:"ðŸ ",label:"My Dashboard"},{id:"markets",icon:"ðŸ“Š",label:"Crypto Markets"},{id:"portfolio",icon:"ðŸ’¼",label:"Portfolio"},{id:"projects",icon:"ðŸš€",label:"Projects"}].map(g=>e.jsxs("button",{onClick:()=>ne(g.id),style:{display:"flex",alignItems:"center",gap:10,padding:"12px 14px",background:y===g.id?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.05)",border:y===g.id?"1px solid #00D4FF":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:8,color:y===g.id?"#00D4FF":"#ccc",cursor:"pointer",fontSize:13,fontWeight:y===g.id?600:400,textAlign:"left"},children:[e.jsx("span",{style:{fontSize:16},children:g.icon}),e.jsx("span",{children:g.label}),y===g.id&&e.jsx("span",{style:{marginLeft:"auto",fontSize:14},children:"âœ“"})]},g.id))}),b&&e.jsx("div",{style:{fontSize:11,color:"#00D4FF",marginTop:8},children:"Saving..."})]})})}),e.jsx(ye,{title:"AI Trading",icon:"ðŸ¤–",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:20},children:w?e.jsx("div",{style:{textAlign:"center",padding:20,color:"#888"},children:"Loading AI Trading settings..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16,background:"#0f0f0f",borderRadius:12,border:A.enabled?"1px solid #39FF14":"1px solid #333"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,marginBottom:4,color:A.enabled?"#39FF14":"#fff"},children:["Auto-Trading ",A.enabled?"Enabled":"Disabled"]}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:A.enabled?"AI is actively monitoring markets":"Enable to start autonomous trading"})]}),e.jsx("button",{onClick:ae,style:{width:52,height:28,background:A.enabled?"#39FF14":"#333",borderRadius:14,position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s ease",boxShadow:A.enabled?"0 0 12px rgba(57, 255, 20, 0.4)":"none"},children:e.jsx("span",{style:{position:"absolute",left:A.enabled?26:4,top:4,width:20,height:20,background:"#fff",borderRadius:"50%",transition:"left 0.3s ease"}})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Trading Mode"}),e.jsx("div",{style:{fontSize:11,color:"#888",marginBottom:12},children:"Choose how the AI should handle trades"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:ce.map(g=>e.jsxs("button",{onClick:()=>ke(g.id),style:{display:"flex",alignItems:"center",gap:12,padding:"14px 16px",background:A.mode===g.id?"#1a1a1a":"#0f0f0f",border:A.mode===g.id?"1px solid #00D4FF":"1px solid #333",borderRadius:10,color:A.mode===g.id?"#00D4FF":"#ccc",cursor:"pointer",textAlign:"left",boxShadow:A.mode===g.id?"0 0 12px rgba(0, 212, 255, 0.2)":"none"},children:[e.jsx("span",{style:{fontSize:20},children:g.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:g.label}),e.jsx("div",{style:{fontSize:11,color:"#888",marginTop:2},children:g.desc})]}),A.mode===g.id&&e.jsx("span",{style:{color:"#00D4FF",fontSize:16},children:"âœ“"})]},g.id))})]}),e.jsxs("div",{style:{padding:16,background:"#0f0f0f",borderRadius:12,border:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:16},children:"Thresholds"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{style:{fontSize:13},children:"Confidence Threshold"}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:600},children:[A.confidenceThreshold,"%"]})]}),e.jsx("input",{type:"range",min:"60",max:"90",value:A.confidenceThreshold,onChange:g=>{const F=parseInt(g.target.value);m("confidenceThreshold",F),P({confidenceThreshold:F})},style:{width:"100%",height:6,borderRadius:3,background:`linear-gradient(to right, #00D4FF 0%, #00D4FF ${(A.confidenceThreshold-60)/30*100}%, #333 ${(A.confidenceThreshold-60)/30*100}%, #333 100%)`,appearance:"none",cursor:"pointer"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:10,color:"#666",marginTop:4},children:[e.jsx("span",{children:"60%"}),e.jsx("span",{children:"90%"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{style:{fontSize:13},children:"Accuracy Threshold"}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:600},children:[A.accuracyThreshold,"%"]})]}),e.jsx("input",{type:"range",min:"55",max:"75",value:A.accuracyThreshold,onChange:g=>{const F=parseInt(g.target.value);m("accuracyThreshold",F),P({accuracyThreshold:F})},style:{width:"100%",height:6,borderRadius:3,background:`linear-gradient(to right, #00D4FF 0%, #00D4FF ${(A.accuracyThreshold-55)/20*100}%, #333 ${(A.accuracyThreshold-55)/20*100}%, #333 100%)`,appearance:"none",cursor:"pointer"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:10,color:"#666",marginTop:4},children:[e.jsx("span",{children:"55%"}),e.jsx("span",{children:"75%"})]})]})]}),e.jsxs("div",{style:{padding:16,background:"#0f0f0f",borderRadius:12,border:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:16},children:"Position Limits"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#888",display:"block",marginBottom:6},children:"Max per trade (USD)"}),e.jsx("input",{type:"number",value:A.maxPerTrade,onChange:g=>m("maxPerTrade",parseInt(g.target.value)||0),onBlur:g=>W({maxPerTrade:parseInt(g.target.value)||0}),style:{width:"100%",padding:"10px 12px",background:"#1a1a1a",border:"1px solid #333",borderRadius:8,color:"#fff",fontSize:14,fontWeight:600}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#888",display:"block",marginBottom:6},children:"Max per day (USD)"}),e.jsx("input",{type:"number",value:A.maxPerDay,onChange:g=>m("maxPerDay",parseInt(g.target.value)||0),onBlur:g=>W({maxPerDay:parseInt(g.target.value)||0}),style:{width:"100%",padding:"10px 12px",background:"#1a1a1a",border:"1px solid #333",borderRadius:8,color:"#fff",fontSize:14,fontWeight:600}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#888",display:"block",marginBottom:6},children:"Max open positions"}),e.jsx("div",{style:{display:"flex",gap:8},children:[1,2,3,5,10].map(g=>e.jsx("button",{onClick:()=>{m("maxOpenPositions",g),W({maxOpenPositions:g})},style:{flex:1,padding:"10px 0",background:A.maxOpenPositions===g?"#1a1a1a":"#0f0f0f",border:A.maxOpenPositions===g?"1px solid #00D4FF":"1px solid #333",borderRadius:8,color:A.maxOpenPositions===g?"#00D4FF":"#888",cursor:"pointer",fontSize:14,fontWeight:600},children:g},g))})]})]})]}),e.jsxs("div",{style:{padding:16,background:"#0f0f0f",borderRadius:12,border:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:16},children:"Safety Controls"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:12,color:"#888",display:"block",marginBottom:6},children:"Stop after consecutive losses"}),e.jsx("div",{style:{display:"flex",gap:8},children:[2,3,5,7,10].map(g=>e.jsx("button",{onClick:()=>{m("stopAfterLosses",g),W({stopAfterLosses:g})},style:{flex:1,padding:"10px 0",background:A.stopAfterLosses===g?"#1a1a1a":"#0f0f0f",border:A.stopAfterLosses===g?"1px solid #ff4444":"1px solid #333",borderRadius:8,color:A.stopAfterLosses===g?"#ff4444":"#888",cursor:"pointer",fontSize:14,fontWeight:600},children:g},g))})]}),e.jsx("button",{onClick:U,className:A.isPaused?"btn btn-primary":"btn btn-secondary",style:{width:"100%",background:A.isPaused?"#39FF14":"#ff4444",border:"none",color:A.isPaused?"#000":"#fff",fontWeight:600},children:A.isPaused?"â–¶ï¸ Resume Trading":"â¸ï¸ Pause Trading"}),A.isPaused&&A.pauseReason&&e.jsxs("div",{style:{marginTop:12,padding:12,background:"rgba(255, 68, 68, 0.1)",borderRadius:8,border:"1px solid rgba(255, 68, 68, 0.3)"},children:[e.jsx("div",{style:{fontSize:11,color:"#ff4444",fontWeight:600,marginBottom:4},children:"Pause Reason:"}),e.jsx("div",{style:{fontSize:12,color:"#ccc"},children:A.pauseReason})]})]}),e.jsxs("div",{style:{padding:16,background:"#0f0f0f",borderRadius:12,border:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:16},children:"Trading Stats"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[e.jsxs("div",{style:{padding:12,background:"#1a1a1a",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#00D4FF"},children:re.totalTrades}),e.jsx("div",{style:{fontSize:10,color:"#888",marginTop:4},children:"Total Trades"})]}),e.jsxs("div",{style:{padding:12,background:"#1a1a1a",borderRadius:8,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:re.winRate>=50?"#39FF14":"#ff4444"},children:[re.winRate.toFixed(1),"%"]}),e.jsx("div",{style:{fontSize:10,color:"#888",marginTop:4},children:"Win Rate"})]}),e.jsxs("div",{style:{padding:12,background:"#1a1a1a",borderRadius:8,textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:20,fontWeight:700,color:re.totalPnl>=0?"#39FF14":"#ff4444"},children:[re.totalPnl>=0?"+":"",re.totalPnl.toFixed(2)]}),e.jsx("div",{style:{fontSize:10,color:"#888",marginTop:4},children:"Total P&L"})]})]})]}),K&&e.jsx("div",{style:{fontSize:11,color:"#00D4FF",textAlign:"center"},children:"Saving..."})]})})}),e.jsx(ye,{title:"Display Settings",icon:"ðŸŽ¨",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸŒ™ Dark Theme (Active)"}),e.jsx("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ± Crypto Cat Mode"}),e.jsx("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ‘” Business Mode"})]})}),e.jsx(ye,{title:"Subscription",icon:"ðŸ’Ž",children:e.jsxs("div",{style:{padding:16,background:"rgba(57, 255, 20, 0.1)",border:"1px solid rgba(57, 255, 20, 0.3)",borderRadius:8,textAlign:"center"},children:[e.jsx("div",{style:{color:"#39FF14",fontWeight:700,marginBottom:4},children:"âœ“ Legacy Founder"}),e.jsx("div",{style:{fontSize:24,fontWeight:800,marginBottom:4},children:"$4/month"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:"Locked in forever"})]})}),e.jsx(ye,{title:"Security",icon:"ðŸ”’",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[te&&e.jsx("div",{style:{padding:12,background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:8,color:"#ff4444",fontSize:12},children:te}),le&&e.jsx("div",{style:{padding:12,background:"rgba(57, 255, 20, 0.1)",border:"1px solid rgba(57, 255, 20, 0.3)",borderRadius:8,color:"#39FF14",fontSize:12},children:le}),e.jsxs("div",{style:{padding:16,background:"#0f0f0f",borderRadius:12,border:"1px solid #333"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[e.jsx("span",{style:{fontSize:24},children:"ðŸ‘†"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,color:"#fff"},children:"Biometric Authentication"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:j?"Use fingerprint or face recognition":"Not supported on this device"})]})]}),I?e.jsx("div",{style:{textAlign:"center",padding:20,color:"#888"},children:"Loading..."}):j?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsx("div",{style:{padding:12,background:Q.biometric2faEnabled?"rgba(57, 255, 20, 0.1)":"#1a1a1a",borderRadius:8,border:Q.biometric2faEnabled?"1px solid rgba(57, 255, 20, 0.3)":"1px solid #333"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Login 2FA"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:"Require biometric after password"})]}),Q.biometric2faEnabled?e.jsx("span",{style:{color:"#39FF14",fontSize:12,fontWeight:600},children:"âœ“ Enabled"}):e.jsx("button",{onClick:()=>Y("2fa"),disabled:G,style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",border:"none",borderRadius:6,padding:"8px 16px",color:"#000",fontWeight:600,fontSize:12,cursor:G?"wait":"pointer",opacity:G?.6:1},children:G?"Setting up...":"Enable"})]})}),e.jsx("div",{style:{padding:12,background:Q.biometricWalletEnabled?"rgba(57, 255, 20, 0.1)":"#1a1a1a",borderRadius:8,border:Q.biometricWalletEnabled?"1px solid rgba(57, 255, 20, 0.3)":"1px solid #333"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:13},children:"Wallet Transactions"}),e.jsx("div",{style:{fontSize:11,color:"#888"},children:"Confirm sends with biometric"})]}),Q.biometricWalletEnabled?e.jsx("span",{style:{color:"#39FF14",fontSize:12,fontWeight:600},children:"âœ“ Enabled"}):e.jsx("button",{onClick:()=>Y("wallet"),disabled:G,style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",border:"none",borderRadius:6,padding:"8px 16px",color:"#000",fontWeight:600,fontSize:12,cursor:G?"wait":"pointer",opacity:G?.6:1},children:G?"Setting up...":"Enable"})]})}),z.length>0&&e.jsxs("div",{style:{marginTop:8},children:[e.jsx("div",{style:{fontSize:12,color:"#888",marginBottom:8},children:"Registered Devices:"}),z.map(g=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:8,background:"#1a1a1a",borderRadius:6,marginBottom:4},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:12},children:g.deviceName||"Biometric Device"}),e.jsxs("span",{style:{fontSize:10,color:"#888",marginLeft:8},children:["(",g.usedFor==="2fa"?"Login":"Wallet",")"]})]}),e.jsx("button",{onClick:()=>X(g.id),style:{background:"transparent",border:"none",color:"#ff4444",fontSize:11,cursor:"pointer"},children:"Remove"})]},g.id))]})]}):e.jsx("div",{style:{padding:12,background:"#1a1a1a",borderRadius:8,fontSize:12,color:"#888"},children:"Your browser or device doesn't support biometric authentication. Try using Chrome on a device with Touch ID, Face ID, or Windows Hello."})]}),e.jsx("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ”‘ Change Password"}),e.jsx("button",{className:"btn btn-secondary",style:{justifyContent:"flex-start"},children:"ðŸ“œ View Login History"})]})}),e.jsx(ye,{title:"About",icon:"â„¹ï¸",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:e.jsx("span",{style:{color:"#00D4FF"},children:"PULSE"})}),e.jsx("div",{style:{fontSize:12,color:"#888",marginBottom:8},children:"Version 2.0.6"}),e.jsx("div",{style:{fontSize:11,color:"#666"},children:"Powered by DarkWave Studios, LLC Â© 2025"})]})})]}),d&&e.jsx(an,{isOpen:d,onClose:()=>l(!1)})]})}function un({isVisible:a,onClose:t,title:i,message:r,agentId:o=null,usePrimaryAgent:c=!1,actions:h=null,position:p="bottom-right",autoClose:d=!1,autoCloseDelay:l=8e3}){const y=n.useRef(null),x=c?ct.find(u=>u.id===o)||ct[0]:o?Wa.find(u=>u.id===o):rn();if(n.useEffect(()=>{if(!a)return;const u=j=>{y.current&&!y.current.contains(j.target)&&t?.()};return document.addEventListener("mousedown",u),document.addEventListener("touchstart",u),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("touchstart",u)}},[a,t]),n.useEffect(()=>{if(a&&d&&l>0){const u=setTimeout(()=>t?.(),l);return()=>clearTimeout(u)}},[a,d,l,t]),!a||!x)return null;const b=()=>{switch(p){case"bottom-left":return{left:"40px",bottom:"80px"};case"bottom-right":return{right:"40px",bottom:"80px"};case"top-left":return{left:"40px",top:"100px"};case"top-right":return{right:"40px",top:"100px"};case"center":return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"};default:return{right:"40px",bottom:"80px"}}},f=p.includes("left");return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:y,className:`agent-speech-overlay ${f?"from-left":"from-right"}`,style:b(),children:f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"agent-character-overlay",children:[e.jsx("div",{className:"agent-glow-overlay"}),e.jsx("img",{src:x.image,alt:x.name||"Agent",className:"agent-image-overlay",onError:u=>{u.target.src="/agents/pixar/marcus.png"}}),e.jsx("div",{className:"agent-name-tag-overlay",children:x.name||"Agent"})]}),e.jsxs("div",{className:"speech-bubble-overlay tail-left",children:[e.jsx("button",{className:"close-btn-overlay",onClick:u=>{u.stopPropagation(),t?.()},children:"Ã—"}),i&&e.jsx("div",{className:"bubble-title-overlay",children:i}),e.jsx("div",{className:"bubble-message-overlay",children:r}),h&&e.jsx("div",{className:"bubble-actions-overlay",children:h})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"speech-bubble-overlay tail-right",children:[e.jsx("button",{className:"close-btn-overlay",onClick:u=>{u.stopPropagation(),t?.()},children:"Ã—"}),i&&e.jsx("div",{className:"bubble-title-overlay",children:i}),e.jsx("div",{className:"bubble-message-overlay",children:r}),h&&e.jsx("div",{className:"bubble-actions-overlay",children:h})]}),e.jsxs("div",{className:"agent-character-overlay",children:[e.jsx("div",{className:"agent-glow-overlay"}),e.jsx("img",{src:x.image,alt:x.name||"Agent",className:"agent-image-overlay",onError:u=>{u.target.src="/agents/pixar/marcus.png"}}),e.jsx("div",{className:"agent-name-tag-overlay",children:x.name||"Agent"})]})]})}),e.jsx("style",{children:`
        .agent-speech-overlay {
          position: fixed;
          z-index: 9999;
          display: flex;
          align-items: flex-end;
          gap: 16px;
          pointer-events: auto;
        }

        .agent-speech-overlay.from-right {
          animation: sweepInRight 0.5s ease-out forwards;
        }

        .agent-speech-overlay.from-left {
          animation: sweepInLeft 0.5s ease-out forwards;
        }

        @keyframes sweepInRight {
          0% { transform: translateX(150px); opacity: 0; }
          100% { transform: translateX(0); opacity: 1; }
        }

        @keyframes sweepInLeft {
          0% { transform: translateX(-150px); opacity: 0; }
          100% { transform: translateX(0); opacity: 1; }
        }

        .agent-character-overlay {
          position: relative;
          width: 160px;
          height: 260px;
          flex-shrink: 0;
        }

        .agent-glow-overlay {
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 100px;
          height: 100px;
          background: radial-gradient(ellipse, rgba(0, 212, 255, 0.4) 0%, transparent 70%);
          filter: blur(20px);
          animation: glowPulseOverlay 2s ease-in-out infinite;
          pointer-events: none;
        }

        @keyframes glowPulseOverlay {
          0%, 100% { opacity: 0.6; transform: translateX(-50%) scale(1); }
          50% { opacity: 1; transform: translateX(-50%) scale(1.1); }
        }

        .agent-image-overlay {
          width: 100%;
          height: 100%;
          object-fit: contain;
          object-position: bottom;
          position: relative;
          z-index: 2;
          filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5));
        }

        .agent-name-tag-overlay {
          position: absolute;
          bottom: -8px;
          left: 50%;
          transform: translateX(-50%);
          background: linear-gradient(135deg, #00d4ff, #0099ff);
          color: #000;
          font-size: 11px;
          font-weight: 700;
          padding: 4px 12px;
          border-radius: 12px;
          white-space: nowrap;
          z-index: 3;
        }

        .speech-bubble-overlay {
          position: relative;
          background: #1a1a1a;
          border: 2px solid #00d4ff;
          border-radius: 16px;
          padding: 16px 20px;
          max-width: 300px;
          min-width: 200px;
          box-shadow: 0 4px 30px rgba(0, 212, 255, 0.25);
          animation: bubblePopIn 0.4s ease-out 0.2s both;
        }

        @keyframes bubblePopIn {
          0% { transform: scale(0.8); opacity: 0; }
          60% { transform: scale(1.03); }
          100% { transform: scale(1); opacity: 1; }
        }

        .speech-bubble-overlay::after {
          content: '';
          position: absolute;
          bottom: 30px;
          width: 0;
          height: 0;
          border: 12px solid transparent;
        }

        .speech-bubble-overlay.tail-right::after {
          right: -22px;
          border-left-color: #00d4ff;
        }

        .speech-bubble-overlay.tail-left::after {
          left: -22px;
          border-right-color: #00d4ff;
        }

        .close-btn-overlay {
          position: absolute;
          top: 8px;
          right: 10px;
          background: none;
          border: none;
          color: #666;
          font-size: 20px;
          cursor: pointer;
          padding: 4px 8px;
          line-height: 1;
          z-index: 10;
          transition: color 0.2s;
        }

        .close-btn-overlay:hover {
          color: #ff4466;
        }

        .bubble-title-overlay {
          font-size: 15px;
          font-weight: 700;
          color: #00d4ff;
          margin-bottom: 8px;
          padding-right: 24px;
        }

        .bubble-message-overlay {
          font-size: 13px;
          color: #ccc;
          line-height: 1.5;
        }

        .bubble-actions-overlay {
          margin-top: 12px;
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }

        @media (max-width: 600px) {
          .agent-speech-overlay {
            flex-direction: column !important;
            align-items: center !important;
            left: 50% !important;
            right: auto !important;
            bottom: 20px !important;
            transform: translateX(-50%) !important;
          }

          .speech-bubble-overlay {
            max-width: 90vw;
            order: -1;
          }

          .speech-bubble-overlay::after {
            display: none;
          }

          .agent-character-overlay {
            width: 120px;
            height: 200px;
          }
        }
      `})]})}const hn=[{label:"$1",value:1},{label:"$2",value:2},{label:"$5",value:5},{label:"Custom",value:"custom"}];function mn(){const{solanaAddress:a,isUnlocked:t,signAndSendSolana:i}=vt(),[r,o]=n.useState(2),[c,h]=n.useState("$2"),[p,d]=n.useState(5),[l,y]=n.useState(!0),[x,b]=n.useState([]),[f,u]=n.useState(new Set),[j,v]=n.useState(null),[z,M]=n.useState(!1),[Q,V]=n.useState(!1),[I,$]=n.useState(!1),[G,_]=n.useState(""),[te,J]=n.useState(""),[le,H]=n.useState(!1),[A,Z]=n.useState(null),re=12.5,me=k=>{h(k.label),k.value!=="custom"?o(k.value):o(p)},w=k=>{const R=parseFloat(k.target.value);d(R),c==="Custom"&&o(R)},B=n.useCallback(async()=>{if(!a){_("Please unlock your wallet first");return}M(!0),_(""),b([]),u(new Set),v(null);try{const R=await(await fetch(`/api/dust-buster/scan?wallet=${a}`)).json();if(!R.success)throw new Error(R.error||"Failed to scan wallet");b(R.accounts||[]);const ae=new Set((R.accounts||[]).map(ke=>ke.id));u(ae),J(`Found ${R.accounts?.length||0} token accounts`)}catch(k){_(k.message)}finally{M(!1)}},[a]),K=n.useCallback(async()=>{if(!a||f.size===0){_("No accounts selected");return}V(!0),_("");try{const R=await(await fetch("/api/dust-buster/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,threshold:r,burnMode:l,selectedAccounts:Array.from(f)})})).json();if(!R.success)throw new Error(R.error||"Failed to preview cleanup");v(R)}catch(k){_(k.message)}finally{V(!1)}},[a,r,l,f]),ee=n.useCallback(async k=>{if(!j){_("Please preview first");return}$(!0),_("");try{const ae=await(await fetch("/api/dust-buster/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,threshold:r,burnMode:l,selectedAccounts:Array.from(f)})})).json();if(!ae.success)throw new Error(ae.error||"Failed to execute cleanup");Z({accountsClosed:j.accountsToClose,tokensBurned:j.tokensToBurn,solRecovered:j.netSolRecovery,lifetimeTotal:ae.lifetimeTotal||j.netSolRecovery,txHash:ae.txHash}),H(!0),b([]),u(new Set),v(null)}catch(R){_(R.message)}finally{$(!1)}},[a,r,l,f,j]),D=k=>{u(R=>{const ae=new Set(R);return ae.has(k)?ae.delete(k):ae.add(k),ae}),v(null)},E=()=>{f.size===x.length?u(new Set):u(new Set(x.map(k=>k.id))),v(null)},Y=k=>k.balance===0?"empty":k.valueUsd<r?"dust":"valuable",X=x.filter(k=>{const R=Y(k);return l?R==="empty"||R==="dust":R==="empty"});return t?e.jsxs("div",{className:"dust-buster-container",children:[e.jsxs("div",{className:"dust-buster-header",children:[e.jsx("div",{className:"dust-header-icon",children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#00D4FF",strokeWidth:"2",children:e.jsx("path",{d:"M3 12h4l3-9 4 18 3-9h4",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:"dust-header-text",children:[e.jsx("h2",{children:"Dust Buster"}),e.jsx("p",{children:"Clean up worthless token accounts and recover locked SOL rent"})]})]}),e.jsxs("div",{className:"dust-controls",children:[e.jsxs("div",{className:"control-section",children:[e.jsx("label",{className:"control-label",children:"Value Threshold"}),e.jsx("div",{className:"threshold-pills",children:hn.map(k=>e.jsx("button",{className:`threshold-pill ${c===k.label?"active":""}`,onClick:()=>me(k),children:k.label},k.label))}),c==="Custom"&&e.jsxs("div",{className:"custom-slider-wrapper",children:[e.jsx("input",{type:"range",min:"0",max:"25",step:"0.5",value:p,onChange:w,className:"custom-slider"}),e.jsxs("span",{className:"slider-value",children:["$",p.toFixed(2)]})]})]}),e.jsxs("div",{className:"control-section",children:[e.jsx("label",{className:"control-label",children:"Cleanup Mode"}),e.jsxs("div",{className:"mode-toggle",children:[e.jsxs("button",{className:`mode-btn ${l?"active":""}`,onClick:()=>y(!0),children:[e.jsx("span",{className:"mode-icon",children:"ðŸ”¥"}),"Burn Dust Tokens"]}),e.jsxs("button",{className:`mode-btn ${l?"":"active"}`,onClick:()=>y(!1),children:[e.jsx("span",{className:"mode-icon",children:"ðŸ§¹"}),"Close Empty Only"]})]}),e.jsx("span",{className:"mode-hint",children:l?"Burns tokens worth less than threshold and closes accounts":"Only closes accounts with zero balance"})]})]}),e.jsx("div",{className:"dust-actions-row",children:e.jsx("button",{className:"dust-action-btn scan",onClick:B,disabled:z,children:z?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-spinner"}),"Scanning..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon",children:"ðŸ”"}),"Scan Wallet"]})})}),G&&e.jsx("div",{className:"dust-error",children:G}),te&&!G&&e.jsx("div",{className:"dust-success",children:te}),X.length>0&&e.jsxs("div",{className:"dust-results",children:[e.jsxs("div",{className:"results-header",children:[e.jsxs("h3",{children:["Token Accounts (",X.length,")"]}),e.jsx("button",{className:"select-all-btn",onClick:E,children:f.size===X.length?"Deselect All":"Select All"})]}),e.jsxs("div",{className:"results-table",children:[e.jsxs("div",{className:"table-header",children:[e.jsx("span",{className:"col-check"}),e.jsx("span",{className:"col-token",children:"Token"}),e.jsx("span",{className:"col-balance",children:"Balance"}),e.jsx("span",{className:"col-value",children:"Value (USD)"}),e.jsx("span",{className:"col-rent",children:"Rent Locked"}),e.jsx("span",{className:"col-status",children:"Status"})]}),e.jsx("div",{className:"table-body",children:X.map(k=>{const R=Y(k);return e.jsxs("div",{className:`table-row ${R} ${f.has(k.id)?"selected":""}`,onClick:()=>D(k.id),children:[e.jsx("span",{className:"col-check",children:e.jsx("input",{type:"checkbox",checked:f.has(k.id),onChange:()=>D(k.id),onClick:ae=>ae.stopPropagation()})}),e.jsxs("span",{className:"col-token",children:[e.jsx("span",{className:"token-symbol",children:k.symbol||"Unknown"}),e.jsxs("span",{className:"token-mint",children:[k.mint?.slice(0,6),"...",k.mint?.slice(-4)]})]}),e.jsx("span",{className:"col-balance",children:k.balance?.toLocaleString()||"0"}),e.jsxs("span",{className:"col-value",children:["$",k.valueUsd?.toFixed(4)||"0.0000"]}),e.jsx("span",{className:"col-rent",children:k.rentLamports?`${(k.rentLamports/1e9).toFixed(4)} SOL`:"~0.002 SOL"}),e.jsx("span",{className:`col-status status-${R}`,children:R==="empty"?"âœ“ Empty":R==="dust"?"âš  Dust":"$ Value"})]},k.id)})})]})]}),f.size>0&&e.jsxs("div",{className:"dust-summary",children:[e.jsx("h3",{children:"Summary"}),e.jsxs("div",{className:"summary-grid",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Accounts to Close"}),e.jsx("span",{className:"summary-value",children:f.size})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Tokens to Burn"}),e.jsx("span",{className:"summary-value",children:l?X.filter(k=>f.has(k.id)&&k.balance>0).length:0})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Est. SOL Recovery"}),e.jsx("span",{className:"summary-value highlight",children:j?`~${j.estimatedSolRecovery?.toFixed(4)} SOL`:`~${(f.size*.00203928).toFixed(4)} SOL`})]}),e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"summary-label",children:["Fee (",re,"%)"]}),e.jsx("span",{className:"summary-value fee",children:j?`-${j.fee?.toFixed(4)} SOL`:`-${(f.size*.00203928*re/100).toFixed(4)} SOL`})]}),e.jsxs("div",{className:"summary-item net",children:[e.jsx("span",{className:"summary-label",children:"Net SOL You Receive"}),e.jsx("span",{className:"summary-value net-value",children:j?`${j.netSolRecovery?.toFixed(4)} SOL`:`~${(f.size*.00203928*(1-re/100)).toFixed(4)} SOL`})]})]}),e.jsxs("div",{className:"summary-actions",children:[e.jsx("button",{className:"dust-action-btn preview",onClick:K,disabled:Q||f.size===0,children:Q?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-spinner"}),"Previewing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon",children:"ðŸ‘ï¸"}),"Preview"]})}),e.jsx("button",{className:"dust-action-btn execute",onClick:()=>ee(),disabled:I||!j,children:I?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-spinner"}),"Executing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"btn-icon",children:"âš¡"}),"Execute Cleanup"]})})]})]}),le&&A&&e.jsx(fn,{data:A,onClose:()=>H(!1)}),e.jsx("style",{children:ht})]}):e.jsxs("div",{className:"dust-buster-container",children:[e.jsxs("div",{className:"dust-buster-locked",children:[e.jsx("div",{className:"locked-icon",children:"ðŸ”’"}),e.jsx("h3",{children:"Wallet Locked"}),e.jsx("p",{children:"Please unlock your wallet to use Dust Buster"})]}),e.jsx("style",{children:ht})]})}function fn({data:a,onClose:t}){return e.jsxs("div",{className:"dust-complete-overlay",children:[e.jsx("div",{className:"confetti-container",children:[...Array(50)].map((i,r)=>e.jsx("div",{className:"confetti-piece",style:{"--delay":`${Math.random()*3}s`,"--x":`${Math.random()*100}vw`,"--rotation":`${Math.random()*360}deg`,"--color":["#00D4FF","#39FF14","#FFD700","#FF6B6B","#9945FF"][Math.floor(Math.random()*5)]}},r))}),e.jsx(un,{isVisible:!0,onClose:t,title:"Dust Busted!",position:"center",message:e.jsxs("div",{className:"complete-content",children:[e.jsxs("div",{className:"complete-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Accounts Closed"}),e.jsx("span",{className:"stat-value",children:a.accountsClosed})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"Tokens Burned"}),e.jsx("span",{className:"stat-value",children:a.tokensBurned})]}),e.jsxs("div",{className:"stat-item highlight",children:[e.jsx("span",{className:"stat-label",children:"SOL Recovered"}),e.jsxs("span",{className:"stat-value",children:[a.solRecovered?.toFixed(4)," SOL"]})]})]}),e.jsxs("div",{className:"lifetime-stats",children:[e.jsx("span",{className:"lifetime-label",children:"Lifetime Recovered:"}),e.jsxs("span",{className:"lifetime-value",children:[a.lifetimeTotal?.toFixed(4)," SOL"]})]}),a.txHash&&e.jsx("a",{href:`https://solscan.io/tx/${a.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"tx-link",children:"View Transaction â†—"})]}),actions:e.jsx("button",{className:"complete-close-btn",onClick:t,children:"Close"})}),e.jsx("style",{children:bn})]})}const ht=`
  .dust-buster-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: #0f0f0f;
    border-radius: 16px;
    max-width: 800px;
    margin: 0 auto;
  }

  .dust-buster-locked {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    text-align: center;
  }

  .locked-icon {
    font-size: 48px;
    margin-bottom: 16px;
  }

  .dust-buster-locked h3 {
    font-size: 20px;
    color: #fff;
    margin: 0 0 8px;
  }

  .dust-buster-locked p {
    color: #666;
    font-size: 14px;
    margin: 0;
  }

  .dust-buster-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding-bottom: 20px;
    border-bottom: 1px solid #252525;
  }

  .dust-header-icon {
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #1a1a1a, #252525);
    border-radius: 14px;
    border: 1px solid #333;
  }

  .dust-header-text h2 {
    font-size: 24px;
    font-weight: 700;
    color: #fff;
    margin: 0 0 4px;
  }

  .dust-header-text p {
    font-size: 14px;
    color: #888;
    margin: 0;
  }

  .dust-controls {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: #1a1a1a;
    border-radius: 12px;
    border: 1px solid #252525;
  }

  .control-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .control-label {
    font-size: 13px;
    font-weight: 600;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .threshold-pills {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .threshold-pill {
    padding: 10px 20px;
    background: #252525;
    border: 1px solid #333;
    border-radius: 20px;
    color: #888;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .threshold-pill:hover {
    border-color: #00D4FF;
    color: #00D4FF;
  }

  .threshold-pill.active {
    background: linear-gradient(135deg, #00D4FF, #0099FF);
    border-color: #00D4FF;
    color: #000;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
  }

  .custom-slider-wrapper {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-top: 8px;
  }

  .custom-slider {
    flex: 1;
    height: 6px;
    background: #333;
    border-radius: 3px;
    outline: none;
    -webkit-appearance: none;
  }

  .custom-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #00D4FF, #0099FF);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
  }

  .slider-value {
    font-size: 16px;
    font-weight: 700;
    color: #00D4FF;
    min-width: 60px;
    text-align: right;
  }

  .mode-toggle {
    display: flex;
    gap: 12px;
  }

  .mode-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 16px;
    background: #252525;
    border: 1px solid #333;
    border-radius: 10px;
    color: #888;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .mode-btn:hover {
    border-color: #00D4FF;
    color: #fff;
  }

  .mode-btn.active {
    background: #1a1a1a;
    border-color: #00D4FF;
    color: #00D4FF;
    box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
  }

  .mode-icon {
    font-size: 18px;
  }

  .mode-hint {
    font-size: 12px;
    color: #555;
    font-style: italic;
  }

  .dust-actions-row {
    display: flex;
    gap: 12px;
  }

  .dust-action-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 20px;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .dust-action-btn.scan {
    background: linear-gradient(135deg, #00D4FF, #0099FF);
    color: #000;
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
  }

  .dust-action-btn.preview {
    background: #252525;
    border: 1px solid #333;
    color: #fff;
  }

  .dust-action-btn.execute {
    background: linear-gradient(135deg, #39FF14, #00D4FF);
    color: #000;
    box-shadow: 0 4px 20px rgba(57, 255, 20, 0.3);
  }

  .dust-action-btn:hover:not(:disabled) {
    transform: translateY(-2px);
  }

  .dust-action-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  .btn-icon {
    font-size: 18px;
  }

  .btn-spinner {
    width: 18px;
    height: 18px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .dust-error {
    padding: 14px;
    background: rgba(255, 107, 107, 0.15);
    border: 1px solid #FF6B6B;
    border-radius: 10px;
    color: #FF6B6B;
    font-size: 14px;
    text-align: center;
  }

  .dust-success {
    padding: 14px;
    background: rgba(57, 255, 20, 0.15);
    border: 1px solid #39FF14;
    border-radius: 10px;
    color: #39FF14;
    font-size: 14px;
    text-align: center;
  }

  .dust-results {
    background: #1a1a1a;
    border: 1px solid #252525;
    border-radius: 12px;
    overflow: hidden;
  }

  .results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #252525;
  }

  .results-header h3 {
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    margin: 0;
  }

  .select-all-btn {
    background: none;
    border: 1px solid #333;
    padding: 6px 12px;
    border-radius: 6px;
    color: #888;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .select-all-btn:hover {
    border-color: #00D4FF;
    color: #00D4FF;
  }

  .results-table {
    overflow-x: auto;
  }

  .table-header {
    display: grid;
    grid-template-columns: 40px 2fr 1fr 1fr 1fr 100px;
    gap: 12px;
    padding: 12px 20px;
    background: #0f0f0f;
    font-size: 11px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .table-body {
    max-height: 300px;
    overflow-y: auto;
  }

  .table-row {
    display: grid;
    grid-template-columns: 40px 2fr 1fr 1fr 1fr 100px;
    gap: 12px;
    padding: 14px 20px;
    border-bottom: 1px solid #252525;
    cursor: pointer;
    transition: background 0.2s;
  }

  .table-row:hover {
    background: #252525;
  }

  .table-row.selected {
    background: rgba(0, 212, 255, 0.1);
  }

  .table-row.empty {
    border-left: 3px solid #39FF14;
  }

  .table-row.dust {
    border-left: 3px solid #FFD700;
  }

  .col-check {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .col-check input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #00D4FF;
    cursor: pointer;
  }

  .col-token {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .token-symbol {
    font-size: 14px;
    font-weight: 600;
    color: #fff;
  }

  .token-mint {
    font-size: 11px;
    color: #555;
    font-family: monospace;
  }

  .col-balance,
  .col-value,
  .col-rent {
    display: flex;
    align-items: center;
    font-size: 14px;
    color: #ccc;
  }

  .col-status {
    display: flex;
    align-items: center;
    font-size: 12px;
    font-weight: 600;
  }

  .status-empty {
    color: #39FF14;
  }

  .status-dust {
    color: #FFD700;
  }

  .status-valuable {
    color: #FF6B6B;
  }

  .dust-summary {
    background: #1a1a1a;
    border: 1px solid #252525;
    border-radius: 12px;
    padding: 20px;
  }

  .dust-summary h3 {
    font-size: 16px;
    font-weight: 600;
    color: #fff;
    margin: 0 0 16px;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 20px;
  }

  .summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: #0f0f0f;
    border-radius: 8px;
  }

  .summary-item.net {
    grid-column: span 2;
    background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(57, 255, 20, 0.1));
    border: 1px solid #00D4FF;
  }

  .summary-label {
    font-size: 13px;
    color: #888;
  }

  .summary-value {
    font-size: 15px;
    font-weight: 600;
    color: #fff;
  }

  .summary-value.highlight {
    color: #00D4FF;
  }

  .summary-value.fee {
    color: #FF6B6B;
  }

  .summary-value.net-value {
    color: #39FF14;
    font-size: 18px;
  }

  .summary-actions {
    display: flex;
    gap: 12px;
  }

  @media (max-width: 600px) {
    .table-header,
    .table-row {
      grid-template-columns: 30px 1fr 1fr 80px;
    }

    .col-value,
    .col-rent {
      display: none;
    }

    .threshold-pills {
      flex-wrap: wrap;
    }

    .mode-toggle {
      flex-direction: column;
    }

    .summary-grid {
      grid-template-columns: 1fr;
    }

    .summary-item.net {
      grid-column: span 1;
    }

    .summary-actions {
      flex-direction: column;
    }
  }
`,bn=`
  .dust-complete-overlay {
    position: fixed;
    inset: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.9);
  }

  .confetti-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .confetti-piece {
    position: absolute;
    width: 10px;
    height: 10px;
    background: var(--color);
    top: -10px;
    left: var(--x);
    transform: rotate(var(--rotation));
    animation: confetti-fall 3s ease-in var(--delay) infinite;
  }

  @keyframes confetti-fall {
    0% {
      top: -10px;
      opacity: 1;
    }
    100% {
      top: 110vh;
      opacity: 0;
      transform: rotate(calc(var(--rotation) + 720deg));
    }
  }

  .complete-content {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .complete-stats {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #333;
  }

  .stat-item.highlight {
    border-bottom: none;
    padding-top: 12px;
  }

  .stat-label {
    font-size: 13px;
    color: #888;
  }

  .stat-value {
    font-size: 15px;
    font-weight: 600;
    color: #fff;
  }

  .stat-item.highlight .stat-value {
    color: #39FF14;
    font-size: 18px;
  }

  .lifetime-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: rgba(0, 212, 255, 0.1);
    border-radius: 8px;
    margin-top: 8px;
  }

  .lifetime-label {
    font-size: 12px;
    color: #00D4FF;
  }

  .lifetime-value {
    font-size: 14px;
    font-weight: 700;
    color: #00D4FF;
  }

  .tx-link {
    display: inline-block;
    color: #00D4FF;
    font-size: 13px;
    text-decoration: none;
    margin-top: 8px;
  }

  .tx-link:hover {
    text-decoration: underline;
  }

  .complete-close-btn {
    width: 100%;
    padding: 12px 20px;
    background: linear-gradient(135deg, #00D4FF, #0099FF);
    border: none;
    border-radius: 8px;
    color: #000;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .complete-close-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.4);
  }
`,ra=a=>{const t=new Uint8Array(a);let i="";for(const r of t)i+=String.fromCharCode(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},mt=a=>{for(a=a.replace(/-/g,"+").replace(/_/g,"/");a.length%4;)a+="=";const t=atob(a),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i};function Da({children:a,className:t="",style:i={},onClick:r}){return e.jsx("div",{className:`wallet-bento-tile ${t}`,onClick:r,style:{background:"#0f0f0f",border:"1px solid #222",borderRadius:12,padding:16,position:"relative",cursor:r?"pointer":"default",transition:"border-color 0.2s, box-shadow 0.2s",display:"flex",flexDirection:"column",...i},onMouseEnter:o=>{o.currentTarget.style.borderColor="#333",o.currentTarget.style.boxShadow="0 0 20px rgba(0,212,255,0.1)"},onMouseLeave:o=>{o.currentTarget.style.borderColor="#222",o.currentTarget.style.boxShadow="none"},children:a})}function Ra({children:a,color:t="#555"}){return e.jsx("div",{style:{fontSize:10,fontWeight:700,color:t,textTransform:"uppercase",letterSpacing:1,marginBottom:12},children:a})}const yn={major:{label:"Major Networks",chains:["solana","ethereum","polygon","base","bsc"]},layer2:{label:"Layer 2",chains:["arbitrum","optimism","zksync","linea","scroll","mantle"]},other:{label:"Other Networks",chains:["avalanche","fantom","cronos","gnosis","celo","moonbeam","moonriver","harmony","metis","aurora","kava","evmos"]}},ft=["Your portfolio is looking great!","Ready to make moves?","Stay vigilant, stay profitable!","DeFi awaits your next play.","Diversification is key!","HODL strong, trade smart.","The market never sleeps!"],Ve={mnemonic:{term:"Recovery Phrase",definition:"A 12 or 24 word phrase that backs up your wallet. Anyone with these words can access your funds. Never share it!"},privateKey:{term:"Private Key",definition:"A secret code that proves ownership of your wallet. Keep it safe and never share it with anyone."},gasEstimate:{term:"Gas Fee",definition:"A small fee paid to process your transaction on the blockchain. Varies by network congestion."},hdWallet:{term:"HD Wallet",definition:"One recovery phrase creates addresses on multiple blockchains. All your crypto in one place."}},be={solana:{name:"Solana",symbol:"SOL",color:"#9945FF",gradient:"linear-gradient(135deg, #9945FF, #14F195)",icon:"â—Ž"},ethereum:{name:"Ethereum",symbol:"ETH",color:"#627EEA",gradient:"linear-gradient(135deg, #627EEA, #454A75)",icon:"Îž"},polygon:{name:"Polygon",symbol:"MATIC",color:"#8247E5",gradient:"linear-gradient(135deg, #8247E5, #A46EFF)",icon:"â¬¡"},base:{name:"Base",symbol:"ETH",color:"#0052FF",gradient:"linear-gradient(135deg, #0052FF, #3B7AFF)",icon:"â¬¡"},arbitrum:{name:"Arbitrum",symbol:"ETH",color:"#28A0F0",gradient:"linear-gradient(135deg, #28A0F0, #1B6CB0)",icon:"â¬¡"},bsc:{name:"BSC",symbol:"BNB",color:"#F3BA2F",gradient:"linear-gradient(135deg, #F3BA2F, #E8A914)",icon:"â¬¡"},avalanche:{name:"Avalanche",symbol:"AVAX",color:"#E84142",gradient:"linear-gradient(135deg, #E84142, #C73032)",icon:"â¬¡"},fantom:{name:"Fantom",symbol:"FTM",color:"#1969FF",gradient:"linear-gradient(135deg, #1969FF, #0D4FC5)",icon:"â¬¡"},optimism:{name:"Optimism",symbol:"ETH",color:"#FF0420",gradient:"linear-gradient(135deg, #FF0420, #CC031A)",icon:"â¬¡"},cronos:{name:"Cronos",symbol:"CRO",color:"#002D74",gradient:"linear-gradient(135deg, #002D74, #001A45)",icon:"â¬¡"},gnosis:{name:"Gnosis",symbol:"xDAI",color:"#04795B",gradient:"linear-gradient(135deg, #04795B, #035F47)",icon:"â¬¡"},celo:{name:"Celo",symbol:"CELO",color:"#35D07F",gradient:"linear-gradient(135deg, #35D07F, #28A865)",icon:"â¬¡"},moonbeam:{name:"Moonbeam",symbol:"GLMR",color:"#53CBC8",gradient:"linear-gradient(135deg, #53CBC8, #3FA3A1)",icon:"â¬¡"},moonriver:{name:"Moonriver",symbol:"MOVR",color:"#F2B705",gradient:"linear-gradient(135deg, #F2B705, #C99504)",icon:"â¬¡"},harmony:{name:"Harmony",symbol:"ONE",color:"#00AEE9",gradient:"linear-gradient(135deg, #00AEE9, #0090C1)",icon:"â¬¡"},metis:{name:"Metis",symbol:"METIS",color:"#00D2FF",gradient:"linear-gradient(135deg, #00D2FF, #00A8CC)",icon:"â¬¡"},aurora:{name:"Aurora",symbol:"ETH",color:"#70D44B",gradient:"linear-gradient(135deg, #70D44B, #59B03C)",icon:"â¬¡"},zksync:{name:"zkSync",symbol:"ETH",color:"#4E529A",gradient:"linear-gradient(135deg, #4E529A, #3D417A)",icon:"â¬¡"},linea:{name:"Linea",symbol:"ETH",color:"#121212",gradient:"linear-gradient(135deg, #61DFFF, #4BB8D6)",icon:"â¬¡"},scroll:{name:"Scroll",symbol:"ETH",color:"#FFEEDA",gradient:"linear-gradient(135deg, #FFEEDA, #E8D4C0)",icon:"â¬¡"},mantle:{name:"Mantle",symbol:"MNT",color:"#000000",gradient:"linear-gradient(135deg, #65B3AE, #4E908C)",icon:"â¬¡"},kava:{name:"Kava",symbol:"KAVA",color:"#FF564F",gradient:"linear-gradient(135deg, #FF564F, #E84842)",icon:"â¬¡"},evmos:{name:"Evmos",symbol:"EVMOS",color:"#ED4E33",gradient:"linear-gradient(135deg, #ED4E33, #C94229)",icon:"â¬¡"}};function vn({userId:a}){const t=vt(),[i,r]=n.useState("landing"),[o,c]=n.useState(""),[h,p]=n.useState(""),[d,l]=n.useState(""),[y,x]=n.useState(""),[b,f]=n.useState(""),[u,j]=n.useState(""),[v,z]=n.useState(""),[M,Q]=n.useState(!1),[V,I]=n.useState(""),[$,G]=n.useState("solana"),[_,te]=n.useState(""),[J,le]=n.useState(""),[H,A]=n.useState(""),[Z,re]=n.useState(null),[me,w]=n.useState(!1),[B,K]=n.useState(null),[ee,D]=n.useState(!1),[E,Y]=n.useState("major"),[X,k]=n.useState(!1),[R,ae]=n.useState(""),[ke,m]=n.useState(""),[P,W]=n.useState(!1),[U,ne]=n.useState(!1),[ce,g]=n.useState(!1),[F,ie]=n.useState("solana"),[ve,Ee]=n.useState("sol"),[ge,qe]=n.useState(""),[Ie,Ne]=n.useState(!1),[La,Re]=n.useState(""),[_n,_a]=n.useState(null),[Nt,Oa]=n.useState(!1),[$a,Ua]=n.useState([]),[xe,Ha]=n.useState({address:"So11111111111111111111111111111111111111112",symbol:"SOL",name:"Solana",decimals:9,logoURI:null}),[ue,Va]=n.useState(null),[Te,da]=n.useState(""),[Le,Ke]=n.useState("50"),[pe,Pe]=n.useState(null),[Ye,pa]=n.useState(!1),[Ga,ga]=n.useState(!1),[Je,xa]=n.useState(""),[qa,je]=n.useState(""),[Ka,ua]=n.useState(""),[ha,ma]=n.useState(""),[fa,ba]=n.useState(""),[Ya,Xe]=n.useState(!1),[Ja,Qe]=n.useState(!1),[ya,Tt]=n.useState(!1),[Xa,va]=n.useState(!1);n.useEffect(()=>{At()},[a]);const At=async()=>{try{const s=localStorage.getItem("sessionToken");if(!s)return;const C=await fetch("/api/webauthn/has-credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:s,usedFor:"wallet"})});if(C.ok){const O=await C.json();Tt(O.hasCredentials)}}catch(s){console.error("Failed to check biometric wallet status:",s)}},zt=async()=>{const s=localStorage.getItem("sessionToken");if(!s)throw new Error("No session");const C=await fetch("/api/webauthn/authentication/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:s,usedFor:"wallet"})});if(!C.ok){const he=await C.json();throw new Error(he.error||"Failed to start biometric verification")}const{challengeId:O,options:de}=await C.json(),ze={...de,challenge:mt(de.challenge),allowCredentials:de.allowCredentials.map(he=>({...he,id:mt(he.id)}))},se=await navigator.credentials.get({publicKey:ze}),fe=await fetch("/api/webauthn/authentication/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:s,challengeId:O,credential:{id:se.id,rawId:ra(se.rawId),type:se.type,response:{clientDataJSON:ra(se.response.clientDataJSON),authenticatorData:ra(se.response.authenticatorData),signature:ra(se.response.signature)}},usedFor:"wallet"})});if(!fe.ok){const he=await fe.json();throw new Error(he.error||"Biometric verification failed")}return!0};n.useEffect(()=>{t.hasWallet&&(t.isUnlocked?r("main"):r("unlock"))},[t.hasWallet,t.isUnlocked]);const Ae=()=>{p(""),l("")},Bt=async()=>{if(Ae(),!b||b.length<8){p("Password must be at least 8 characters");return}if(b!==u){p("Passwords do not match");return}try{const s=V.trim()||`Wallet ${t.wallets.length+1}`,C=await t.createWallet(b,s,12);c(C),Q(!0),r("backup"),I(""),l("Wallet created! Save your recovery phrase now.")}catch(s){p(s.message)}},Dt=async()=>{if(Ae(),!y.trim()){p("Please enter your recovery phrase");return}if(!b||b.length<8){p("Password must be at least 8 characters");return}if(b!==u){p("Passwords do not match");return}try{const s=V.trim()||`Imported Wallet ${t.wallets.length+1}`;await t.importWallet(y.trim(),b,s),r("main"),I(""),l("Wallet imported successfully!")}catch(s){p(s.message)}},Qa=async()=>{Ae();try{await t.unlock(v),r("main")}catch(s){p(s.message||"Invalid password")}},Rt=async()=>{if(!_||!J||!t.addresses)return;const s=t.addresses[$];if(s)try{const O=await(await fetch("/api/wallet/estimate-gas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chain:$,from:s,to:_,amount:J})})).json();O.success&&re(O)}catch(C){console.error("Gas estimate error:",C)}};n.useEffect(()=>{if(_&&J&&parseFloat(J)>0){const s=setTimeout(Rt,500);return()=>clearTimeout(s)}},[_,J,$]);const Pt=async()=>{if(Ae(),!_||!J||!H){p("Please fill in all fields including password");return}try{if(ya){va(!0);try{await zt()}catch(C){va(!1),p("Biometric verification failed: "+C.message);return}va(!1)}const s=await t.signAndSend(H,$,_,J);if(!s.success)throw new Error(s.error);l(`Transaction sent! Hash: ${s.txHash?.slice(0,20)}...`),te(""),le(""),A(""),re(null),w(!1)}catch(s){p(s.message)}},Wt=()=>{t.lock(),z(""),r("unlock")},Mt=()=>{confirm("Are you sure? This will remove your wallet from this device. Make sure you have your recovery phrase saved!")&&(t.activeWalletId&&t.deleteWallet(t.activeWalletId),t.hasWallet||r("landing"))},Za=async()=>{if(Ae(),!R){p("Please enter your password");return}ne(!0);try{const s=await st.unlock(R,t.activeWalletId);m(s.mnemonic),W(!1),p("")}catch{p("Invalid password. Please try again.")}finally{ne(!1)}},ja=()=>{k(!1),ae(""),m(""),W(!1),p("")},Et=async()=>{Ne(!0),Re("");try{const s=F==="solana"?t.addresses?.solana:t.addresses?.ethereum;if(!s){Re("Wallet address not available");return}const C=await fetch("/api/crypto/onramp/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:s,network:F,currency:ve,amount:ge?parseFloat(ge):void 0})}),O=await C.json();if(!C.ok){O.needsSetup?Re("Stripe Crypto Onramp is not enabled. To enable it, visit your Stripe Dashboard and apply for access to the Crypto Onramp feature."):Re(O.error||"Failed to create onramp session");return}O.redirectUrl?(window.open(O.redirectUrl,"_blank"),wa()):O.clientSecret&&_a(O)}catch(s){Re(s.message||"Failed to connect to onramp service")}finally{Ne(!1)}},wa=()=>{g(!1),ie("solana"),Ee("sol"),qe(""),Re(""),Ne(!1),_a(null)},It=async()=>{try{const C=await(await fetch("/api/swap/tokens")).json();C.success&&C.tokens&&Ua(C.tokens)}catch(s){console.error("Failed to fetch swap tokens:",s)}},Lt=async()=>{if(!xe||!ue||!Te||parseFloat(Te)<=0){Pe(null);return}pa(!0),je("");try{const s=Math.floor(parseFloat(Te)*Math.pow(10,xe.decimals)).toString(),C=new URLSearchParams({inputMint:xe.address,outputMint:ue.address,amount:s,slippageBps:Le}),de=await(await fetch(`/api/swap/quote?${C}`)).json();de.success?Pe(de):(je(de.error||"Failed to get quote"),Pe(null))}catch(s){je(s.message||"Failed to get quote"),Pe(null)}finally{pa(!1)}},_t=async()=>{if(!pe||!Je){je("Please enter your password");return}if(!pe?.quoteResponse){je("Quote data is missing. Please get a new quote.");return}if(!t?.addresses?.solana){je("Wallet not ready. Please unlock your wallet first.");return}ga(!0),je(""),ua("");try{const C=await(await fetch("/api/swap/prepare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:pe.quoteResponse,userPublicKey:t.addresses.solana})})).json();if(!C.success)throw new Error(C.error||"Failed to prepare swap");const O=await st.signSolanaTransaction(Je,C.swapTransaction,t.activeWalletId),ze=await(await fetch("/api/swap/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signedTransaction:O})})).json();if(ze.success)ua(`Swap successful! View on explorer: ${ze.explorerUrl}`),Pe(null),da(""),xa("");else throw new Error(ze.error||"Failed to broadcast transaction")}catch(s){je(s.message||"Swap failed")}finally{ga(!1)}},et=()=>{Oa(!1),Ua([]),Ha({address:"So11111111111111111111111111111111111111112",symbol:"SOL",name:"Solana",decimals:9,logoURI:null}),Va(null),da(""),Ke("50"),Pe(null),pa(!1),ga(!1),xa(""),je(""),ua(""),ma(""),ba(""),Xe(!1),Qe(!1)};n.useEffect(()=>{if(xe&&ue&&Te&&parseFloat(Te)>0){const s=setTimeout(Lt,500);return()=>clearTimeout(s)}},[xe,ue,Te,Le]);const ka=s=>{navigator.clipboard.writeText(s),l("Address copied!"),setTimeout(()=>l(""),2e3)},Ot=s=>{G(s),w(!0)},$t=()=>e.jsxs("div",{className:"wallet-landing-v2",children:[e.jsxs("div",{className:"wallet-hero",children:[e.jsx("div",{className:"wallet-hero-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"walletGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#00D4FF"}),e.jsx("stop",{offset:"100%",stopColor:"#0099FF"})]})}),e.jsx("rect",{x:"2",y:"6",width:"20",height:"14",rx:"3",stroke:"url(#walletGrad)",strokeWidth:"2"}),e.jsx("path",{d:"M22 10h-4a2 2 0 100 4h4",stroke:"url(#walletGrad)",strokeWidth:"2"}),e.jsx("circle",{cx:"18",cy:"12",r:"1.5",fill:"#00D4FF"})]})}),e.jsx("h1",{children:"Multi-Chain Wallet"}),e.jsxs("p",{children:["One seed phrase. All your crypto.",e.jsx(Ue,{definition:Ve.hdWallet})]})]}),e.jsx("div",{className:"wallet-chains-showcase",children:Object.entries(be).map(([s,C],O)=>e.jsxs("div",{className:"wallet-chain-card",style:{"--chain-color":C.color,"--chain-gradient":C.gradient,animationDelay:`${O*.1}s`},children:[e.jsx("span",{className:"chain-icon",children:C.icon}),e.jsx("span",{className:"chain-name",children:C.name})]},s))}),e.jsxs("div",{className:"wallet-features",children:[e.jsxs("div",{className:"wallet-feature",children:[e.jsx("span",{className:"feature-icon",children:"ðŸ”"}),e.jsx("span",{children:"Client-side encryption"})]}),e.jsxs("div",{className:"wallet-feature",children:[e.jsx("span",{className:"feature-icon",children:"âš¡"}),e.jsx("span",{children:"Instant transactions"})]}),e.jsxs("div",{className:"wallet-feature",children:[e.jsx("span",{className:"feature-icon",children:"ðŸ›¡ï¸"}),e.jsx("span",{children:"Non-custodial"})]})]}),e.jsxs("div",{className:"wallet-cta-group",children:[e.jsxs("button",{className:"wallet-cta primary",onClick:()=>r("create"),children:[e.jsx("span",{className:"cta-icon",children:"+"}),"Create New Wallet"]}),e.jsxs("button",{className:"wallet-cta secondary",onClick:()=>r("import"),children:[e.jsx("span",{className:"cta-icon",children:"â†“"}),"Import Existing"]})]})]}),Ut=()=>e.jsxs("div",{className:"wallet-form-v2",children:[e.jsx("button",{className:"wallet-back-btn",onClick:()=>{r("landing"),Ae()},children:"â† Back"}),e.jsxs("div",{className:"form-header",children:[e.jsx("div",{className:"form-icon create",children:e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#00D4FF",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 8v8M8 12h8"})]})}),e.jsx("h2",{children:"Create Your Wallet"}),e.jsx("p",{children:"Set a strong password to protect your wallet"})]}),e.jsxs("div",{className:"form-fields",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Wallet Name (optional)"}),e.jsx("input",{type:"text",value:V,onChange:s=>I(s.target.value),placeholder:"My Trading Wallet"}),e.jsx("span",{className:"field-hint",children:"Give your wallet a memorable name"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:b,onChange:s=>f(s.target.value),placeholder:"Minimum 8 characters"}),e.jsx("span",{className:"field-hint",children:"Used to encrypt your wallet locally"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:"password",value:u,onChange:s=>j(s.target.value),placeholder:"Re-enter password"})]})]}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:Bt,disabled:t.loading,children:t.loading?"Creating...":"Create Wallet"})]}),Ht=()=>e.jsxs("div",{className:"wallet-form-v2",children:[e.jsxs("div",{className:"form-header warning",children:[e.jsx("div",{className:"form-icon warning",children:e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#FF6B6B",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsx("h2",{children:"Save Your Recovery Phrase"}),e.jsxs("p",{className:"warning-text",children:["Write these words down in order. This is the ONLY way to recover your wallet!",e.jsx(Ue,{definition:Ve.mnemonic})]})]}),e.jsx("div",{className:"mnemonic-grid",children:o?.split(" ").map((s,C)=>e.jsxs("div",{className:"mnemonic-word",children:[e.jsx("span",{className:"word-num",children:C+1}),e.jsx("span",{className:"word-text",children:M?s:"â€¢â€¢â€¢â€¢â€¢"})]},C))}),e.jsx("button",{className:"wallet-cta secondary full-width",onClick:()=>Q(!M),children:M?"ðŸ™ˆ Hide Words":"ðŸ‘ï¸ Reveal Words"}),d&&e.jsx("div",{className:"form-success",children:d}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:()=>{c(""),r("main")},children:"I've Saved My Phrase âœ“"})]}),Vt=()=>e.jsxs("div",{className:"wallet-form-v2",children:[e.jsx("button",{className:"wallet-back-btn",onClick:()=>{r("landing"),Ae()},children:"â† Back"}),e.jsxs("div",{className:"form-header",children:[e.jsx("div",{className:"form-icon import",children:e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#00D4FF",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7,10 12,15 17,10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),e.jsx("h2",{children:"Import Wallet"}),e.jsx("p",{children:"Enter your 12 or 24 word recovery phrase"})]}),e.jsxs("div",{className:"form-fields",children:[e.jsxs("div",{className:"form-field",children:[e.jsxs("label",{children:["Recovery Phrase",e.jsx(Ue,{definition:Ve.mnemonic})]}),e.jsx("textarea",{value:y,onChange:s=>x(s.target.value),placeholder:"word1 word2 word3 ...",rows:3})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Wallet Name (optional)"}),e.jsx("input",{type:"text",value:V,onChange:s=>I(s.target.value),placeholder:"Imported Wallet"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"New Password"}),e.jsx("input",{type:"password",value:b,onChange:s=>f(s.target.value),placeholder:"Minimum 8 characters"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:"password",value:u,onChange:s=>j(s.target.value),placeholder:"Re-enter password"})]})]}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:Dt,disabled:t.loading,children:t.loading?"Importing...":"Import Wallet"})]}),Gt=()=>e.jsxs("div",{className:"wallet-form-v2 unlock",children:[e.jsxs("div",{className:"unlock-icon",children:[e.jsx("div",{className:"lock-glow"}),e.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#00D4FF",strokeWidth:"1.5",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})]}),e.jsx("h2",{children:"Welcome Back"}),e.jsx("p",{children:"Enter your password to unlock"}),e.jsx("div",{className:"form-field single",children:e.jsx("input",{type:"password",value:v,onChange:s=>z(s.target.value),placeholder:"Enter password",onKeyDown:s=>s.key==="Enter"&&Qa(),autoFocus:!0})}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:Qa,disabled:t.loading,children:t.loading?"Unlocking...":"Unlock Wallet"}),e.jsx("button",{className:"wallet-link",onClick:Mt,children:"Remove wallet from this device"})]}),[Sa,_e]=n.useState(!1),[qt,Ze]=n.useState(null),[Fa,Oe]=n.useState(""),[ea,Ca]=n.useState(null),[Na,Ta]=n.useState(""),at=async()=>{if(!(!ea||!Na))try{await t.switchWallet(ea,Na),Ca(null),Ta(""),l("Wallet switched!")}catch(s){p(s.message||"Failed to switch wallet")}},tt=s=>{Fa.trim()&&(t.renameWallet(s,Fa.trim()),Ze(null),Oe(""),l("Wallet renamed!"))},Kt=s=>{const C=t.wallets.find(O=>O.id===s);confirm(`Delete wallet "${C?.name}"? Make sure you have your recovery phrase saved!`)&&(t.deleteWallet(s),_e(!1))},Yt=t.wallets.find(s=>s.id===t.activeWalletId),Jt=n.useMemo(()=>ft[Math.floor(Math.random()*ft.length)],[]);n.useMemo(()=>{if(!t.addresses)return[];const s=Object.entries(t.addresses).filter(([O])=>be[O]),C=[];for(let O=0;O<s.length;O+=2)C.push(s.slice(O,O+2));return C},[t.addresses]);const Xt=()=>e.jsxs("div",{className:"wallet-main-v2",children:[e.jsxs("div",{className:"wallet-selector-bar",children:[e.jsxs("div",{className:"wallet-selector",onClick:()=>_e(!Sa),children:[e.jsx("span",{className:"wallet-selector-icon",children:"ðŸ’¼"}),e.jsx("span",{className:"wallet-selector-name",children:Yt?.name||"My Wallet"}),e.jsx("span",{className:"wallet-selector-arrow",children:Sa?"â–²":"â–¼"})]}),Sa&&e.jsxs("div",{className:"wallet-dropdown",children:[e.jsx("div",{className:"wallet-dropdown-header",children:"Your Wallets"}),t.wallets.map(s=>e.jsx("div",{className:`wallet-dropdown-item ${s.id===t.activeWalletId?"active":""}`,children:qt===s.id?e.jsxs("div",{className:"wallet-rename-inline",children:[e.jsx("input",{type:"text",value:Fa,onChange:C=>Oe(C.target.value),placeholder:s.name,autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&tt(s.id),C.key==="Escape"&&(Ze(null),Oe(""))}}),e.jsx("button",{onClick:()=>tt(s.id),children:"âœ“"}),e.jsx("button",{onClick:()=>{Ze(null),Oe("")},children:"âœ•"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"wallet-item-name",onClick:()=>{s.id!==t.activeWalletId&&(Ca(s.id),_e(!1))},children:[s.name,s.id===t.activeWalletId&&e.jsx("span",{className:"active-badge",children:"Active"})]}),e.jsxs("div",{className:"wallet-item-actions",children:[e.jsx("button",{title:"Rename",onClick:C=>{C.stopPropagation(),Ze(s.id),Oe(s.name)},children:"âœï¸"}),t.wallets.length>1&&e.jsx("button",{title:"Delete",onClick:C=>{C.stopPropagation(),Kt(s.id)},children:"ðŸ—‘ï¸"})]})]})},s.id)),e.jsx("div",{className:"wallet-dropdown-divider"}),e.jsxs("button",{className:"wallet-dropdown-add",onClick:()=>{_e(!1),r("create")},children:[e.jsx("span",{children:"+"})," Add New Wallet"]}),e.jsxs("button",{className:"wallet-dropdown-add import",onClick:()=>{_e(!1),r("import")},children:[e.jsx("span",{children:"â†“"})," Import Wallet"]})]})]}),ea&&e.jsx("div",{className:"wallet-switch-modal",children:e.jsxs("div",{className:"wallet-switch-content",children:[e.jsx("h3",{children:"Switch Wallet"}),e.jsxs("p",{children:['Enter password for "',t.wallets.find(s=>s.id===ea)?.name,'"']}),e.jsx("input",{type:"password",value:Na,onChange:s=>Ta(s.target.value),placeholder:"Enter wallet password",autoFocus:!0,onKeyDown:s=>s.key==="Enter"&&at()}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsxs("div",{className:"wallet-switch-actions",children:[e.jsx("button",{className:"wallet-cta secondary",onClick:()=>{Ca(null),Ta(""),p("")},children:"Cancel"}),e.jsx("button",{className:"wallet-cta primary",onClick:at,children:"Unlock & Switch"})]})]})}),e.jsxs("div",{className:"wallet-hero-premium",children:[e.jsx("div",{className:"wallet-hero-glow"}),e.jsxs("div",{className:"wallet-hero-content",children:[e.jsxs("div",{className:"wallet-hero-balance",children:[e.jsx("span",{className:"hero-balance-label",children:"Total Balance"}),e.jsxs("span",{className:"hero-balance-value",children:["$",t.totalUsd.toFixed(2)]}),e.jsxs("div",{className:"hero-actions",children:[e.jsx("button",{className:"hero-action-btn",onClick:t.refreshBalances,children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M23 4v6h-6M1 20v-6h6"}),e.jsx("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})]})}),e.jsx("button",{className:"hero-action-btn lock",onClick:Wt,children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})})]})]}),e.jsxs("div",{className:"wallet-hero-agent",children:[e.jsxs("div",{className:"speech-bubble",children:[e.jsx("span",{children:Jt}),e.jsx("div",{className:"speech-bubble-tail"})]}),e.jsx("img",{src:"/agents/pixar/marcus.png",alt:"Marcus",className:"agent-image"})]})]})]}),d&&e.jsx("div",{className:"form-success",children:d}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsxs("div",{className:"wallet-bento-grid",children:[e.jsxs(Da,{className:"chains-tile",style:{gridColumn:"span 8"},children:[e.jsx(Ra,{color:"#00D4FF",children:"Your Networks"}),e.jsx("div",{className:"chain-accordion",children:Object.entries(yn).map(([s,C])=>{const O=E===s,de=C.chains.filter(se=>t.addresses?.[se]),ze=de.reduce((se,fe)=>se+(t.balances[fe]?.usd||0),0);return e.jsxs("div",{className:"chain-category",children:[e.jsxs("div",{className:`chain-category-header ${O?"expanded":""}`,onClick:()=>Y(O?null:s),children:[e.jsxs("div",{className:"category-info",children:[e.jsx("span",{className:"category-label",children:C.label}),e.jsxs("span",{className:"category-count",children:[de.length," networks"]})]}),e.jsxs("div",{className:"category-right",children:[e.jsxs("span",{className:"category-total",children:["$",ze.toFixed(2)]}),e.jsx("span",{className:"category-arrow",children:O?"â–²":"â–¼"})]})]}),O&&e.jsxs("div",{className:"chain-category-content",children:[de.map(se=>{const fe=be[se],he=t.addresses[se],aa=t.balances[se],Aa=B===se;return e.jsxs("div",{className:`chain-accordion-item ${Aa?"expanded":""}`,style:{"--chain-color":fe.color},children:[e.jsxs("div",{className:"chain-item-header",onClick:()=>K(Aa?null:se),children:[e.jsxs("div",{className:"chain-item-left",children:[e.jsx("span",{className:"chain-icon",style:{color:fe.color},children:fe.icon}),e.jsx("span",{className:"chain-name",children:fe.name})]}),e.jsxs("div",{className:"chain-item-right",children:[e.jsxs("span",{className:"chain-balance",children:[aa?aa.balance:"0"," ",fe.symbol]}),e.jsxs("span",{className:"chain-usd",children:["$",aa?aa.usd.toFixed(2):"0.00"]})]})]}),Aa&&e.jsxs("div",{className:"chain-item-details",children:[e.jsxs("div",{className:"chain-address",onClick:$e=>{$e.stopPropagation(),ka(he)},children:[e.jsxs("span",{children:[he?.slice(0,12),"...",he?.slice(-8)]}),e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]})]}),e.jsxs("div",{className:"chain-item-actions",children:[e.jsxs("button",{onClick:$e=>{$e.stopPropagation(),Ot(se)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.jsx("polygon",{points:"22,2 15,22 11,13 2,9"})]}),"Send"]}),e.jsxs("button",{onClick:$e=>{$e.stopPropagation(),ka(he)},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7,10 12,15 17,10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Receive"]})]})]})]},se)}),de.length===0&&e.jsx("div",{className:"no-chains-message",children:"No wallets in this category"})]})]},s)})})]}),e.jsxs(Da,{className:"quick-actions-tile",style:{gridColumn:"span 4"},children:[e.jsx(Ra,{color:"#00D4FF",children:"Quick Actions"}),e.jsxs("div",{className:"quick-actions-bento",children:[e.jsxs("button",{className:"quick-action-btn",onClick:()=>{G("solana"),w(!0)},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.jsx("polygon",{points:"22,2 15,22 11,13 2,9"})]}),e.jsx("span",{children:"Send"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>t.addresses?.solana&&ka(t.addresses.solana),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"}),e.jsx("polyline",{points:"7,10 12,15 17,10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),e.jsx("span",{children:"Receive"})]}),e.jsxs("button",{className:"quick-action-btn swap",onClick:()=>{Oa(!0),It()},children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 3l4 4-4 4"}),e.jsx("path",{d:"M20 7H4"}),e.jsx("path",{d:"M8 21l-4-4 4-4"}),e.jsx("path",{d:"M4 17h16"})]}),e.jsx("span",{children:"Swap"})]}),e.jsxs("button",{className:"quick-action-btn buy",onClick:()=>g(!0),children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"})}),e.jsx("span",{children:"Buy"})]}),t.addresses?.solana&&e.jsxs("button",{className:"quick-action-btn dust",onClick:()=>D(!0),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M3 6h18M3 6l2 14h14l2-14M3 6l4-4h10l4 4"}),e.jsx("path",{d:"M9 10v6M12 10v6M15 10v6"})]}),e.jsx("span",{children:"Dust Buster"})]}),e.jsxs("button",{className:"quick-action-btn backup",onClick:()=>k(!0),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 15V3M12 3l-4 4M12 3l4 4"}),e.jsx("path",{d:"M2 17l.621 2.485A2 2 0 004.561 21h14.878a2 2 0 001.94-1.515L22 17"})]}),e.jsx("span",{children:"Backup"})]})]})]}),e.jsxs(Da,{className:"multisig-tile",style:{gridColumn:"span 12"},children:[e.jsx(Ra,{color:"#9945FF",children:"Multi-Sig Wallets"}),e.jsxs("div",{className:"multisig-placeholder",children:[e.jsx("div",{className:"multisig-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#9945FF",strokeWidth:"1.5",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]})}),e.jsxs("div",{className:"multisig-info",children:[e.jsx("h4",{children:"Team Vaults & Multi-Signature Wallets"}),e.jsx("p",{children:"Create secure multi-sig wallets that require multiple approvals for transactions. Perfect for teams, DAOs, and organizations."}),e.jsx("span",{className:"coming-soon-badge",children:"Coming Soon"})]})]})]})]}),ee&&e.jsx("div",{className:"dust-buster-overlay",onClick:()=>D(!1),children:e.jsxs("div",{className:"dust-buster-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"dust-buster-header",children:[e.jsx("h3",{children:"Dust Buster"}),e.jsx("button",{className:"close-btn",onClick:()=>D(!1),children:"Ã—"})]}),e.jsx(mn,{walletAddress:t.addresses?.solana,onClose:()=>D(!1)})]})}),me&&e.jsx("div",{className:"send-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"send-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"send-header",children:[e.jsxs("h3",{children:["Send ",be[$]?.symbol]}),e.jsx("button",{className:"close-btn",onClick:()=>w(!1),children:"Ã—"})]}),e.jsxs("div",{className:"send-chain-preview",children:[e.jsx("span",{style:{color:be[$]?.color},children:be[$]?.icon}),e.jsx("span",{children:be[$]?.name})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Recipient Address"}),e.jsx("input",{type:"text",value:_,onChange:s=>te(s.target.value),placeholder:"Enter recipient address"})]}),e.jsxs("div",{className:"form-field",children:[e.jsxs("label",{children:["Amount (",be[$]?.symbol,")"]}),e.jsx("input",{type:"number",value:J,onChange:s=>le(s.target.value),placeholder:"0.0",step:"0.001"})]}),e.jsxs("div",{className:"form-field",children:[e.jsxs("label",{children:["Wallet Password",e.jsx(Ue,{definition:Ve.privateKey})]}),e.jsx("input",{type:"password",value:H,onChange:s=>A(s.target.value),placeholder:"Enter password to sign"})]}),Z&&e.jsxs("div",{className:"gas-estimate",children:[e.jsxs("span",{children:["Network Fee",e.jsx(Ue,{definition:Ve.gasEstimate})]}),e.jsxs("span",{children:[Z.gasFee," ",be[$]?.symbol]})]}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:Pt,disabled:t.loading||Xa||!_||!J||!H,children:Xa?"ðŸ‘† Verify Biometric...":t.loading?"Sending...":ya?"ðŸ‘† Send with Biometric":"Send Transaction"}),ya&&e.jsx("div",{style:{fontSize:10,color:"#39FF14",textAlign:"center",marginTop:4},children:"Biometric confirmation enabled"})]})}),X&&e.jsx("div",{className:"recovery-overlay",onClick:ja,children:e.jsxs("div",{className:"recovery-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"recovery-header",children:[e.jsx("h3",{children:"View Recovery Phrase"}),e.jsx("button",{className:"close-btn",onClick:ja,children:"Ã—"})]}),ke?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"recovery-warning active",children:[e.jsx("div",{className:"warning-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#FF6B6B",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"warning-content",children:[e.jsx("strong",{children:"Keep This Secret!"}),e.jsx("p",{children:"Write these words down on paper. Store them in a safe place. Never take a screenshot or save digitally."})]})]}),e.jsx("div",{className:"mnemonic-grid recovery",children:ke.split(" ").map((s,C)=>e.jsxs("div",{className:"mnemonic-word",children:[e.jsx("span",{className:"word-num",children:C+1}),e.jsx("span",{className:"word-text",children:P?s:"â€¢â€¢â€¢â€¢â€¢"})]},C))}),e.jsx("button",{className:"wallet-cta secondary full-width",onClick:()=>W(!P),children:P?"ðŸ™ˆ Hide Words":"ðŸ‘ï¸ Reveal Words"}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:ja,children:"Done"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"recovery-warning",children:[e.jsx("div",{className:"warning-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#FF6B6B",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"warning-content",children:[e.jsx("strong",{children:"Sensitive Information"}),e.jsx("p",{children:"Your recovery phrase grants full access to your wallet. Never share it with anyone or enter it on untrusted websites."})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Enter your password to continue"}),e.jsx("input",{type:"password",value:R,onChange:s=>ae(s.target.value),placeholder:"Enter wallet password",onKeyDown:s=>s.key==="Enter"&&Za(),autoFocus:!0})]}),h&&e.jsx("div",{className:"form-error",children:h}),e.jsx("button",{className:"wallet-cta primary full-width",onClick:Za,disabled:U||!R,children:U?"Verifying...":"View Recovery Phrase"})]})]})}),ce&&e.jsx("div",{className:"buy-overlay",onClick:wa,children:e.jsxs("div",{className:"buy-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"buy-header",children:[e.jsx("h3",{children:"Buy Crypto"}),e.jsx("button",{className:"close-btn",onClick:wa,children:"Ã—"})]}),e.jsxs("div",{className:"buy-info",children:[e.jsx("div",{className:"buy-info-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}),e.jsx("span",{children:"Purchase crypto directly with your card via Stripe"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Network"}),e.jsxs("select",{value:F,onChange:s=>{ie(s.target.value),Ee(s.target.value==="solana"?"sol":"eth")},children:[e.jsx("option",{value:"solana",children:"Solana"}),e.jsx("option",{value:"ethereum",children:"Ethereum"}),e.jsx("option",{value:"polygon",children:"Polygon"}),e.jsx("option",{value:"base",children:"Base"}),e.jsx("option",{value:"arbitrum",children:"Arbitrum"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Currency"}),e.jsx("select",{value:ve,onChange:s=>Ee(s.target.value),children:F==="solana"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"sol",children:"SOL"}),e.jsx("option",{value:"usdc",children:"USDC"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"eth",children:"ETH"}),e.jsx("option",{value:"usdc",children:"USDC"})]})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount (USD)"}),e.jsx("input",{type:"number",value:ge,onChange:s=>qe(s.target.value),placeholder:"Enter amount in USD (optional)",min:"1",step:"1"}),e.jsx("span",{className:"field-hint",children:"Leave empty to choose amount on Stripe"})]}),e.jsxs("div",{className:"buy-destination",children:[e.jsx("label",{children:"Destination Wallet"}),e.jsxs("div",{className:"destination-address",children:[e.jsx("span",{className:"destination-network",children:be[F]?.icon}),e.jsx("span",{className:"destination-addr",children:F==="solana"?t.addresses?.solana?.slice(0,8)+"..."+t.addresses?.solana?.slice(-6):t.addresses?.ethereum?.slice(0,8)+"..."+t.addresses?.ethereum?.slice(-6)})]})]}),La&&e.jsxs("div",{className:"form-error buy-error",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 8v4M12 16h.01"})]}),e.jsx("span",{children:La})]}),e.jsx("button",{className:"wallet-cta primary full-width stripe-btn",onClick:Et,disabled:Ie,children:Ie?"Connecting to Stripe...":e.jsxs(e.Fragment,{children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Buy with Stripe"]})}),e.jsx("p",{className:"buy-disclaimer",children:"Powered by Stripe. Available for US customers only."})]})}),Nt&&e.jsx("div",{className:"swap-overlay",onClick:et,children:e.jsxs("div",{className:"swap-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"swap-header",children:[e.jsx("h3",{children:"Swap Tokens"}),e.jsx("button",{className:"close-btn",onClick:et,children:"Ã—"})]}),e.jsxs("div",{className:"swap-info",children:[e.jsx("div",{className:"swap-info-icon",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}),e.jsx("span",{children:"Swap tokens on Solana via Jupiter"})]}),e.jsxs("div",{className:"swap-token-selector",children:[e.jsx("label",{children:"From"}),e.jsxs("div",{className:"token-select-wrapper",children:[e.jsxs("button",{className:"token-select-btn",onClick:()=>{Xe(!Ya),Qe(!1)},children:[xe?.logoURI&&e.jsx("img",{src:xe.logoURI,alt:"",className:"token-logo"}),e.jsx("span",{className:"token-symbol",children:xe?.symbol||"Select token"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6,9 12,15 18,9"})})]}),Ya&&e.jsxs("div",{className:"token-dropdown",children:[e.jsx("input",{type:"text",placeholder:"Search tokens...",value:ha,onChange:s=>ma(s.target.value),className:"token-search"}),e.jsx("div",{className:"token-list",children:$a.filter(s=>s.symbol.toLowerCase().includes(ha.toLowerCase())||s.name.toLowerCase().includes(ha.toLowerCase())).map(s=>e.jsxs("button",{className:`token-option ${xe?.address===s.address?"selected":""}`,onClick:()=>{Ha(s),Xe(!1),ma("")},children:[s.logoURI&&e.jsx("img",{src:s.logoURI,alt:"",className:"token-logo"}),e.jsxs("div",{className:"token-info",children:[e.jsx("span",{className:"token-symbol",children:s.symbol}),e.jsx("span",{className:"token-name",children:s.name})]})]},s.address))})]})]}),e.jsx("input",{type:"number",value:Te,onChange:s=>da(s.target.value),placeholder:"0.0",className:"swap-amount-input"})]}),e.jsx("div",{className:"swap-arrow",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 5v14M5 12l7 7 7-7"})})}),e.jsxs("div",{className:"swap-token-selector",children:[e.jsx("label",{children:"To"}),e.jsxs("div",{className:"token-select-wrapper",children:[e.jsxs("button",{className:"token-select-btn",onClick:()=>{Qe(!Ja),Xe(!1)},children:[ue?.logoURI&&e.jsx("img",{src:ue.logoURI,alt:"",className:"token-logo"}),e.jsx("span",{className:"token-symbol",children:ue?.symbol||"Select token"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"6,9 12,15 18,9"})})]}),Ja&&e.jsxs("div",{className:"token-dropdown",children:[e.jsx("input",{type:"text",placeholder:"Search tokens...",value:fa,onChange:s=>ba(s.target.value),className:"token-search"}),e.jsx("div",{className:"token-list",children:$a.filter(s=>s.symbol.toLowerCase().includes(fa.toLowerCase())||s.name.toLowerCase().includes(fa.toLowerCase())).filter(s=>s.address!==xe?.address).map(s=>e.jsxs("button",{className:`token-option ${ue?.address===s.address?"selected":""}`,onClick:()=>{Va(s),Qe(!1),ba("")},children:[s.logoURI&&e.jsx("img",{src:s.logoURI,alt:"",className:"token-logo"}),e.jsxs("div",{className:"token-info",children:[e.jsx("span",{className:"token-symbol",children:s.symbol}),e.jsx("span",{className:"token-name",children:s.name})]})]},s.address))})]})]}),pe&&e.jsxs("div",{className:"swap-output-amount",children:["â‰ˆ ",(parseFloat(pe.outputAmount)/Math.pow(10,ue?.decimals||9)).toFixed(6)," ",ue?.symbol]})]}),e.jsxs("div",{className:"swap-slippage",children:[e.jsx("label",{children:"Slippage Tolerance"}),e.jsxs("div",{className:"slippage-options",children:[e.jsx("button",{className:`slippage-btn ${Le==="50"?"active":""}`,onClick:()=>Ke("50"),children:"0.5%"}),e.jsx("button",{className:`slippage-btn ${Le==="100"?"active":""}`,onClick:()=>Ke("100"),children:"1%"}),e.jsx("button",{className:`slippage-btn ${Le==="300"?"active":""}`,onClick:()=>Ke("300"),children:"3%"})]})]}),Ye&&e.jsxs("div",{className:"swap-loading",children:[e.jsx("div",{className:"swap-spinner"}),e.jsx("span",{children:"Fetching best route..."})]}),pe&&!Ye&&e.jsxs("div",{className:"swap-quote-details",children:[e.jsxs("div",{className:"quote-row",children:[e.jsx("span",{children:"Rate"}),e.jsxs("span",{children:["1 ",xe?.symbol," â‰ˆ ",(parseFloat(pe.outputAmount)/parseFloat(pe.inputAmount)).toFixed(6)," ",ue?.symbol]})]}),e.jsxs("div",{className:"quote-row",children:[e.jsx("span",{children:"Price Impact"}),e.jsxs("span",{className:parseFloat(pe.priceImpactPct)>1?"high-impact":"",children:[pe.priceImpactPct,"%"]})]})]}),pe&&!Ye&&e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Wallet Password"}),e.jsx("input",{type:"password",value:Je,onChange:s=>xa(s.target.value),placeholder:"Enter password to sign"})]}),qa&&e.jsxs("div",{className:"form-error swap-error",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 8v4M12 16h.01"})]}),e.jsx("span",{children:qa})]}),Ka&&e.jsx("div",{className:"form-success swap-success",children:e.jsx("span",{children:Ka})}),e.jsx("button",{className:"wallet-cta primary full-width swap-execute-btn",onClick:_t,disabled:!pe||Ye||Ga||!Je,children:Ga?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"swap-spinner small"}),"Swapping..."]}):"Execute Swap"}),e.jsx("p",{className:"swap-disclaimer",children:"Powered by Jupiter. Swaps are executed on Solana."})]})})]});return e.jsxs("div",{className:"wallet-manager-v2",children:[i==="landing"&&$t(),i==="create"&&Ut(),i==="backup"&&Ht(),i==="import"&&Vt(),i==="unlock"&&Gt(),i==="main"&&Xt(),e.jsx("style",{children:`
        .wallet-manager-v2 {
          max-width: 600px;
          margin: 0 auto;
          padding: 24px 16px;
        }

        .wallet-landing-v2 {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          gap: 32px;
        }

        .wallet-hero {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
        }

        .wallet-hero-icon {
          width: 100px;
          height: 100px;
          background: #1a1a1a;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          border: 2px solid #00D4FF;
          box-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
          animation: heroGlow 3s ease-in-out infinite;
        }

        @keyframes heroGlow {
          0%, 100% { box-shadow: 0 0 40px rgba(0, 212, 255, 0.3); }
          50% { box-shadow: 0 0 60px rgba(0, 212, 255, 0.5); }
        }

        .wallet-hero h1 {
          font-size: 32px;
          font-weight: 700;
          color: #fff;
          margin: 0;
        }

        .wallet-hero p {
          color: #888;
          font-size: 16px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .wallet-chains-showcase {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 12px;
        }

        .wallet-chain-card {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          background: #1a1a1a;
          border: 1px solid var(--chain-color);
          border-radius: 24px;
          animation: fadeInUp 0.5s ease forwards;
          opacity: 0;
          transition: all 0.2s ease;
        }

        .wallet-chain-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 20px rgba(var(--chain-color), 0.2);
        }

        @keyframes fadeInUp {
          to { opacity: 1; transform: translateY(0); }
          from { opacity: 0; transform: translateY(10px); }
        }

        .wallet-chain-card .chain-icon {
          font-size: 18px;
        }

        .wallet-chain-card .chain-name {
          color: #fff;
          font-size: 14px;
          font-weight: 500;
        }

        .wallet-features {
          display: flex;
          gap: 24px;
          flex-wrap: wrap;
          justify-content: center;
        }

        .wallet-feature {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #888;
          font-size: 14px;
        }

        .feature-icon {
          font-size: 18px;
        }

        .wallet-cta-group {
          display: flex;
          flex-direction: column;
          gap: 12px;
          width: 100%;
          max-width: 320px;
        }

        .wallet-cta {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: 16px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }

        .wallet-cta.primary {
          background: linear-gradient(135deg, #00D4FF, #0099FF);
          color: #000;
        }

        .wallet-cta.primary:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 8px 30px rgba(0, 212, 255, 0.4);
        }

        .wallet-cta.secondary {
          background: #1a1a1a;
          color: #fff;
          border: 1px solid #333;
        }

        .wallet-cta.secondary:hover {
          border-color: #00D4FF;
        }

        .wallet-cta:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .wallet-cta.full-width {
          width: 100%;
        }

        .cta-icon {
          font-size: 20px;
        }

        .wallet-form-v2 {
          display: flex;
          flex-direction: column;
          gap: 24px;
          max-width: 400px;
          margin: 0 auto;
        }

        .wallet-back-btn {
          align-self: flex-start;
          background: none;
          border: none;
          color: #888;
          font-size: 14px;
          cursor: pointer;
          padding: 0;
        }

        .wallet-back-btn:hover {
          color: #00D4FF;
        }

        .form-header {
          text-align: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
        }

        .form-icon {
          width: 70px;
          height: 70px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #1a1a1a;
          border: 2px solid #00D4FF;
        }

        .form-icon.warning {
          border-color: #FF6B6B;
        }

        .form-header h2 {
          font-size: 24px;
          color: #fff;
          margin: 0;
        }

        .form-header p {
          color: #888;
          font-size: 14px;
          margin: 0;
        }

        .form-header .warning-text {
          color: #FF6B6B;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-fields {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .form-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-field label {
          color: #888;
          font-size: 13px;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .form-field input,
        .form-field textarea,
        .form-field select {
          padding: 14px 16px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 10px;
          color: #fff;
          font-size: 15px;
        }

        .form-field input:focus,
        .form-field textarea:focus,
        .form-field select:focus {
          outline: none;
          border-color: #00D4FF;
        }

        .form-field textarea {
          resize: vertical;
          min-height: 80px;
          font-family: monospace;
        }

        .field-hint {
          font-size: 12px;
          color: #666;
        }

        .form-error {
          padding: 14px;
          background: rgba(255, 107, 107, 0.15);
          border: 1px solid #FF6B6B;
          border-radius: 10px;
          color: #FF6B6B;
          font-size: 14px;
          text-align: center;
        }

        .form-success {
          padding: 14px;
          background: rgba(57, 255, 20, 0.15);
          border: 1px solid #39FF14;
          border-radius: 10px;
          color: #39FF14;
          font-size: 14px;
          text-align: center;
        }

        .mnemonic-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 10px;
          padding: 20px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 16px;
        }

        .mnemonic-word {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 12px;
          background: #1a1a1a;
          border-radius: 8px;
        }

        .word-num {
          font-size: 11px;
          color: #555;
          min-width: 18px;
        }

        .word-text {
          font-family: monospace;
          font-size: 13px;
          color: #fff;
        }

        .wallet-form-v2.unlock {
          align-items: center;
          text-align: center;
          padding-top: 40px;
        }

        .unlock-icon {
          position: relative;
          margin-bottom: 16px;
        }

        .lock-glow {
          position: absolute;
          inset: -20px;
          background: radial-gradient(circle, rgba(0, 212, 255, 0.2) 0%, transparent 70%);
          animation: lockPulse 2s ease-in-out infinite;
        }

        @keyframes lockPulse {
          0%, 100% { opacity: 0.5; transform: scale(1); }
          50% { opacity: 1; transform: scale(1.1); }
        }

        .form-field.single {
          width: 100%;
          max-width: 300px;
        }

        .wallet-link {
          background: none;
          border: none;
          color: #555;
          font-size: 13px;
          cursor: pointer;
          margin-top: 16px;
        }

        .wallet-link:hover {
          color: #FF6B6B;
        }

        .wallet-main-v2 {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .wallet-total-card {
          background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          text-align: center;
        }

        .total-label {
          display: block;
          color: #888;
          font-size: 14px;
          margin-bottom: 8px;
        }

        .total-value {
          display: block;
          font-size: 42px;
          font-weight: 700;
          color: #fff;
          margin-bottom: 20px;
        }

        .total-actions {
          display: flex;
          justify-content: center;
          gap: 12px;
        }

        .action-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          background: #252525;
          border: 1px solid #333;
          border-radius: 8px;
          color: #888;
          font-size: 13px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .action-btn:hover {
          border-color: #00D4FF;
          color: #00D4FF;
        }

        .action-btn.lock:hover {
          border-color: #FF6B6B;
          color: #FF6B6B;
        }

        .wallet-chains-grid {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .wallet-chain-v2 {
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 16px;
          padding: 16px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .wallet-chain-v2:hover {
          border-color: var(--chain-color);
        }

        .wallet-chain-v2.active {
          border-color: var(--chain-color);
          box-shadow: 0 0 20px rgba(var(--chain-color), 0.15);
        }

        .chain-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .chain-identity {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .chain-icon-lg {
          font-size: 28px;
          width: 44px;
          height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #0f0f0f;
          border-radius: 12px;
        }

        .chain-info {
          display: flex;
          flex-direction: column;
        }

        .chain-info .chain-name {
          font-size: 16px;
          font-weight: 600;
          color: #fff;
        }

        .chain-info .chain-symbol {
          font-size: 13px;
          color: #666;
        }

        .chain-balance {
          text-align: right;
        }

        .balance-crypto {
          display: block;
          font-size: 16px;
          font-weight: 600;
          color: #fff;
        }

        .balance-usd {
          display: block;
          font-size: 13px;
          color: #888;
        }

        .chain-address {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-top: 12px;
          padding: 10px 12px;
          background: #0f0f0f;
          border-radius: 8px;
          font-family: monospace;
          font-size: 13px;
          color: #666;
          cursor: pointer;
          transition: all 0.2s;
        }

        .chain-address:hover {
          color: #00D4FF;
        }

        .chain-actions {
          display: flex;
          gap: 12px;
          margin-top: 12px;
        }

        .chain-action-btn {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 12px;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          border: none;
        }

        .chain-action-btn.send {
          background: linear-gradient(135deg, #00D4FF, #0099FF);
          color: #000;
        }

        .chain-action-btn.receive {
          background: #252525;
          color: #fff;
          border: 1px solid #333;
        }

        .chain-action-btn:hover {
          transform: translateY(-2px);
        }

        .send-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .send-panel {
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          width: 100%;
          max-width: 400px;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .send-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .send-header h3 {
          font-size: 20px;
          color: #fff;
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          color: #666;
          font-size: 28px;
          cursor: pointer;
          padding: 0;
          line-height: 1;
        }

        .close-btn:hover {
          color: #fff;
        }

        .send-chain-preview {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 16px;
          background: #0f0f0f;
          border-radius: 10px;
          font-size: 16px;
          color: #fff;
        }

        .gas-estimate {
          display: flex;
          justify-content: space-between;
          padding: 12px 16px;
          background: #0f0f0f;
          border-radius: 10px;
          font-size: 14px;
          color: #888;
        }

        .gas-estimate span:first-child {
          display: flex;
          align-items: center;
          gap: 6px;
        }

        /* Recovery Phrase Modal */
        .recovery-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.9);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .recovery-panel {
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          width: 100%;
          max-width: 420px;
          display: flex;
          flex-direction: column;
          gap: 20px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .recovery-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .recovery-header h3 {
          font-size: 20px;
          color: #fff;
          margin: 0;
        }

        .recovery-warning {
          display: flex;
          gap: 14px;
          padding: 16px;
          background: rgba(255, 107, 107, 0.1);
          border: 1px solid rgba(255, 107, 107, 0.3);
          border-radius: 12px;
        }

        .recovery-warning.active {
          background: rgba(255, 107, 107, 0.15);
          border-color: rgba(255, 107, 107, 0.5);
        }

        .recovery-warning .warning-icon {
          flex-shrink: 0;
          width: 24px;
          height: 24px;
        }

        .recovery-warning .warning-content {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }

        .recovery-warning .warning-content strong {
          color: #FF6B6B;
          font-size: 14px;
        }

        .recovery-warning .warning-content p {
          color: #ccc;
          font-size: 13px;
          margin: 0;
          line-height: 1.4;
        }

        .mnemonic-grid.recovery {
          margin-top: 8px;
        }

        .quick-action-card.backup .quick-action-icon {
          background: linear-gradient(135deg, #FF6B6B, #FF4757);
        }

        .quick-action-icon.backup {
          background: linear-gradient(135deg, #FF6B6B, #FF4757);
        }

        /* Wallet Selector */
        .wallet-selector-bar {
          position: relative;
          margin-bottom: 20px;
        }
        
        .wallet-selector {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 16px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .wallet-selector:hover {
          border-color: #00D4FF;
        }
        
        .wallet-selector-icon {
          font-size: 20px;
        }
        
        .wallet-selector-name {
          flex: 1;
          font-size: 16px;
          font-weight: 600;
          color: #fff;
        }
        
        .wallet-selector-arrow {
          color: #666;
          font-size: 10px;
        }
        
        .wallet-dropdown {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          margin-top: 8px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 12px;
          overflow: hidden;
          z-index: 100;
          box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .wallet-dropdown-header {
          padding: 12px 16px;
          font-size: 12px;
          color: #666;
          text-transform: uppercase;
          font-weight: 600;
          border-bottom: 1px solid #252525;
        }
        
        .wallet-dropdown-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 16px;
          border-bottom: 1px solid #252525;
          transition: background 0.2s ease;
        }
        
        .wallet-dropdown-item:hover {
          background: #252525;
        }
        
        .wallet-dropdown-item.active {
          background: rgba(0, 212, 255, 0.1);
        }
        
        .wallet-item-name {
          flex: 1;
          color: #fff;
          font-size: 14px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .active-badge {
          font-size: 10px;
          padding: 2px 8px;
          background: rgba(0, 212, 255, 0.2);
          color: #00D4FF;
          border-radius: 10px;
        }
        
        .wallet-item-actions {
          display: flex;
          gap: 4px;
        }
        
        .wallet-item-actions button {
          background: none;
          border: none;
          font-size: 14px;
          cursor: pointer;
          padding: 4px 8px;
          border-radius: 4px;
          transition: background 0.2s ease;
        }
        
        .wallet-item-actions button:hover {
          background: #333;
        }
        
        .wallet-rename-inline {
          display: flex;
          align-items: center;
          gap: 8px;
          width: 100%;
        }
        
        .wallet-rename-inline input {
          flex: 1;
          padding: 6px 10px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 6px;
          color: #fff;
          font-size: 14px;
        }
        
        .wallet-rename-inline button {
          background: none;
          border: none;
          color: #888;
          font-size: 16px;
          cursor: pointer;
          padding: 4px 8px;
        }
        
        .wallet-rename-inline button:hover {
          color: #fff;
        }
        
        .wallet-dropdown-divider {
          height: 1px;
          background: #333;
        }
        
        .wallet-dropdown-add {
          display: flex;
          align-items: center;
          gap: 10px;
          width: 100%;
          padding: 12px 16px;
          background: none;
          border: none;
          color: #00D4FF;
          font-size: 14px;
          cursor: pointer;
          transition: background 0.2s ease;
          text-align: left;
        }
        
        .wallet-dropdown-add:hover {
          background: rgba(0, 212, 255, 0.1);
        }
        
        .wallet-dropdown-add.import {
          color: #9D4EDD;
        }
        
        .wallet-dropdown-add.import:hover {
          background: rgba(157, 78, 221, 0.1);
        }
        
        .wallet-switch-modal {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
        }
        
        .wallet-switch-content {
          background: #1a1a1a;
          padding: 24px;
          border-radius: 16px;
          border: 1px solid #333;
          width: 90%;
          max-width: 400px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .wallet-switch-content h3 {
          margin: 0;
          color: #fff;
          font-size: 20px;
        }
        
        .wallet-switch-content p {
          margin: 0;
          color: #888;
          font-size: 14px;
        }
        
        .wallet-switch-content input {
          padding: 12px 16px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 10px;
          color: #fff;
          font-size: 16px;
        }
        
        .wallet-switch-actions {
          display: flex;
          gap: 12px;
          margin-top: 8px;
        }
        
        .wallet-switch-actions button {
          flex: 1;
        }

        /* Dust Buster Card */
        .dust-buster-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px 20px;
          background: linear-gradient(135deg, #1a1a1a, #0f0f0f);
          border: 1px solid #333;
          border-radius: 12px;
          margin-top: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .dust-buster-card:hover {
          border-color: #00D4FF;
          box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
          transform: translateY(-2px);
        }

        .dust-buster-icon {
          width: 48px;
          height: 48px;
          background: rgba(0, 212, 255, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .dust-buster-info {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .dust-buster-title {
          color: #fff;
          font-size: 16px;
          font-weight: 600;
        }

        .dust-buster-subtitle {
          color: #888;
          font-size: 13px;
        }

        /* Dust Buster Overlay */
        .dust-buster-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.85);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding: 40px 20px;
          z-index: 1000;
          overflow-y: auto;
        }

        .dust-buster-panel {
          background: #0f0f0f;
          border-radius: 16px;
          border: 1px solid #333;
          width: 100%;
          max-width: 600px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .dust-buster-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 20px 24px;
          border-bottom: 1px solid #333;
          position: sticky;
          top: 0;
          background: #0f0f0f;
          z-index: 10;
        }

        .dust-buster-header h3 {
          margin: 0;
          color: #fff;
          font-size: 20px;
        }

        /* ========== PREMIUM WALLET STYLES ========== */
        
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        
        @keyframes balanceGlow {
          0%, 100% { text-shadow: 0 0 20px rgba(0, 212, 255, 0.5), 0 0 40px rgba(0, 212, 255, 0.3); }
          50% { text-shadow: 0 0 30px rgba(0, 212, 255, 0.7), 0 0 60px rgba(0, 212, 255, 0.4); }
        }
        
        @keyframes floatAgent {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-5px); }
        }
        
        /* Premium Hero Section */
        .wallet-hero-premium {
          position: relative;
          background: linear-gradient(135deg, #0f0f0f 0%, #141414 50%, #1a1a1a 100%);
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          margin-bottom: 24px;
          overflow: hidden;
        }
        
        .wallet-hero-glow {
          position: absolute;
          top: 50%;
          left: 30%;
          transform: translate(-50%, -50%);
          width: 200px;
          height: 200px;
          background: radial-gradient(circle, rgba(0, 212, 255, 0.15) 0%, transparent 70%);
          pointer-events: none;
        }
        
        .wallet-hero-content {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 16px;
        }
        
        .wallet-hero-balance {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .hero-balance-label {
          font-size: 14px;
          color: #888;
          text-transform: uppercase;
          letter-spacing: 1px;
        }
        
        .hero-balance-value {
          font-size: 42px;
          font-weight: 700;
          color: #fff;
          animation: balanceGlow 3s ease-in-out infinite;
          line-height: 1.1;
        }
        
        .hero-actions {
          display: flex;
          gap: 10px;
          margin-top: 8px;
        }
        
        .hero-action-btn {
          width: 40px;
          height: 40px;
          border-radius: 12px;
          background: #252525;
          border: 1px solid #333;
          color: #888;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }
        
        .hero-action-btn:hover {
          border-color: #00D4FF;
          color: #00D4FF;
          box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }
        
        .hero-action-btn.lock:hover {
          border-color: #FF6B6B;
          color: #FF6B6B;
          box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
        }
        
        .wallet-hero-agent {
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
        }
        
        .agent-image {
          width: 100px;
          height: 100px;
          object-fit: cover;
          border-radius: 50%;
          border: 2px solid #00D4FF;
          box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
          animation: floatAgent 4s ease-in-out infinite;
        }
        
        .speech-bubble {
          position: absolute;
          bottom: 100%;
          right: 0;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 12px;
          padding: 10px 14px;
          max-width: 140px;
          font-size: 12px;
          color: #ccc;
          margin-bottom: 10px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }
        
        .speech-bubble-tail {
          position: absolute;
          bottom: -8px;
          right: 30px;
          width: 0;
          height: 0;
          border-left: 8px solid transparent;
          border-right: 8px solid transparent;
          border-top: 8px solid #333;
        }
        
        .speech-bubble-tail::after {
          content: '';
          position: absolute;
          top: -9px;
          left: -7px;
          width: 0;
          height: 0;
          border-left: 7px solid transparent;
          border-right: 7px solid transparent;
          border-top: 7px solid #1a1a1a;
        }
        
        /* Section Titles */
        .section-title {
          font-size: 16px;
          font-weight: 600;
          color: #fff;
          margin: 0 0 16px 0;
        }
        
        /* Chain Carousel */
        .chain-carousel-container {
          margin-bottom: 24px;
        }
        
        .chain-carousel {
          border-radius: 16px;
          overflow: visible;
        }
        
        .chain-slide {
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: 100%;
          padding: 8px;
        }
        
        .no-chains {
          padding: 40px;
          text-align: center;
          color: #666;
        }
        
        /* Premium Chain Card */
        .chain-card-premium {
          position: relative;
          background: #141414;
          border: 1px solid #333;
          border-radius: 16px;
          padding: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          overflow: hidden;
        }
        
        .chain-card-premium::before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 16px;
          padding: 1px;
          background: var(--chain-gradient);
          -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
          mask-composite: exclude;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .chain-card-premium:hover::before {
          opacity: 1;
        }
        
        .chain-card-premium:hover {
          transform: perspective(1000px) rotateY(3deg) translateY(-4px);
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 20px color-mix(in srgb, var(--chain-color) 30%, transparent);
        }
        
        .chain-card-premium.expanded {
          background: #1a1a1a;
        }
        
        .chain-card-shimmer {
          position: absolute;
          inset: 0;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
          background-size: 200% 100%;
          animation: shimmer 4s infinite;
          pointer-events: none;
          border-radius: 16px;
        }
        
        .chain-card-content {
          position: relative;
          display: flex;
          align-items: center;
          gap: 14px;
        }
        
        .chain-card-icon {
          font-size: 28px;
          width: 48px;
          height: 48px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #0f0f0f;
          border-radius: 12px;
          border: 1px solid #333;
        }
        
        .chain-card-info {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 2px;
        }
        
        .chain-card-name {
          font-size: 16px;
          font-weight: 600;
          color: #fff;
        }
        
        .chain-card-symbol {
          font-size: 13px;
          color: #666;
        }
        
        .chain-card-balance {
          text-align: right;
          display: flex;
          flex-direction: column;
          gap: 2px;
        }
        
        .chain-balance-crypto {
          font-size: 16px;
          font-weight: 600;
          color: #fff;
        }
        
        .chain-balance-usd {
          font-size: 13px;
          color: #888;
        }
        
        /* Accordion Chain Details */
        .accordion-chain-details {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid #333;
          display: flex;
          flex-direction: column;
          gap: 12px;
          animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .accordion-address {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 14px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .accordion-address:hover {
          border-color: #00D4FF;
          color: #00D4FF;
        }
        
        .address-text {
          flex: 1;
          font-family: monospace;
          font-size: 11px;
          color: #888;
          word-break: break-all;
        }
        
        .accordion-actions {
          display: flex;
          gap: 10px;
        }
        
        .accordion-action {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 12px;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          border: none;
        }
        
        .accordion-action.send {
          background: linear-gradient(135deg, #00D4FF, #0099FF);
          color: #000;
        }
        
        .accordion-action.receive {
          background: #252525;
          color: #fff;
          border: 1px solid #333;
        }
        
        .accordion-action:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .accordion-transactions {
          padding: 12px 14px;
          background: #0f0f0f;
          border-radius: 10px;
          text-align: center;
        }
        
        .transactions-placeholder {
          font-size: 13px;
          color: #555;
        }
        
        /* Quick Actions Hub */
        .quick-actions-hub {
          margin-bottom: 24px;
        }
        
        .quick-actions-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 12px;
        }
        
        .quick-action-card {
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: 20px 16px;
          background: #141414;
          border: 1px solid #333;
          border-radius: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          overflow: hidden;
        }
        
        .quick-action-card::before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 16px;
          padding: 1px;
          background: linear-gradient(135deg, #00D4FF, #0099FF);
          -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
          mask-composite: exclude;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .quick-action-card:hover::before {
          opacity: 1;
        }
        
        .quick-action-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 20px rgba(0, 212, 255, 0.2);
        }
        
        .quick-action-card.dust::before {
          background: linear-gradient(135deg, #9945FF, #14F195);
        }
        
        .quick-action-card.dust:hover {
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 20px rgba(153, 69, 255, 0.2);
        }
        
        .quick-action-icon {
          width: 50px;
          height: 50px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(0, 212, 255, 0.1);
          border-radius: 14px;
          color: #00D4FF;
          transition: all 0.3s ease;
        }
        
        .quick-action-icon.receive {
          background: rgba(57, 255, 20, 0.1);
          color: #39FF14;
        }
        
        .quick-action-icon.dust {
          background: rgba(153, 69, 255, 0.1);
          color: #9945FF;
        }
        
        .quick-action-icon.buy {
          background: rgba(57, 255, 20, 0.1);
          color: #39FF14;
        }
        
        .quick-action-card.buy::before {
          background: linear-gradient(135deg, #39FF14, #00D4FF);
        }
        
        .quick-action-card.buy:hover {
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 20px rgba(57, 255, 20, 0.2);
        }

        /* Buy Crypto Modal */
        .buy-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.9);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .buy-panel {
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          width: 100%;
          max-width: 420px;
          display: flex;
          flex-direction: column;
          gap: 20px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .buy-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .buy-header h3 {
          font-size: 20px;
          color: #fff;
          margin: 0;
        }

        .buy-info {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px 16px;
          background: rgba(0, 212, 255, 0.1);
          border: 1px solid rgba(0, 212, 255, 0.2);
          border-radius: 12px;
          color: #00D4FF;
          font-size: 13px;
        }

        .buy-info-icon {
          flex-shrink: 0;
        }

        .buy-destination {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .buy-destination label {
          color: #888;
          font-size: 13px;
        }

        .destination-address {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 16px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 10px;
        }

        .destination-network {
          font-size: 18px;
        }

        .destination-addr {
          font-family: monospace;
          font-size: 14px;
          color: #888;
        }

        .buy-error {
          display: flex;
          align-items: flex-start;
          gap: 10px;
        }

        .buy-error svg {
          flex-shrink: 0;
          margin-top: 2px;
        }

        .stripe-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
        }

        .stripe-btn svg {
          flex-shrink: 0;
        }

        .buy-disclaimer {
          text-align: center;
          font-size: 12px;
          color: #666;
          margin: 0;
        }

        /* Swap Modal Styles */
        .swap-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.9);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .swap-panel {
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 20px;
          padding: 24px;
          width: 100%;
          max-width: 420px;
          display: flex;
          flex-direction: column;
          gap: 16px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .swap-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .swap-header h3 {
          font-size: 20px;
          color: #fff;
          margin: 0;
        }

        .swap-info {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px 16px;
          background: rgba(153, 69, 255, 0.1);
          border: 1px solid rgba(153, 69, 255, 0.3);
          border-radius: 12px;
          color: #9945FF;
          font-size: 13px;
        }

        .swap-info-icon {
          flex-shrink: 0;
        }

        .swap-token-selector {
          display: flex;
          flex-direction: column;
          gap: 10px;
          padding: 16px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 12px;
        }

        .swap-token-selector label {
          font-size: 12px;
          color: #888;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .token-select-wrapper {
          position: relative;
        }

        .token-select-btn {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 16px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 10px;
          color: #fff;
          font-size: 15px;
          cursor: pointer;
          width: 100%;
          transition: border-color 0.2s;
        }

        .token-select-btn:hover {
          border-color: #9945FF;
        }

        .token-logo {
          width: 24px;
          height: 24px;
          border-radius: 50%;
        }

        .token-symbol {
          flex: 1;
          text-align: left;
          font-weight: 600;
        }

        .token-dropdown {
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          margin-top: 8px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 12px;
          z-index: 10;
          max-height: 280px;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .token-search {
          padding: 12px 16px;
          background: #0f0f0f;
          border: none;
          border-bottom: 1px solid #333;
          color: #fff;
          font-size: 14px;
        }

        .token-search:focus {
          outline: none;
        }

        .token-list {
          overflow-y: auto;
          max-height: 220px;
        }

        .token-option {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: transparent;
          border: none;
          width: 100%;
          color: #fff;
          cursor: pointer;
          transition: background 0.2s;
        }

        .token-option:hover {
          background: rgba(153, 69, 255, 0.1);
        }

        .token-option.selected {
          background: rgba(153, 69, 255, 0.2);
        }

        .token-info {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 2px;
        }

        .token-info .token-symbol {
          font-weight: 600;
          font-size: 14px;
        }

        .token-info .token-name {
          font-size: 12px;
          color: #888;
        }

        .swap-amount-input {
          padding: 14px 16px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 10px;
          color: #fff;
          font-size: 18px;
          font-weight: 600;
        }

        .swap-amount-input:focus {
          outline: none;
          border-color: #9945FF;
        }

        .swap-arrow {
          display: flex;
          justify-content: center;
          color: #9945FF;
          margin: -8px 0;
        }

        .swap-output-amount {
          font-size: 18px;
          font-weight: 600;
          color: #14F195;
          padding: 12px 16px;
          background: rgba(20, 241, 149, 0.1);
          border-radius: 10px;
        }

        .swap-slippage {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .swap-slippage label {
          font-size: 13px;
          color: #888;
        }

        .slippage-options {
          display: flex;
          gap: 8px;
        }

        .slippage-btn {
          flex: 1;
          padding: 10px 16px;
          background: #1a1a1a;
          border: 1px solid #333;
          border-radius: 8px;
          color: #888;
          font-size: 14px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .slippage-btn:hover {
          border-color: #9945FF;
          color: #fff;
        }

        .slippage-btn.active {
          background: rgba(153, 69, 255, 0.2);
          border-color: #9945FF;
          color: #9945FF;
        }

        .swap-loading {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 16px;
          color: #888;
        }

        .swap-spinner {
          width: 24px;
          height: 24px;
          border: 3px solid #333;
          border-top-color: #9945FF;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        .swap-spinner.small {
          width: 18px;
          height: 18px;
          border-width: 2px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .swap-quote-details {
          padding: 16px;
          background: #0f0f0f;
          border: 1px solid #333;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .quote-row {
          display: flex;
          justify-content: space-between;
          font-size: 13px;
        }

        .quote-row span:first-child {
          color: #888;
        }

        .quote-row span:last-child {
          color: #fff;
        }

        .quote-row .high-impact {
          color: #FF6B6B;
        }

        .swap-error {
          display: flex;
          align-items: flex-start;
          gap: 10px;
        }

        .swap-error svg {
          flex-shrink: 0;
          margin-top: 2px;
        }

        .swap-success {
          word-break: break-all;
        }

        .swap-execute-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
        }

        .swap-disclaimer {
          text-align: center;
          font-size: 12px;
          color: #666;
          margin: 0;
        }

        .quick-action-icon.swap {
          background: rgba(153, 69, 255, 0.1);
          color: #9945FF;
        }

        .quick-action-card.swap::before {
          background: linear-gradient(135deg, #9945FF, #14F195);
        }

        .quick-action-card.swap:hover {
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 20px rgba(153, 69, 255, 0.3);
        }
        
        .quick-action-card:hover .quick-action-icon {
          transform: scale(1.1);
        }
        
        .quick-action-label {
          font-size: 14px;
          font-weight: 600;
          color: #fff;
        }

        @media (max-width: 480px) {
          .wallet-hero h1 {
            font-size: 26px;
          }

          .mnemonic-grid {
            grid-template-columns: repeat(2, 1fr);
          }

          .wallet-features {
            flex-direction: column;
            gap: 12px;
          }

          .total-value {
            font-size: 32px;
          }

          .dust-buster-panel {
            max-width: 100%;
            border-radius: 12px;
          }

          .dust-buster-overlay {
            padding: 20px 12px;
          }
          
          /* Premium Responsive Styles */
          .wallet-hero-premium {
            padding: 20px 16px;
          }
          
          .wallet-hero-content {
            flex-direction: column;
            text-align: center;
          }
          
          .wallet-hero-balance {
            align-items: center;
          }
          
          .hero-balance-value {
            font-size: 36px;
          }
          
          .hero-actions {
            justify-content: center;
          }
          
          .wallet-hero-agent {
            order: -1;
            margin-bottom: 16px;
          }
          
          .agent-image {
            width: 80px;
            height: 80px;
          }
          
          .speech-bubble {
            position: relative;
            bottom: auto;
            right: auto;
            margin-bottom: 10px;
            max-width: 200px;
          }
          
          .speech-bubble-tail {
            left: 50%;
            right: auto;
            transform: translateX(-50%);
          }
          
          .quick-actions-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
          }
          
          .quick-action-card {
            padding: 16px 10px;
          }
          
          .quick-action-icon {
            width: 40px;
            height: 40px;
          }
          
          .quick-action-icon svg {
            width: 20px;
            height: 20px;
          }
          
          .quick-action-label {
            font-size: 12px;
          }
          
          .chain-card-premium {
            padding: 14px;
          }
          
          .chain-card-icon {
            width: 40px;
            height: 40px;
            font-size: 22px;
          }
          
          .chain-card-name {
            font-size: 14px;
          }
          
          .chain-balance-crypto {
            font-size: 14px;
          }
          
          .accordion-actions {
            flex-direction: column;
          }
          
          .address-text {
            font-size: 10px;
          }
        }
      `})]})}function Zn({userId:a}){return e.jsx("div",{className:"tab-content wallet-tab",children:e.jsx(vn,{userId:a})})}const jn=[{id:"pulse_pro",name:"Pulse Pro",badge:"MOST POPULAR",price:"$14.99",period:"/month",annualPrice:"$149.99",annualPeriod:"/year",savings:"Save $30/yr",description:"AI-powered predictions & unlimited searches",features:["Unlimited AI searches","Advanced AI predictions","Full technical analysis","Real-time price alerts","Fear & Greed analytics","Knowledge Base access","2-day free trial"],notIncluded:["StrikeAgent sniper bot","Multi-chain support","DWAV token rewards"],cta:"Start Free Trial",popular:!0,action:"upgradePulseMonthly",annualAction:"upgradePulseAnnual"},{id:"strike_agent",name:"StrikeAgent Elite",price:"$30",period:"/month",annualPrice:"$300",annualPeriod:"/year",savings:"Save $60/yr",description:"Full sniper bot with safety checks",features:["AI-powered sniper bot","Honeypot detection","Anti-MEV protection","Multi-chain support (23 chains)","Built-in wallet","Trade history & analytics","2-day free trial"],notIncluded:["AI predictions (Pulse Pro)","DWAV token rewards"],cta:"Start Free Trial",popular:!1,action:"upgradeStrikeMonthly",annualAction:"upgradeStrikeAnnual"},{id:"complete_bundle",name:"DarkWave Complete",badge:"BEST VALUE",price:"$39.99",period:"/month",annualPrice:"$399.99",annualPeriod:"/year",savings:"Save $80/yr + $5/mo vs separate",description:"Everything included - ultimate trading suite",features:["Everything in Pulse Pro","Everything in StrikeAgent Elite","Priority support","Early feature access","Guardian Bot access","Save $5/mo vs buying separately","2-day free trial"],notIncluded:[],cta:"Start Free Trial",popular:!1,action:"upgradeBundleMonthly",annualAction:"upgradeBundleAnnual"},{id:"founder",name:"Legacy Founder",badge:"GRANDFATHERED",price:"$24",period:"one-time",description:"6 months access + 35K DWAV tokens",features:["Full access for 6 months","35,000 DWAV tokens (Feb 14, 2026)","StrikeAgent access","Founding member badge","No recurring billing"],notIncluded:[],cta:"No Longer Available",popular:!1,disabled:!0,legacy:!0}];function er({userId:a,currentTier:t}){const[i,r]=n.useState(null),[o,c]=n.useState(""),[h,p]=n.useState("monthly"),d=async(l,y=!1)=>{const x=y?l.annualAction:l.action;if(x){r(l.id+(y?"_annual":"")),c("");try{let b="";switch(x){case"upgradePulseMonthly":b="/api/payments/stripe/create-pulse-monthly";break;case"upgradePulseAnnual":b="/api/payments/stripe/create-pulse-annual";break;case"upgradeStrikeMonthly":b="/api/payments/stripe/create-strike-monthly";break;case"upgradeStrikeAnnual":b="/api/payments/stripe/create-strike-annual";break;case"upgradeBundleMonthly":b="/api/payments/stripe/create-bundle-monthly";break;case"upgradeBundleAnnual":b="/api/payments/stripe/create-bundle-annual";break;case"upgradeLegacyFounder":b="/api/payments/stripe/create-founder";break;default:return}const u=await(await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:a})})).json();u.url?window.location.href=u.url:u.error&&c(u.error)}catch(b){c(b.message||"Failed to start checkout")}finally{r(null)}}};return e.jsxs("div",{className:"tab-content pricing-tab",children:[e.jsxs("div",{className:"pricing-header",children:[e.jsx("h1",{children:"Choose Your Plan"}),e.jsx("p",{children:"Start your 2-day free trial â€¢ 3-day refund policy â€¢ Cancel anytime"}),e.jsxs("div",{className:"billing-toggle-wrapper",children:[e.jsxs("div",{className:"billing-toggle",children:[e.jsx("button",{className:`toggle-btn ${h==="monthly"?"active":""}`,onClick:()=>p("monthly"),children:"Monthly"}),e.jsx("button",{className:`toggle-btn ${h==="annual"?"active":""}`,onClick:()=>p("annual"),children:"Annual"})]}),e.jsx("span",{className:"save-badge-standalone",children:"Save up to 17%"})]})]}),o&&e.jsx("div",{className:"pricing-error",children:o}),e.jsx("div",{className:"pricing-grid",children:jn.filter(l=>!l.legacy).map(l=>e.jsxs("div",{className:`pricing-card ${l.popular?"popular":""} ${t===l.id?"current":""}`,children:[l.badge&&e.jsx("div",{className:"pricing-badge",children:l.badge}),e.jsxs("div",{className:"pricing-card-header",children:[e.jsx("h2",{children:l.name}),e.jsxs("div",{className:"pricing-price",children:[e.jsx("span",{className:"price-amount",children:h==="annual"&&l.annualPrice?l.annualPrice:l.price}),e.jsx("span",{className:"price-period",children:h==="annual"&&l.annualPeriod?l.annualPeriod:l.period})]}),h==="annual"&&l.savings&&e.jsx("div",{className:"pricing-savings",children:l.savings}),e.jsx("p",{className:"pricing-description",children:l.description})]}),e.jsx("div",{className:"pricing-features",children:e.jsxs("ul",{className:"feature-list",children:[l.features.map((y,x)=>e.jsxs("li",{className:"feature-item included",children:[e.jsx("span",{className:"feature-icon",children:"âœ“"}),y]},x)),l.notIncluded.map((y,x)=>e.jsxs("li",{className:"feature-item not-included",children:[e.jsx("span",{className:"feature-icon",children:"âœ•"}),y]},`not-${x}`))]})}),e.jsx("button",{className:`pricing-cta ${l.popular?"primary":"secondary"}`,onClick:()=>d(l,h==="annual"),disabled:l.disabled||i===l.id||i===l.id+"_annual"||t===l.id,children:i===l.id||i===l.id+"_annual"?"Processing...":t===l.id?"Current Plan":l.cta})]},l.id))}),e.jsx("div",{className:"legacy-section",children:e.jsxs("details",{children:[e.jsx("summary",{className:"legacy-toggle",children:e.jsx("span",{children:"ðŸ† Legacy Founder (Grandfathered - No longer available)"})}),e.jsx("div",{className:"legacy-card",children:e.jsx("p",{children:"The Legacy Founder plan was available during our early launch. Existing Founders retain their 6-month access and 35,000 DWAV tokens."})})]})}),e.jsxs("div",{className:"pricing-footer",children:[e.jsxs("div",{className:"pricing-guarantee",children:[e.jsx("span",{className:"guarantee-icon",children:"ðŸ”’"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Secure Payment"}),e.jsx("p",{children:"All transactions processed securely via Stripe"})]})]}),e.jsxs("div",{className:"pricing-guarantee",children:[e.jsx("span",{className:"guarantee-icon",children:"ðŸ’°"}),e.jsxs("div",{children:[e.jsx("strong",{children:"3-Day Refund Policy"}),e.jsx("p",{children:"Not satisfied? Get a full refund within 3 days"})]})]}),e.jsxs("div",{className:"pricing-guarantee",children:[e.jsx("span",{className:"guarantee-icon",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("strong",{children:"2-Day Free Trial"}),e.jsx("p",{children:"Try all features before you're charged"})]})]})]}),e.jsxs("div",{className:"pricing-faq",children:[e.jsx("h3",{children:"Frequently Asked Questions"}),e.jsxs("div",{className:"faq-grid",children:[e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"How does the 2-day trial work?"}),e.jsx("p",{children:"Start using all features immediately. You won't be charged until after 2 days. Cancel anytime during the trial."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"What's the difference between Pulse Pro and StrikeAgent?"}),e.jsx("p",{children:"Pulse Pro focuses on AI predictions and analysis. StrikeAgent is our automated sniper bot for trading. Get both with DarkWave Complete."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"Can I cancel my subscription?"}),e.jsx("p",{children:"Yes, cancel anytime from Settings. Your access continues until the end of your billing period."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"What's the refund policy?"}),e.jsx("p",{children:"Full refund within 3 days of purchase, no questions asked. After that, you can still cancel but won't receive a refund."})]})]})]})]})}function wn(a){return!a&&a!==0?"â€”":a>=1e12?`${(a/1e12).toFixed(2)}T`:a>=1e9?`${(a/1e9).toFixed(2)}B`:a>=1e6?`${(a/1e6).toFixed(2)}M`:a>=1e3?`${(a/1e3).toFixed(2)}K`:a<.01?a.toFixed(6):a.toFixed(2)}function Fe(a){return!a&&a!==0?"$â€”":a<.01?`$${a.toFixed(6)}`:a<1?`$${a.toFixed(4)}`:`$${wn(a)}`}function kn(a){const t=Math.floor(Math.random()*40)+30,i=(Math.random()*2-1).toFixed(4),r=(Math.random()*2-1).toFixed(4),o=parseFloat(a.price?.replace(/[$,]/g,"")||0)*(.95+Math.random()*.1),c=parseFloat(a.price?.replace(/[$,]/g,"")||0)*(.92+Math.random()*.16),h=parseFloat(a.price?.replace(/[$,]/g,"")||0)*(.97+Math.random()*.06),p=parseFloat(a.price?.replace(/[$,]/g,"")||0)*(.95+Math.random()*.1);return{rsi:t,macd:{value:i,signal:r,histogram:(i-r).toFixed(4)},sma20:o,sma50:c,ema12:h,ema26:p}}function Sn(a){const t=a.rsi;let i,r;return t<30?(i="BUY",r=Math.floor(70+Math.random()*25)):t>70?(i="SELL",r=Math.floor(65+Math.random()*25)):(i="HOLD",r=Math.floor(55+Math.random()*30)),{signal:i,confidence:r}}function Fn(a){const t=parseFloat(a?.replace(/[$,]/g,"")||0);return{resistance1:t*(1.02+Math.random()*.03),resistance2:t*(1.05+Math.random()*.05),support1:t*(.95+Math.random()*.03),support2:t*(.9+Math.random()*.05)}}function ia({label:a,value:t,status:i,isActive:r,onToggle:o,canToggle:c}){let h="var(--text-secondary)";i==="bullish"&&(h="#39FF14"),i==="bearish"&&(h="#FF4444"),i==="neutral"&&(h="rgba(255,255,255,0.5)");const p=()=>{c&&o&&o()};return e.jsxs("div",{onClick:p,style:{cursor:c?"pointer":"default",background:r?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.03)",border:r?"1px solid rgba(0, 212, 255, 0.4)":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px",transition:"all 0.2s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"10px",color:"#fff",fontSize:"14px",fontWeight:"500"},children:[c&&e.jsx("span",{style:{width:"18px",height:"18px",borderRadius:"4px",border:r?"2px solid #00D4FF":"2px solid rgba(255,255,255,0.3)",background:r?"#00D4FF":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",color:"#000",transition:"all 0.2s ease"},children:r&&"âœ“"}),a]}),e.jsx("span",{style:{color:h,fontSize:"14px",fontWeight:"600"},children:t})]})}function sa({label:a,value:t,subValue:i}){return e.jsxs("div",{style:N.statBox,children:[e.jsx("div",{style:N.statLabel,children:a}),e.jsx("div",{style:N.statValue,children:t}),i&&e.jsx("div",{style:N.statSub,children:i})]})}function Cn(){return e.jsxs("div",{style:N.loading,children:[e.jsx("div",{style:N.spinner}),e.jsx("span",{children:"Loading analysis..."})]})}function Nn({coinSymbol:a}){const[t,i]=n.useState(!0),[r,o]=n.useState(""),c=`analysis-notes-${a}`;n.useEffect(()=>{try{const p=localStorage.getItem(c);o(p||"")}catch{console.log("Could not load notes from localStorage")}},[c]);const h=n.useCallback(p=>{const d=p.target.value;o(d);try{localStorage.setItem(c,d)}catch{console.log("Could not save notes to localStorage")}},[c]);return e.jsxs("div",{style:we.container,children:[e.jsxs("button",{style:we.header,onClick:()=>i(!t),children:[e.jsxs("span",{style:we.headerTitle,children:["ðŸ“ Analysis Notes",r.length>0&&e.jsx("span",{style:we.badge,children:r.length})]}),e.jsx("span",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",transition:"transform 0.3s ease",transform:t?"rotate(180deg)":"rotate(0deg)"},children:"â–¼"})]}),t&&e.jsxs("div",{style:we.content,children:[e.jsx("textarea",{style:we.textarea,value:r,onChange:h,placeholder:`Add your analysis notes for ${a}...

Your notes are automatically saved.`,rows:6}),e.jsx("div",{style:we.footer,children:e.jsxs("span",{style:we.autosave,children:[e.jsx("span",{style:we.saveDot}),"Auto-saved locally"]})})]})]})}const we={container:{background:"linear-gradient(145deg, rgba(15, 15, 15, 0.9) 0%, rgba(20, 20, 20, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},header:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"18px 20px",background:"transparent",border:"none",cursor:"pointer",transition:"background 0.2s ease",color:"#fff"},headerTitle:{display:"flex",alignItems:"center",gap:"12px",fontSize:"16px",fontWeight:"600"},badge:{background:"rgba(0, 212, 255, 0.2)",color:"#00D4FF",fontSize:"11px",fontWeight:"700",padding:"3px 8px",borderRadius:"12px"},content:{padding:"0 20px 20px"},textarea:{width:"100%",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"16px",fontSize:"14px",lineHeight:"1.6",color:"#fff",resize:"vertical",minHeight:"120px",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease"},footer:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},autosave:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"rgba(255, 255, 255, 0.4)"},saveDot:{width:"8px",height:"8px",background:"#39FF14",borderRadius:"50%"}},N={container:{minHeight:"100vh",paddingBottom:"100px"},coinInfoBar:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",padding:"8px 0"},coinLogoSmall:{width:"32px",height:"32px",borderRadius:"8px",objectFit:"cover",background:"rgba(255, 255, 255, 0.1)"},coinInfoText:{display:"flex",flexDirection:"column",gap:"1px"},coinNameSmall:{fontSize:"15px",fontWeight:"600",color:"#fff"},coinSymbolSmall:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)",fontWeight:"500"},header:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"24px",paddingTop:"8px"},backButton:{width:"44px",height:"44px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",color:"#fff",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",flexShrink:0},mockBadge:{background:"rgba(255, 193, 7, 0.2)",color:"#FFC107",fontSize:"10px",fontWeight:"700",padding:"3px 8px",borderRadius:"6px"},chartSection:{marginBottom:"24px"},sectionTitle:{fontSize:"16px",fontWeight:"600",color:"#fff",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},bentoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},bentoCard:{background:"linear-gradient(145deg, rgba(15, 15, 15, 0.9) 0%, rgba(20, 20, 20, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"20px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},indicatorsGrid:{display:"flex",flexDirection:"column",gap:"10px"},predictionCard:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},signalBadge:{fontSize:"20px",fontWeight:"800",padding:"12px 28px",borderRadius:"12px",letterSpacing:"1px"},confidenceRow:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},confidenceLabel:{fontSize:"13px",color:"rgba(255, 255, 255, 0.5)"},confidenceValue:{fontSize:"18px",fontWeight:"700",color:"#fff"},confidenceBar:{width:"100%",height:"8px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden"},confidenceFill:{height:"100%",borderRadius:"4px",transition:"width 0.5s ease"},levelsGrid:{display:"flex",flexDirection:"column",gap:"10px"},levelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 14px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.03)"},levelLabel:{fontSize:"13px",fontWeight:"600"},levelValue:{fontSize:"14px",fontWeight:"600",color:"#fff"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},statBox:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",padding:"14px",textAlign:"center"},statLabel:{fontSize:"11px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},statValue:{fontSize:"16px",fontWeight:"700",color:"#fff"},statSub:{fontSize:"11px",color:"rgba(255, 255, 255, 0.4)",marginTop:"4px"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",padding:"60px 20px",color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},spinner:{width:"36px",height:"36px",border:"3px solid rgba(0, 212, 255, 0.2)",borderTopColor:"#00D4FF",borderRadius:"50%",animation:"spin 1s linear infinite"}};function ar({coin:a,onBack:t}){const[i,r]=n.useState(!1),[o,c]=n.useState(null),[h,p]=n.useState(!1),[d,l]=n.useState({rsi:!1,macd:!1,sma:!1,ema:!1});n.useEffect(()=>{a?.symbol&&(r(!0),c(null),p(!1),l({rsi:!1,macd:!1,sma:!1,ema:!1}),dn(a.symbol).then(I=>{I.success&&I.data?(c(I.data),p(!1)):p(!0)}).catch(()=>{p(!0)}).finally(()=>{r(!1)}))},[a?.symbol]);const y=I=>{l($=>({...$,[I]:!$[I]}))},x=n.useMemo(()=>o?{rsi:o.rsi||50,macd:{value:o.macd?.value?.toFixed(4)||"0.0000",signal:o.macd?.signal?.toFixed(4)||"0.0000",histogram:o.macd?.histogram?.toFixed(4)||"0.0000"},sma20:o.sma50||0,sma50:o.sma200||o.sma50||0,ema12:o.ema9||0,ema26:o.ema21||0}:a?kn(a):null,[a,o]),b=n.useMemo(()=>{if(o?.recommendation){const I=o.recommendation,$=o.signalCount?.bullish||0,G=o.signalCount?.bearish||0,_=$+G;let te=50;if(_>0){const J=Math.max($,G);te=Math.round(J/_*100)}return{signal:I,confidence:te}}return x?Sn(x):null},[x,o]),f=n.useMemo(()=>o?.support&&o?.resistance?{resistance1:o.resistance,resistance2:o.resistance*1.03,support1:o.support,support2:o.support*.97}:a?Fn(a.price):null,[a,o]);if(!a)return e.jsx("div",{style:N.container,children:e.jsxs("div",{style:N.header,children:[e.jsx("button",{style:N.backButton,onClick:t,children:"â†"}),e.jsx("h2",{style:{color:"#fff",margin:0},children:"No coin selected"})]})});parseFloat(a.change)>0;const u=parseFloat(a.price?.replace(/[$,]/g,"")||0),j=u*(1+Math.random()*.05),v=u*(1-Math.random()*.05),z=I=>I<30?"bullish":I>70?"bearish":"neutral",M=I=>parseFloat(I.histogram)>0?"bullish":"bearish",V=(I=>I==="BUY"||I==="STRONG_BUY"?{bg:"rgba(57, 255, 20, 0.2)",color:"#39FF14"}:I==="SELL"||I==="STRONG_SELL"?{bg:"rgba(255, 68, 68, 0.2)",color:"#FF4444"}:{bg:"rgba(0, 212, 255, 0.2)",color:"#00D4FF"})(b?.signal);return e.jsxs("div",{style:N.container,children:[e.jsxs("div",{style:N.coinInfoBar,children:[e.jsx("img",{src:a?.logo||"/darkwave-coin.png",alt:a?.name||"Coin",style:N.coinLogoSmall,onError:I=>I.target.src="/darkwave-coin.png"}),e.jsxs("div",{style:N.coinInfoText,children:[e.jsx("span",{style:N.coinNameSmall,children:a?.name||"Unknown"}),e.jsx("span",{style:N.coinSymbolSmall,children:a?.symbol||"â€”"})]}),h&&e.jsx("span",{style:N.mockBadge,children:"Demo"})]}),i?e.jsx(Cn,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:N.chartSection,children:e.jsx(xn,{coin:a,activeIndicators:d,fullWidth:!0})}),e.jsxs("div",{style:N.bentoGrid,children:[e.jsxs("div",{style:N.bentoCard,children:[e.jsxs("h3",{style:N.sectionTitle,children:["ðŸ“Š Technical Indicators",e.jsx("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",fontWeight:"400"},children:"(tap to overlay)"})]}),e.jsxs("div",{style:N.indicatorsGrid,children:[e.jsx(ia,{label:"RSI (14)",value:typeof x?.rsi=="number"?x.rsi.toFixed(2):x?.rsi,status:z(x?.rsi||50),isActive:d.rsi,onToggle:()=>y("rsi"),canToggle:!1}),e.jsx(ia,{label:"MACD",value:x?.macd?.value,status:M(x?.macd||{histogram:"0"}),isActive:d.macd,onToggle:()=>y("macd"),canToggle:!1}),e.jsx(ia,{label:"SMA (20)",value:Fe(x?.sma20),status:u>(x?.sma20||0)?"bullish":"bearish",isActive:d.sma,onToggle:()=>y("sma"),canToggle:!0}),e.jsx(ia,{label:"EMA (12)",value:Fe(x?.ema12),status:u>(x?.ema12||0)?"bullish":"bearish",isActive:d.ema,onToggle:()=>y("ema"),canToggle:!0})]})]}),e.jsxs("div",{style:N.bentoCard,children:[e.jsx("h3",{style:N.sectionTitle,children:"ðŸ¤– AI Prediction"}),e.jsxs("div",{style:N.predictionCard,children:[e.jsx("div",{style:{...N.signalBadge,background:V.bg,color:V.color,boxShadow:`0 0 20px ${V.bg}`},children:b?.signal||"HOLD"}),e.jsxs("div",{style:N.confidenceRow,children:[e.jsx("span",{style:N.confidenceLabel,children:"Confidence"}),e.jsxs("span",{style:N.confidenceValue,children:[b?.confidence||50,"%"]})]}),e.jsx("div",{style:N.confidenceBar,children:e.jsx("div",{style:{...N.confidenceFill,width:`${b?.confidence||50}%`,background:V.color}})})]})]}),e.jsxs("div",{style:N.bentoCard,children:[e.jsx("h3",{style:N.sectionTitle,children:"ðŸ“ Support & Resistance"}),e.jsxs("div",{style:N.levelsGrid,children:[e.jsxs("div",{style:{...N.levelRow,borderLeft:"3px solid #FF4444"},children:[e.jsx("span",{style:{...N.levelLabel,color:"#FF4444"},children:"R2"}),e.jsx("span",{style:N.levelValue,children:Fe(f?.resistance2)})]}),e.jsxs("div",{style:{...N.levelRow,borderLeft:"3px solid #FF6B6B"},children:[e.jsx("span",{style:{...N.levelLabel,color:"#FF6B6B"},children:"R1"}),e.jsx("span",{style:N.levelValue,children:Fe(f?.resistance1)})]}),e.jsxs("div",{style:{...N.levelRow,borderLeft:"3px solid #00D4FF",background:"rgba(0, 212, 255, 0.1)"},children:[e.jsx("span",{style:{...N.levelLabel,color:"#00D4FF"},children:"Current"}),e.jsx("span",{style:N.levelValue,children:a.price})]}),e.jsxs("div",{style:{...N.levelRow,borderLeft:"3px solid #39FF14"},children:[e.jsx("span",{style:{...N.levelLabel,color:"#39FF14"},children:"S1"}),e.jsx("span",{style:N.levelValue,children:Fe(f?.support1)})]}),e.jsxs("div",{style:{...N.levelRow,borderLeft:"3px solid #2ECC71"},children:[e.jsx("span",{style:{...N.levelLabel,color:"#2ECC71"},children:"S2"}),e.jsx("span",{style:N.levelValue,children:Fe(f?.support2)})]})]})]}),e.jsxs("div",{style:N.bentoCard,children:[e.jsx("h3",{style:N.sectionTitle,children:"ðŸ“‹ Key Statistics"}),e.jsxs("div",{style:N.statsGrid,children:[e.jsx(sa,{label:"24h High",value:Fe(j)}),e.jsx(sa,{label:"24h Low",value:Fe(v)}),e.jsx(sa,{label:"24h Volume",value:a.volume}),e.jsx(sa,{label:"Volatility",value:o?.volatility?`${o.volatility.toFixed(1)}%`:"â€”",subValue:h?"Loading...":""})]})]})]}),e.jsx(Nn,{coinSymbol:a.symbol})]})]})}const Ia=document.createElement("style");Ia.textContent="@keyframes spin { to { transform: rotate(360deg); } }";document.querySelector("[data-analysis-tab-spinner]")||(Ia.setAttribute("data-analysis-tab-spinner","true"),document.head.appendChild(Ia));const De=[{id:"business",title:"Business Documents",icon:"ðŸ’¼",color:"#00D4FF",docs:[{id:"executive",title:"Executive Summary",icon:"ðŸ“‹",file:"/business-docs/DARKWAVE_EXECUTIVE_SUMMARY_CONSERVATIVE.md",description:"Company overview, problem, solution"},{id:"investor",title:"Investor Brief",icon:"ðŸ’°",file:"/business-docs/DARKWAVE_INVESTOR_BRIEF_CONSERVATIVE.md",description:"Full business plan for investors"},{id:"roadmap",title:"Product Roadmap",icon:"ðŸ—ºï¸",file:"/business-docs/DARKWAVE_ROADMAP.md",description:"2025-2028 development timeline"},{id:"bootstrap",title:"Bootstrap Plan",icon:"ðŸš€",file:"/business-docs/DARKWAVE_BOOTSTRAP_PLAN.md",description:"Lean startup strategy"}]},{id:"token",title:"DWAV Token",icon:"ðŸª™",color:"#39FF14",docs:[{id:"whitepaper",title:"Whitepaper",icon:"ðŸ“„",file:"/docs/DWAV_WHITEPAPER.md",description:"Complete token documentation"},{id:"tokeninfo",title:"Token Specifications",icon:"ðŸ”¢",file:"/docs/DWAV_TOKEN_INFO.md",description:"Technical specs & tokenomics"},{id:"contract",title:"Smart Contract",icon:"âš¡",file:"/docs/DWAV_SMART_CONTRACT.md",description:"Anchor program documentation"}]},{id:"marketing",title:"Marketing & Launch",icon:"ðŸ“¢",color:"#8B5CF6",docs:[{id:"social",title:"Social Media Posts",icon:"ðŸ“±",file:"/marketing/SOCIAL_MEDIA_POSTS.md",description:"7 ready-to-post templates"},{id:"action",title:"2-Week Action Plan",icon:"ðŸ“…",file:"/marketing/ACTION_PLAN_2_WEEKS.md",description:"Marketing launch strategy"}]},{id:"legal",title:"Legal & Compliance",icon:"âš–ï¸",color:"#FFB800",docs:[{id:"disclaimer",title:"Legal Disclaimer",icon:"ðŸ“œ",file:"/docs/LEGAL_DISCLAIMER.md",description:"Risk disclosures & terms"}]}],Tn=De.flatMap(a=>a.docs),An=[{id:1,text:"Post whitepaper announcement on X/Twitter",done:!1,priority:"high"},{id:2,text:"Share launch content on Telegram channel",done:!1,priority:"high"},{id:3,text:"Set up Facebook business page",done:!1,priority:"medium"},{id:4,text:"Apply for CEX listings (post-launch)",done:!1,priority:"low"},{id:5,text:"Set up MoonPay crypto on-ramp",done:!1,priority:"medium",link:"https://dashboard.moonpay.com",instructions:`1. Create account at dashboard.moonpay.com
2. Complete business verification
3. Get your API key (pk_live_xxx)
4. Get your Secret key for URL signing
5. Add keys to Replit Secrets: MOONPAY_API_KEY, MOONPAY_SECRET_KEY`},{id:6,text:"Set up Transak crypto on-ramp",done:!1,priority:"low",link:"https://dashboard.transak.com",instructions:`1. Create account at dashboard.transak.com
2. Complete KYB verification
3. Get your API key from Settings
4. Add key to Replit Secrets: TRANSAK_API_KEY`},{id:7,text:"Apply for Stripe Crypto Onramp",done:!1,priority:"low",link:"https://stripe.com/crypto",instructions:`1. Go to Stripe Dashboard > Products > Crypto Onramp
2. Click "Request Access"
3. Complete application form
4. Wait for approval (1-2 weeks)`}],zn={free:"#00D4FF",pro:"#39FF14",enterprise:"#8B5CF6"},Ge={free:["market:read","signals:read"],pro:["market:read","signals:read","predictions:read","accuracy:read"],enterprise:["market:read","signals:read","predictions:read","accuracy:read","strikeagent:read","webhooks:write"]},oe={background:"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},Be=({title:a,icon:t,children:i,fullWidth:r,glowColor:o})=>e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:`1px solid ${o?`${o}40`:"#2a2a2a"}`,gridColumn:r?"1 / -1":"span 1",boxShadow:o?`0 0 30px ${o}20`:"none",transition:"all 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:t}),e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:"600"},children:a})]}),i]}),oa=({title:a,value:t,subtitle:i,icon:r,glow:o})=>e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:`1px solid ${o?`${o}40`:"#2a2a2a"}`,boxShadow:o?`0 0 20px ${o}20`:"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#888"},children:a}),e.jsx("span",{style:{fontSize:"20px"},children:r})]}),e.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#fff",marginBottom:"4px"},children:t}),i&&e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:i})]}),bt=({count:a})=>e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"24px",border:"1px solid rgba(0, 212, 255, 0.3)",boxShadow:"0 0 40px rgba(0, 212, 255, 0.15)",textAlign:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"#39FF14",boxShadow:"0 0 10px #39FF14",animation:"pulse 2s infinite"}}),e.jsx("span",{style:{fontSize:"14px",color:"#888",textTransform:"uppercase",letterSpacing:"2px"},children:"Live Visitors"})]}),e.jsx("div",{style:{fontSize:"48px",fontWeight:"800",color:"#00D4FF"},children:a}),e.jsx("style",{children:"@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"})]}),yt=({title:a,items:t,labelKey:i,valueKey:r,icon:o})=>e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("span",{children:o}),e.jsx("span",{style:{fontWeight:"600",color:"#fff"},children:a})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.length===0?e.jsx("div",{style:{color:"#666",fontSize:"13px",textAlign:"center",padding:"20px"},children:"No data yet"}):t.slice(0,5).map((c,h)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:h<Math.min(t.length,5)-1?"1px solid #2a2a2a":"none"},children:[e.jsx("span",{style:{color:"#ccc",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"70%"},children:c[i]}),e.jsx("span",{style:{color:"#00D4FF",fontWeight:"600",fontSize:"13px"},children:c[r]})]},h))})]}),Bn=({data:a})=>{const t=[{key:"desktop",label:"Desktop",icon:"ðŸ–¥ï¸",color:"#00D4FF"},{key:"mobile",label:"Mobile",icon:"ðŸ“±",color:"#39FF14"},{key:"tablet",label:"Tablet",icon:"ðŸ“²",color:"#8B5CF6"}];return e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"16px"},children:"Device Breakdown"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.map(i=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[i.icon," ",i.label]}),e.jsxs("span",{style:{color:i.color,fontWeight:"600"},children:[a[i.key],"%"]})]}),e.jsx("div",{style:{height:"6px",background:"#2a2a2a",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${a[i.key]}%`,height:"100%",background:i.color,borderRadius:"3px"}})})]},i.key))})]})},Dn=({doc:a,onView:t,color:i="#00D4FF"})=>e.jsx("div",{onClick:()=>t(a),style:{...oe,borderRadius:"12px",padding:"16px",border:"1px solid #2a2a2a",cursor:"pointer",transition:"all 0.3s ease",minWidth:"220px",flex:"0 0 auto"},onMouseOver:r=>{r.currentTarget.style.borderColor=i,r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow=`0 0 25px ${i}30`},onMouseOut:r=>{r.currentTarget.style.borderColor="#2a2a2a",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"28px"},children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:a.title}),e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:a.description})]})]})}),Rn=({category:a,onViewDoc:t})=>{const i=n.useRef(null),[r,o]=n.useState(!1),[c,h]=n.useState(!0),p=()=>{if(i.current){const{scrollLeft:l,scrollWidth:y,clientWidth:x}=i.current;o(l>0),h(l<y-x-5)}};n.useEffect(()=>{p();const l=i.current;return l&&l.addEventListener("scroll",p),()=>l?.removeEventListener("scroll",p)},[]);const d=l=>{if(i.current){const y=l==="left"?-280:280;i.current.scrollBy({left:y,behavior:"smooth"})}};return e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:`1px solid ${a.color}30`,boxShadow:`0 0 30px ${a.color}10`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:a.icon}),e.jsx("h3",{style:{margin:0,color:a.color,fontSize:"16px",fontWeight:"600"},children:a.title}),e.jsxs("span",{style:{background:`${a.color}20`,color:a.color,fontSize:"10px",padding:"3px 8px",borderRadius:"8px",fontWeight:"600"},children:[a.docs.length," docs"]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>d("left"),disabled:!r,style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:r?a.color:"#333",color:r?"#000":"#666",cursor:r?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},children:"â†"}),e.jsx("button",{onClick:()=>d("right"),disabled:!c,style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:c?a.color:"#333",color:c?"#000":"#666",cursor:c?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"all 0.2s ease"},children:"â†’"})]})]}),e.jsx("div",{ref:i,style:{display:"flex",gap:"12px",overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",paddingBottom:"4px"},children:a.docs.map(l=>e.jsx(Dn,{doc:l,onView:t,color:a.color},l.id))}),e.jsx("style",{children:`
        div::-webkit-scrollbar { display: none; }
      `})]})},Pn=({doc:a,onView:t,color:i})=>e.jsxs("div",{onClick:()=>t(a),style:{...oe,borderRadius:"12px",padding:"16px",border:`1px solid ${i}30`,cursor:"pointer",transition:"all 0.3s ease",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",minHeight:"100px"},onMouseOver:r=>{r.currentTarget.style.borderColor=i,r.currentTarget.style.boxShadow=`0 0 30px ${i}30`,r.currentTarget.style.transform="scale(1.02)"},onMouseOut:r=>{r.currentTarget.style.borderColor=`${i}30`,r.currentTarget.style.boxShadow="none",r.currentTarget.style.transform="scale(1)"},children:[e.jsx("span",{style:{fontSize:"32px",marginBottom:"8px"},children:a.icon}),e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"13px"},children:a.title})]}),Wn=({task:a,onToggle:t})=>{const i={high:"#FF4444",medium:"#FFB344",low:"#44FF44"},[r,o]=n.useState(!1);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{onClick:()=>t(a.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:a.done?"rgba(26, 42, 26, 0.6)":"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"8px",border:`1px solid ${a.done?"#39FF1430":"#2a2a2a"}`,cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:`2px solid ${a.done?"#39FF14":"#444"}`,background:a.done?"#39FF14":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a.done&&e.jsx("span",{style:{color:"#000",fontSize:"12px"},children:"âœ“"})}),e.jsx("span",{style:{flex:1,color:a.done?"#666":"#fff",textDecoration:a.done?"line-through":"none",fontSize:"14px"},children:a.text}),a.link&&e.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",onClick:c=>c.stopPropagation(),style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#000",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textDecoration:"none",flexShrink:0},children:"Open â†’"}),a.instructions&&e.jsx("button",{onClick:c=>{c.stopPropagation(),o(!r)},style:{background:"#333",border:"none",color:"#888",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",cursor:"pointer",flexShrink:0},children:r?"Hide":"Steps"}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:i[a.priority],flexShrink:0}})]}),r&&a.instructions&&e.jsx("div",{style:{marginLeft:"32px",padding:"12px",background:"rgba(0, 212, 255, 0.05)",border:"1px solid rgba(0, 212, 255, 0.2)",borderRadius:"8px",fontSize:"12px",color:"#aaa",whiteSpace:"pre-line",lineHeight:"1.6"},children:a.instructions})]})},Mn=({doc:a,content:t,onClose:i})=>e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",flexDirection:"column",padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:a.icon}),e.jsx("h2",{style:{margin:0,color:"#fff"},children:a.title})]}),e.jsx("button",{onClick:i,style:{background:"#333",border:"none",borderRadius:"8px",color:"#fff",padding:"8px 16px",cursor:"pointer"},children:"âœ• Close"})]}),e.jsx("div",{style:{flex:1,overflow:"auto",...oe,borderRadius:"12px",padding:"24px",whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"14px",lineHeight:"1.6",color:"#ccc"},children:t||"Loading..."})]}),Pa=({tier:a,price:t,monthlyPrice:i,annualPrice:r,billingPeriod:o,features:c,limits:h,scopes:p,isCurrentPlan:d,isPopular:l,onUpgrade:y,onManage:x})=>{const[b,f]=n.useState(!1),u=zn[a],j=o==="annual"?r:i;return e.jsxs("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{...oe,textAlign:"center",padding:"24px 20px",borderRadius:"16px",border:`1px solid ${u}40`,position:"relative",boxShadow:b?`0 0 40px ${u}40, 0 0 60px ${u}20`:`0 0 20px ${u}15`,transform:b?"scale(1.02)":"scale(1)",transition:"all 0.3s ease"},children:[l&&e.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:`linear-gradient(135deg, ${u}, ${u}CC)`,color:a==="pro"?"#000":"#fff",fontSize:"10px",fontWeight:"700",padding:"6px 16px",borderRadius:"12px",boxShadow:`0 0 15px ${u}60`},children:"POPULAR"}),d&&e.jsx("div",{style:{position:"absolute",top:"-12px",right:"12px",background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#fff",fontSize:"9px",fontWeight:"700",padding:"4px 10px",borderRadius:"8px",textTransform:"uppercase"},children:"Current Plan"}),e.jsx("div",{style:{fontSize:"22px",fontWeight:"700",color:u,marginTop:l?"8px":0},children:a.charAt(0).toUpperCase()+a.slice(1)}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"800",color:"#fff",margin:"12px 0 4px"},children:["$",j,e.jsx("span",{style:{fontSize:"14px",color:"#888",fontWeight:"400"},children:"/mo"})]}),o==="annual"&&a!=="free"&&e.jsxs("div",{style:{fontSize:"11px",color:u,marginBottom:"8px"},children:["$",j*12,"/year (billed annually)"]}),e.jsx("div",{style:{fontSize:"12px",color:"#888",marginBottom:"4px"},children:h}),e.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"12px"},children:c}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",justifyContent:"center",marginTop:"12px",padding:"10px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:p.map((v,z)=>e.jsx("span",{style:{fontSize:"9px",padding:"3px 6px",borderRadius:"4px",background:`${u}20`,color:u,border:`1px solid ${u}40`},children:v},z))}),e.jsx("div",{style:{marginTop:"16px"},children:d?a==="free"?e.jsx("div",{style:{padding:"10px 20px",background:"#333",borderRadius:"8px",color:"#888",fontSize:"12px"},children:"Current Plan"}):e.jsx("button",{onClick:x,style:{width:"100%",padding:"12px 20px",background:"transparent",border:`1px solid ${u}`,borderRadius:"8px",color:u,fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Manage Subscription"}):e.jsx("button",{onClick:()=>y(a),style:{width:"100%",padding:"12px 20px",background:a==="free"?"#333":`linear-gradient(135deg, ${u}, ${u}CC)`,border:"none",borderRadius:"8px",color:a==="pro"?"#000":"#fff",fontSize:"12px",fontWeight:"700",cursor:a==="free"?"default":"pointer",boxShadow:a!=="free"?`0 0 15px ${u}40`:"none",transition:"all 0.2s ease"},children:a==="free"?"Free Forever":`Upgrade to ${a.charAt(0).toUpperCase()+a.slice(1)}`})})]})},En=({environment:a})=>{const t=a==="live";return e.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"9px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",background:t?"rgba(57, 255, 20, 0.15)":"rgba(255, 184, 0, 0.15)",color:t?"#39FF14":"#FFB800",border:`1px solid ${t?"rgba(57, 255, 20, 0.4)":"rgba(255, 184, 0, 0.4)"}`},children:t?"LIVE":"TEST"})},In=({scope:a})=>{const i={"market:read":"#00D4FF","signals:read":"#39FF14","predictions:read":"#8B5CF6","accuracy:read":"#FFB800","strikeagent:read":"#FF6B35","webhooks:write":"#FF4444"}[a]||"#888";return e.jsx("span",{style:{padding:"2px 5px",borderRadius:"3px",fontSize:"8px",fontWeight:"600",background:`${i}15`,color:i,border:`1px solid ${i}30`},children:a})},Ln=({isOpen:a,title:t,message:i,onConfirm:r,onCancel:o})=>a?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"100%",border:"1px solid #FF444440",boxShadow:"0 0 40px rgba(255, 68, 68, 0.2)"},children:[e.jsx("h3",{style:{margin:"0 0 12px",color:"#fff",fontSize:"18px"},children:t}),e.jsx("p",{style:{margin:"0 0 20px",color:"#888",fontSize:"14px",lineHeight:1.5},children:i}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:o,style:{flex:1,padding:"12px",background:"#333",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{onClick:r,style:{flex:1,padding:"12px",background:"linear-gradient(135deg, #FF4444, #FF6B6B)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Regenerate"})]})]})}):null;function tr(){const[a,t]=n.useState("overview"),[i,r]=n.useState(!0),[o,c]=n.useState(0),[h,p]=n.useState(null),[d,l]=n.useState(()=>{const m=localStorage.getItem("adminTasks");return m?JSON.parse(m):An}),[y,x]=n.useState(null),[b,f]=n.useState(""),[u,j]=n.useState([]),[v,z]=n.useState(!1),[M,Q]=n.useState(""),[V,I]=n.useState("live"),[$,G]=n.useState(["market:read","signals:read"]),[_,te]=n.useState(null),[J,le]=n.useState({}),[H,A]=n.useState("monthly"),[Z,re]=n.useState("free"),[me,w]=n.useState(null);n.useEffect(()=>{localStorage.setItem("adminTasks",JSON.stringify(d))},[d]),n.useEffect(()=>{(async()=>{try{const[W,U]=await Promise.all([fetch("/api/analytics/dashboard?tenantId=pulse"),fetch("/api/analytics/live?tenantId=pulse")]),ne=await W.json(),ce=await U.json();p(ne),c(ce.liveVisitors||0)}catch(W){console.error("Failed to load analytics:",W)}finally{r(!1)}})();const P=setInterval(async()=>{try{const U=await(await fetch("/api/analytics/live?tenantId=pulse")).json();c(U.liveVisitors||0)}catch{}},3e4);return()=>clearInterval(P)},[]),n.useEffect(()=>{(async()=>{try{const P=JSON.parse(localStorage.getItem("userSession")||"{}"),W=P.sessionToken||P.token;if(!W)return;const ne=await(await fetch("/api/developer/subscription",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({sessionToken:W})})).json();ne.tier&&(re(ne.tier),G(Ge[ne.tier]||Ge.free))}catch(P){console.error("Failed to fetch subscription:",P)}})()},[]);const B=async m=>{x(m),f("Loading...");try{const W=await(await fetch(m.file)).text();f(W)}catch{f("Failed to load document")}},K=m=>{l(P=>P.map(W=>W.id===m?{...W,done:!W.done}:W))},ee=d.filter(m=>m.done).length,D=Math.round(ee/d.length*100),E=h||{},Y=[{id:"overview",label:"Overview",icon:"ðŸ“Š"},{id:"api",label:"API",icon:"ðŸ”‘"},{id:"documents",label:"Documents",icon:"ðŸ“"},{id:"tasks",label:"Tasks",icon:"âœ…"},{id:"analytics",label:"Analytics",icon:"ðŸ“ˆ"}],X=async m=>{if(m!=="free")try{const P=JSON.parse(localStorage.getItem("userSession")||"{}"),W=P.id||P.email;if(!W){console.error("No user session found");return}let U;m==="enterprise"?U=H==="annual"?"/api/developer/billing/create-enterprise-annual":"/api/developer/billing/create-enterprise-monthly":U=H==="annual"?"/api/developer/billing/create-pro-annual":"/api/developer/billing/create-pro-monthly";const ce=await(await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:W})})).json();ce.success&&ce.url?window.location.href=ce.url:console.error("Failed to create checkout session:",ce.error)}catch(P){console.error("Upgrade error:",P)}},k=async()=>{try{const m=JSON.parse(localStorage.getItem("userSession")||"{}"),P=m.sessionToken||m.token,U=await(await fetch("/api/developer/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:P})})).json();U.url&&(window.location.href=U.url)}catch(m){console.error("Failed to open billing portal:",m)}},R=async()=>{if(M.trim()){z(!0);try{const m=JSON.parse(localStorage.getItem("userSession")||"{}"),P=m.sessionToken||m.token;if(!P){console.error("No session token found - user not authenticated");return}const U=await(await fetch("/api/developer/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:P,name:M.trim(),environment:V,scopes:$})})).json();U.success?(te({key:U.apiKey,keyId:U.keyId,prefix:U.prefix,name:M.trim(),environment:U.environment||V,scopes:U.scopes||$}),Q(""),j(ne=>[...ne,{id:U.keyId,name:M.trim(),prefix:U.prefix,environment:U.environment||V,scopes:U.scopes||$,createdAt:new Date().toISOString(),status:"active"}])):U.error&&console.error("API key generation failed:",U.error)}catch(m){console.error("Failed to generate API key:",m)}finally{z(!1)}}},ae=async m=>{try{const P=JSON.parse(localStorage.getItem("userSession")||"{}"),W=P.sessionToken||P.token,ne=await(await fetch("/api/developer/keys/regenerate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:W,keyId:m})})).json();if(ne.success){const ce=u.find(g=>g.id===m);te({key:ne.apiKey,keyId:ne.keyId,prefix:ne.prefix,name:ce?.name||"Regenerated Key",environment:ce?.environment||"live",scopes:ce?.scopes||$}),j(g=>g.map(F=>F.id===m?{...F,prefix:ne.prefix}:F))}}catch(P){console.error("Failed to regenerate key:",P)}finally{w(null)}},ke=(m,P)=>{navigator.clipboard.writeText(m),le(W=>({...W,[P]:!0})),setTimeout(()=>le(W=>({...W,[P]:!1})),2e3)};return e.jsxs("div",{style:{padding:"20px 0",paddingBottom:"100px"},children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",margin:0},children:"ðŸ› ï¸ Developers Portal"}),e.jsx("p",{style:{color:"#888",margin:"8px 0 0",fontSize:"14px"},children:"Admin dashboard, business docs & analytics"})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",overflowX:"auto",paddingBottom:"8px"},children:Y.map(m=>e.jsxs("button",{onClick:()=>t(m.id),style:{background:a===m.id?"linear-gradient(135deg, #00D4FF, #0099CC)":"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:a===m.id?"none":"1px solid #2a2a2a",borderRadius:"8px",padding:"10px 16px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap",fontSize:"13px",fontWeight:a===m.id?"600":"400",transition:"all 0.2s ease"},children:[e.jsx("span",{children:m.icon}),m.label]},m.id))}),a==="overview"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[e.jsx(bt,{count:o}),e.jsxs(Be,{title:"Task Progress",icon:"ðŸ“‹",children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[ee," of ",d.length," tasks done"]}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:"600"},children:[D,"%"]})]}),e.jsx("div",{style:{height:"8px",background:"#2a2a2a",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${D}%`,height:"100%",background:"linear-gradient(90deg, #00D4FF, #39FF14)",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),e.jsx("button",{onClick:()=>t("tasks"),style:{width:"100%",background:"rgba(42, 42, 42, 0.6)",border:"none",borderRadius:"8px",padding:"10px",color:"#fff",cursor:"pointer",fontSize:"13px"},children:"View All Tasks â†’"})]}),e.jsx(Be,{title:"Quick Stats",icon:"âš¡",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#00D4FF"},children:E.today?.views||0}),e.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"Today"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#39FF14"},children:E.allTime?.views||0}),e.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"All Time"})]})]})}),e.jsx(Be,{title:"Business Documents",icon:"ðŸ“",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[Tn.slice(0,3).map(m=>e.jsxs("div",{onClick:()=>B(m),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("span",{children:m.icon}),e.jsx("span",{style:{color:"#ccc",fontSize:"13px"},children:m.title})]},m.id)),e.jsx("button",{onClick:()=>t("documents"),style:{background:"rgba(42, 42, 42, 0.6)",border:"none",borderRadius:"8px",padding:"10px",color:"#fff",cursor:"pointer",fontSize:"13px"},children:"View All Docs â†’"})]})})]}),a==="api"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"16px"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1",...oe,borderRadius:"20px",padding:"28px",border:"1px solid rgba(0, 212, 255, 0.3)",boxShadow:"0 0 50px rgba(0, 212, 255, 0.15)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[e.jsx("span",{style:{fontSize:"28px"},children:"ðŸš€"}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"20px",fontWeight:"700"},children:"Pulse Developer API"}),e.jsx("p",{style:{margin:"4px 0 0",color:"#888",fontSize:"13px"},children:"Access AI signals, market data & safety scanning"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",padding:"4px",border:"1px solid #333"},children:[e.jsx("button",{onClick:()=>A("monthly"),style:{background:H==="monthly"?"linear-gradient(135deg, #00D4FF, #0099CC)":"transparent",border:"none",borderRadius:"8px",padding:"10px 18px",color:H==="monthly"?"#fff":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"all 0.2s ease"},children:"Monthly"}),e.jsx("button",{onClick:()=>A("annual"),style:{background:H==="annual"?"linear-gradient(135deg, #39FF14, #2ECC71)":"transparent",border:"none",borderRadius:"8px",padding:"10px 18px",color:H==="annual"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"all 0.2s ease"},children:"Annual"})]}),H==="annual"&&e.jsx("span",{style:{background:"linear-gradient(135deg, #39FF14, #2ECC71)",color:"#000",fontSize:"10px",fontWeight:"700",padding:"6px 12px",borderRadius:"12px",boxShadow:"0 0 10px rgba(57, 255, 20, 0.4)"},children:"~17% savings"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginTop:"20px"},children:[e.jsx(Pa,{tier:"free",monthlyPrice:0,annualPrice:0,billingPeriod:H,limits:"60 req/min â€¢ 2K/day",features:"Market Data + Signals",scopes:Ge.free,isCurrentPlan:Z==="free",onUpgrade:X,onManage:k}),e.jsx(Pa,{tier:"pro",monthlyPrice:29,annualPrice:24,billingPeriod:H,limits:"600 req/min â€¢ 100K/day",features:"+ Predictions + Accuracy",scopes:Ge.pro,isCurrentPlan:Z==="pro",isPopular:!0,onUpgrade:X,onManage:k}),e.jsx(Pa,{tier:"enterprise",monthlyPrice:99,annualPrice:82,billingPeriod:H,limits:"3000 req/min â€¢ 1M/day",features:"+ StrikeAgent + Webhooks",scopes:Ge.enterprise,isCurrentPlan:Z==="enterprise",onUpgrade:X,onManage:k})]})]}),e.jsxs("div",{style:{gridColumn:"span 12",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"16px"},children:[e.jsxs(Be,{title:"Generate API Key",icon:"ðŸ”",glowColor:"#00D4FF",children:[e.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:M,onChange:m=>Q(m.target.value),placeholder:"Key name (e.g., My Trading Bot)",style:{flex:1,minWidth:"200px",background:"rgba(15, 15, 15, 0.6)",border:"1px solid #333",borderRadius:"8px",padding:"12px",color:"#fff",fontSize:"14px"}}),e.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",padding:"4px",border:"1px solid #333"},children:[e.jsx("button",{onClick:()=>I("live"),style:{background:V==="live"?"linear-gradient(135deg, #39FF14, #2ECC71)":"transparent",border:"none",borderRadius:"6px",padding:"8px 14px",color:V==="live"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px"},children:"Live"}),e.jsx("button",{onClick:()=>I("test"),style:{background:V==="test"?"linear-gradient(135deg, #FFB800, #FF8C00)":"transparent",border:"none",borderRadius:"6px",padding:"8px 14px",color:V==="test"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px"},children:"Test"})]}),e.jsx("button",{onClick:R,disabled:v||!M.trim(),style:{background:v?"#333":"linear-gradient(135deg, #00D4FF, #0099CC)",border:"none",borderRadius:"8px",padding:"12px 20px",color:"#fff",cursor:v?"wait":"pointer",fontWeight:"600",opacity:M.trim()?1:.5,boxShadow:!v&&M.trim()?"0 0 15px rgba(0, 212, 255, 0.3)":"none"},children:v?"Generating...":"Generate Key"})]}),e.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"12px"},children:V==="live"?"ðŸŸ¢ Live keys access real data and count against rate limits":"ðŸŸ¡ Test keys return mock data for development - no rate limit impact"}),_&&e.jsxs("div",{style:{background:"rgba(10, 26, 10, 0.6)",border:"2px solid #39FF14",borderRadius:"12px",padding:"20px",marginTop:"16px",boxShadow:"0 0 30px rgba(57, 255, 20, 0.3), inset 0 0 20px rgba(57, 255, 20, 0.05)",animation:"glowPulse 2s ease-in-out infinite"},children:[e.jsx("style",{children:`
                    @keyframes glowPulse {
                      0%, 100% { box-shadow: 0 0 30px rgba(57, 255, 20, 0.3), inset 0 0 20px rgba(57, 255, 20, 0.05); }
                      50% { box-shadow: 0 0 40px rgba(57, 255, 20, 0.5), inset 0 0 30px rgba(57, 255, 20, 0.1); }
                    }
                  `}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{color:"#39FF14",fontSize:"20px"},children:"âœ“"}),e.jsx("span",{style:{color:"#39FF14",fontWeight:"700",fontSize:"16px"},children:"API Key Generated!"})]}),e.jsx("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:e.jsx("p",{style:{color:"#FF6B6B",fontSize:"13px",margin:0,fontWeight:"600"},children:"âš ï¸ Save this key now - it cannot be retrieved again!"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"rgba(15, 15, 15, 0.8)",padding:"14px",borderRadius:"10px",border:"1px solid #39FF1440",fontFamily:"monospace"},children:[e.jsx("code",{style:{flex:1,color:"#00D4FF",fontSize:"13px",wordBreak:"break-all"},children:_.key}),e.jsx("button",{onClick:()=>ke(_.key,"newKey"),style:{background:J.newKey?"#39FF14":"linear-gradient(135deg, #333, #444)",border:"none",borderRadius:"6px",padding:"10px 16px",color:J.newKey?"#000":"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.2s ease"},children:J.newKey?"âœ“ Copied!":"Copy"})]}),e.jsx("button",{onClick:()=>te(null),style:{marginTop:"16px",background:"rgba(42, 42, 42, 0.6)",border:"1px solid #444",borderRadius:"8px",padding:"10px 20px",color:"#888",cursor:"pointer",fontSize:"12px",transition:"all 0.2s ease"},children:"Dismiss"})]})]}),u.length>0&&e.jsx(Be,{title:"Your API Keys",icon:"ðŸ“‹",glowColor:"#8B5CF6",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:u.map(m=>e.jsxs("div",{style:{...oe,display:"flex",flexDirection:"column",gap:"10px",padding:"14px",borderRadius:"10px",border:"1px solid #2a2a2a",transition:"all 0.2s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"8px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:m.name}),e.jsxs("div",{style:{color:"#666",fontSize:"12px",fontFamily:"monospace"},children:[m.prefix,"..."]})]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(En,{environment:m.environment}),e.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:m.status==="active"?"rgba(57, 255, 20, 0.15)":"rgba(255, 107, 53, 0.15)",color:m.status==="active"?"#39FF14":"#FF6B35",fontSize:"11px",fontWeight:"600"},children:m.status==="active"?"Active":"Revoked"})]})]}),m.scopes&&m.scopes.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:m.scopes.map((P,W)=>e.jsx(In,{scope:P},W))}),e.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:e.jsx("button",{onClick:()=>w(m.id),style:{padding:"8px 14px",background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)",borderRadius:"6px",color:"#FFB800",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ”„ Regenerate"})})]},m.id))})})]}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsxs(Be,{title:"API Documentation",icon:"ðŸ“–",fullWidth:!0,glowColor:"#00D4FF",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("span",{style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#fff",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:"700"},children:"v1.21.0"}),e.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Latest release with WebAuthn & Session Security"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"12px"},children:[e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/market-overview?category=top"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get market overview with top coins, BTC dominance, and sentiment"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/price/:symbol"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get current price for a cryptocurrency (e.g., BTC, ETH, SOL)"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/signals?symbol=BTC"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get AI analysis signals for a coin (BUY/SELL/HOLD with confidence)"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid rgba(139, 92, 246, 0.3)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#8B5CF6",color:"#fff",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"PRO"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/predictions/:symbol?horizon=4h"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get ML predictions with probability scores (Pro tier required)"})]})]}),e.jsx("div",{style:{marginTop:"16px",padding:"14px",background:"rgba(26, 26, 42, 0.6)",borderRadius:"10px",border:"1px solid rgba(0, 212, 255, 0.3)"},children:e.jsxs("p",{style:{color:"#00D4FF",fontSize:"13px",margin:0},children:[e.jsx("strong",{children:"Authentication:"})," Include your API key in the ",e.jsx("code",{style:{background:"rgba(15, 15, 15, 0.6)",padding:"3px 8px",borderRadius:"4px"},children:"X-Pulse-Api-Key"})," header"]})})]})}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsxs(Be,{title:"ðŸ” Security Features (v1.21.0)",icon:"ðŸ›¡ï¸",fullWidth:!0,glowColor:"#39FF14",children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"ðŸ”‘"}),e.jsx("h4",{style:{margin:0,color:"#fff",fontSize:"15px",fontWeight:"600"},children:"Biometric Authentication (WebAuthn)"}),e.jsx("span",{style:{background:"rgba(57, 255, 20, 0.15)",color:"#39FF14",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"NEW"})]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"0 0 12px",lineHeight:1.5},children:"Optional 2FA using fingerprint, Face ID, or security keys. Users can enable biometric verification for login, wallet transactions, or both."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"10px"},children:[e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/register-options"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Get WebAuthn registration options for credential creation"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/register-verify"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Verify and store new biometric credential"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/auth-options"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Get authentication challenge for biometric login"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/auth-verify"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Verify biometric authentication response"})]})]}),e.jsx("div",{style:{marginTop:"12px",padding:"10px 14px",background:"rgba(57, 255, 20, 0.05)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.15)"},children:e.jsxs("p",{style:{color:"#39FF14",fontSize:"12px",margin:0},children:["ðŸ’¡ ",e.jsx("strong",{children:"User Settings:"})," Enable for login only, wallet transactions only, both, or neither. Fully user-controlled."]})})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"ðŸ”’"}),e.jsx("h4",{style:{margin:0,color:"#fff",fontSize:"15px",fontWeight:"600"},children:"Session Security"}),e.jsx("span",{style:{background:"rgba(57, 255, 20, 0.15)",color:"#39FF14",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"NEW"})]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"0 0 12px",lineHeight:1.5},children:"Enhanced session management with automatic token rotation for improved security."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"10px"},children:[e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"ðŸ”„"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"Token Rotation"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Session tokens rotate automatically to prevent session hijacking"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"ðŸ“¡"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"X-Session-Token-Rotated"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Response header signals when token has been refreshed"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"â±ï¸"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"Tier-Based Durations"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Session lengths vary by subscription tier for flexible security"})]})]}),e.jsx("div",{style:{marginTop:"12px",padding:"10px 14px",background:"rgba(0, 212, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.15)"},children:e.jsxs("p",{style:{color:"#00D4FF",fontSize:"12px",margin:0},children:["ðŸ”§ ",e.jsx("strong",{children:"Frontend Integration:"})," Check for ",e.jsx("code",{style:{background:"rgba(15, 15, 15, 0.6)",padding:"2px 6px",borderRadius:"4px"},children:"X-Session-Token-Rotated"})," header and update stored token when present."]})})]})]})})]}),a==="documents"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"âš¡"}),e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:"600"},children:"Quick Access"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"12px"},children:[{...De[1].docs[0],color:"#39FF14"},{...De[0].docs[1],color:"#00D4FF"},{...De[2].docs[1],color:"#8B5CF6"},{...De[0].docs[2],color:"#00D4FF"}].map(m=>e.jsx(Pn,{doc:m,onView:B,color:m.color},m.id))})]}),De.map(m=>e.jsx(Rn,{category:m,onViewDoc:B},m.id)),e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:"1px solid #333",textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"14px",color:"#888",marginBottom:"8px"},children:["Total Documents: ",De.reduce((m,P)=>m+P.docs.length,0)]}),e.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"Click any document to view. All files are in markdown format."})]})]}),a==="tasks"&&e.jsxs("div",{children:[e.jsxs("div",{style:{...oe,borderRadius:"12px",padding:"20px",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("span",{style:{color:"#fff",fontWeight:"600"},children:"Progress"}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:"700"},children:[D,"%"]})]}),e.jsx("div",{style:{height:"12px",background:"#2a2a2a",borderRadius:"6px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${D}%`,height:"100%",background:"linear-gradient(90deg, #00D4FF, #39FF14)",borderRadius:"6px",transition:"width 0.3s ease"}})}),e.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"16px",fontSize:"12px",color:"#666"},children:[e.jsxs("span",{children:["ðŸ”´ High: ",d.filter(m=>m.priority==="high"&&!m.done).length]}),e.jsxs("span",{children:["ðŸŸ¡ Medium: ",d.filter(m=>m.priority==="medium"&&!m.done).length]}),e.jsxs("span",{children:["ðŸŸ¢ Low: ",d.filter(m=>m.priority==="low"&&!m.done).length]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...d].sort((m,P)=>{if(m.done!==P.done)return m.done?1:-1;const W={high:0,medium:1,low:2};return W[m.priority]-W[P.priority]}).map(m=>e.jsx(Wn,{task:m,onToggle:K},m.id))})]}),a==="analytics"&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:i?e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#888"},children:"Loading analytics..."}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{count:o}),e.jsx(oa,{title:"Today",value:E.today?.views||0,subtitle:`${E.today?.sessions||0} sessions`,icon:"ðŸ“…",glow:"#00D4FF"}),e.jsx(oa,{title:"This Week",value:E.week?.views||0,icon:"ðŸ“Š",glow:"#39FF14"}),e.jsx(oa,{title:"This Month",value:E.month?.views||0,icon:"ðŸ“ˆ",glow:"#8B5CF6"}),e.jsx(oa,{title:"All Time",value:E.allTime?.views||0,subtitle:`${E.allTime?.sessions||0} unique sessions`,icon:"ðŸŒ",glow:"#FF6B35"}),e.jsx(yt,{title:"Top Pages",items:E.topPages||[],labelKey:"page",valueKey:"views",icon:"ðŸ“„"}),e.jsx(yt,{title:"Top Referrers",items:E.topReferrers||[],labelKey:"referrer",valueKey:"count",icon:"ðŸ”—"}),e.jsx(Bn,{data:E.deviceBreakdown||{desktop:0,mobile:0,tablet:0}}),e.jsxs("div",{style:{...oe,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"12px"},children:"Avg. Session Duration"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#00D4FF"},children:[Math.floor((E.avgDuration||0)/60),"m ",(E.avgDuration||0)%60,"s"]})]})]})}),y&&e.jsx(Mn,{doc:y,content:b,onClose:()=>x(null)}),e.jsx(Ln,{isOpen:!!me,title:"Regenerate API Key?",message:"This will invalidate your current key and generate a new one. Any applications using the old key will stop working immediately.",onConfirm:()=>ae(me),onCancel:()=>w(null)})]})}export{an as A,tr as D,Jn as F,Vn as G,ot as M,ct as P,Qn as S,qn as T,Zn as W,Gn as a,xn as b,Xn as c,Yn as d,tn as e,dn as f,ye as g,Un as h,$n as i,ar as j,er as k,sn as l,Kn as m,Hn as s,kt as u};
