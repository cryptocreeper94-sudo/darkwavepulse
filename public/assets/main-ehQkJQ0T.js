import{r as c,j as e,T as ke,S as we,A as ze,B as Te,F as Re,G as Ce,L as Be,a as Ae,D as le,b as We,P as De,V as Pe,c as Ie,W as Le,d as Oe,e as Ee,f as He,g as Me,h as Ne,M as $e,i as Ue,k as _e}from"./components-DJlKY0gb.js";const O=({title:t,value:n,subtitle:i,color:s="#00D4FF",icon:o})=>e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"20px",minWidth:"200px",boxShadow:`0 0 20px ${s}20`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:o}),e.jsx("span",{style:{color:"#888",fontSize:"13px",fontWeight:500},children:t})]}),e.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:s},children:n}),i&&e.jsx("div",{style:{color:"#666",fontSize:"12px",marginTop:"4px"},children:i})]}),M=({current:t,target:n,label:i,color:s="#00D4FF"})=>{const o=Math.min(t/n*100,100);return e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:i}),e.jsxs("span",{style:{color:o>=100?"#00ff88":"#888",fontSize:"13px"},children:[t," / ",n," ",o>=100?"âœ“":""]})]}),e.jsx("div",{style:{background:"#333",borderRadius:"6px",height:"8px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${o}%`,height:"100%",background:o>=100?"#00ff88":s,borderRadius:"6px",transition:"width 0.5s ease"}})})]})},E=({horizon:t,data:n})=>{const i=parseFloat(n?.winRate||0),s=i>=60?"#00ff88":i>=50?"#ffaa00":"#ff4466";return e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[e.jsxs("div",{style:{color:"#888",fontSize:"12px",marginBottom:"4px"},children:[t," Horizon"]}),e.jsxs("div",{style:{fontSize:"28px",fontWeight:700,color:s},children:[i.toFixed(1),"%"]}),e.jsxs("div",{style:{color:"#666",fontSize:"11px"},children:[n?.correct||0," / ",n?.total||0," correct"]})]})},de=({name:t,icon:n,data:i})=>{const s=parseFloat(i?.percentUsed||0),o=i?.status==="healthy"?"#00ff88":i?.status==="warning"?"#ffaa00":"#888";return e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"16px",flex:"1",minWidth:"240px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:n}),e.jsx("span",{style:{color:"#fff",fontSize:"14px",fontWeight:600},children:t}),e.jsx("span",{style:{marginLeft:"auto",padding:"2px 8px",background:o+"22",color:o,borderRadius:"12px",fontSize:"11px",fontWeight:600},children:i?.status?.toUpperCase()||"UNKNOWN"})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Monthly Usage"}),e.jsxs("span",{style:{color:"#fff",fontSize:"12px"},children:[s,"%"]})]}),e.jsx("div",{style:{background:"#333",borderRadius:"4px",height:"6px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(s,100)}%`,height:"100%",background:o,borderRadius:"4px",transition:"width 0.5s ease"}})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666"},children:"Today"}),e.jsx("div",{style:{color:"#fff",fontWeight:600},children:i?.callsToday?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666"},children:"This Month"}),e.jsx("div",{style:{color:"#fff",fontWeight:600},children:i?.callsThisMonth?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666"},children:"Limit"}),e.jsx("div",{style:{color:"#888"},children:i?.monthlyLimit?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666"},children:"Est. Cost"}),e.jsx("div",{style:{color:"#00ff88",fontWeight:600},children:i?.estimatedMonthlyCost||"$0"})]})]})]})},ce=({title:t,icon:n,data:i,color:s="#00D4FF"})=>{const o=i?.currentWinRate,d=parseFloat(i?.delta||0),l=i?.trend||"neutral",g=i?.currentSamples||0,f=()=>l==="improving"?"â†‘":l==="declining"?"â†“":l==="new"?"â˜…":"â†’",v=()=>l==="improving"?"#00ff88":l==="declining"?"#ff4466":l==="new"?"#00D4FF":"#888";return e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",textAlign:"center",flex:1,minWidth:"200px",border:`1px solid ${s}33`},children:[e.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:n}),e.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"12px"},children:t}),o!==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:"48px",fontWeight:700,color:parseFloat(o)>=60?"#00ff88":parseFloat(o)>=50?"#ffaa00":"#ff4466",lineHeight:1},children:[o,"%"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",marginTop:"12px"},children:[i?.delta!==null&&e.jsxs("span",{style:{padding:"4px 10px",background:v()+"22",color:v(),borderRadius:"12px",fontSize:"13px",fontWeight:600},children:[f()," ",d>0?"+":"",d.toFixed(1),"% vs last week"]}),l==="new"&&e.jsx("span",{style:{padding:"4px 10px",background:"#00D4FF22",color:"#00D4FF",borderRadius:"12px",fontSize:"12px"},children:"New data"})]}),e.jsxs("div",{style:{color:"#666",fontSize:"11px",marginTop:"8px"},children:["Based on ",g," predictions this week"]})]}):e.jsxs("div",{style:{color:"#666",fontSize:"14px"},children:["Collecting data...",e.jsx("div",{style:{fontSize:"11px",marginTop:"4px"},children:"Need more predictions to calculate"})]})]})};function Ke(){const[t,n]=c.useState(null),[i,s]=c.useState(null),[o,d]=c.useState(null),[l,g]=c.useState(null),[f,v]=c.useState(!0),[T,w]=c.useState(null),[m,C]=c.useState(!1),u=c.useCallback(async()=>{try{const[r,x,F,A]=await Promise.all([fetch("/api/ml/stats"),fetch("/api/sniper/ml/stats"),fetch("/api/ml/api-usage"),fetch("/api/ml/accuracy-trends")]);if(r.ok){const z=await r.json();n(z)}if(x.ok){const z=await x.json();s(z)}if(F.ok){const z=await F.json();d(z)}if(A.ok){const z=await A.json();g(z)}w(new Date)}catch(r){console.error("Failed to fetch ML stats:",r)}finally{v(!1)}},[]);if(c.useEffect(()=>{u();const r=setInterval(u,3e4);return()=>clearInterval(r)},[u]),f)return e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"ðŸ§ "}),e.jsx("div",{style:{color:"#888"},children:"Loading ML Dashboard..."})]});const h=t?.totalPredictions||0,b=i?.totalPredictions||0,S=50;return e.jsxs("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{color:"#fff",fontSize:"24px",margin:0},children:"ðŸ§  AI Learning Dashboard"}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"4px 0 0 0"},children:"Watch the ML system collect data and improve predictions"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T&&e.jsxs("span",{style:{color:"#666",fontSize:"12px"},children:["Updated ",T.toLocaleTimeString()]}),e.jsx("button",{onClick:u,style:{padding:"8px 16px",background:"#333",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px"},children:"â†» Refresh"})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #0f1a0f, #1a2a1a)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid #00ff8833"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ“ˆ"})," AI Performance Overview",l?.technicalAnalysis?.overall?.trend==="improving"&&e.jsx("span",{style:{padding:"4px 12px",background:"#00ff8822",color:"#00ff88",borderRadius:"12px",fontSize:"12px",fontWeight:600},children:"â†‘ Improving"})]}),e.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",marginBottom:"20px"},children:[e.jsx(ce,{title:"Technical Analysis Win Rate",icon:"ðŸ“Š",data:l?.technicalAnalysis?.overall,color:"#00D4FF"}),e.jsx(ce,{title:"StrikeAgent Win Rate",icon:"ðŸŽ¯",data:l?.strikeAgent,color:"#ff6b00"})]}),l?.technicalAnalysis?.byHorizon&&Object.keys(l.technicalAnalysis.byHorizon).some(r=>l.technicalAnalysis.byHorizon[r]?.currentWinRate!==null)&&e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"16px"},children:[e.jsx("div",{style:{color:"#888",fontSize:"12px",marginBottom:"12px"},children:"Win Rate by Time Horizon (This Week vs Last Week)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px"},children:["1h","4h","24h","7d"].map(r=>{const x=l?.technicalAnalysis?.byHorizon?.[r],F=x?.currentWinRate,A=parseFloat(x?.delta||0),z=x?.trend;return e.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"#141414",borderRadius:"8px"},children:[e.jsxs("div",{style:{color:"#666",fontSize:"11px",marginBottom:"4px"},children:[r," Horizon"]}),F!==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{fontSize:"24px",fontWeight:700,color:parseFloat(F)>=60?"#00ff88":parseFloat(F)>=50?"#ffaa00":"#ff4466"},children:[F,"%"]}),x?.delta!==null&&e.jsxs("div",{style:{fontSize:"11px",color:z==="improving"?"#00ff88":z==="declining"?"#ff4466":"#888",marginTop:"4px"},children:[z==="improving"?"â†‘":z==="declining"?"â†“":"â†’"," ",A>0?"+":"",A.toFixed(1),"%"]})]}):e.jsx("div",{style:{color:"#444",fontSize:"12px"},children:"--"})]},r)})})]})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"16px",marginBottom:"24px",border:"1px solid #222",overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>C(!m),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"transparent",border:"none",cursor:"pointer",color:"#fff"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"ðŸ’°"}),e.jsx("span",{style:{fontSize:"15px",fontWeight:600},children:"API Cost Monitor"}),o?.summary&&e.jsxs("span",{style:{padding:"4px 10px",background:"#00ff8822",color:"#00ff88",borderRadius:"12px",fontSize:"12px",fontWeight:600},children:["Est. ",o.summary.estimatedTotalCost]})]}),e.jsx("span",{style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",color:"#00D4FF"},children:"â–¼"})]}),m&&e.jsxs("div",{style:{padding:"0 20px 20px 20px"},children:[e.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginBottom:"16px"},children:[e.jsx(de,{name:"CoinGecko PRO",icon:"ðŸ¦Ž",data:o?.coingecko}),e.jsx(de,{name:"Helius RPC",icon:"â˜€ï¸",data:o?.helius})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"16px"},children:[e.jsxs("div",{style:{color:"#888",fontSize:"12px",marginBottom:"12px"},children:[o?.period?.month," ",o?.period?.year," Breakdown (Day ",o?.period?.dayOfMonth," of ",o?.period?.daysInMonth,")"]}),e.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:"Predictions Logged"}),e.jsx("div",{style:{color:"#00D4FF",fontSize:"18px",fontWeight:600},children:o?.breakdown?.predictions||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:"Token Scans"}),e.jsx("div",{style:{color:"#ff6b00",fontSize:"18px",fontWeight:600},children:o?.breakdown?.tokenScans||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:"Outcome Checks"}),e.jsx("div",{style:{color:"#888",fontSize:"18px",fontWeight:600},children:o?.breakdown?.outcomeChecks||0})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:"Total API Calls"}),e.jsx("div",{style:{color:"#fff",fontSize:"18px",fontWeight:600},children:o?.summary?.totalApiCalls?.toLocaleString()||0})]})]})]})]})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsx("h2",{style:{color:"#fff",fontSize:"16px",margin:"0 0 20px 0"},children:"ðŸ“Š Technical Analysis Predictions"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},children:[e.jsx(O,{icon:"ðŸ“ˆ",title:"Total Predictions",value:h,subtitle:"From /analyze calls",color:"#00D4FF"}),e.jsx(O,{icon:"ðŸŽ¯",title:"BUY Signals",value:t?.buySignals||0,color:"#00ff88"}),e.jsx(O,{icon:"ðŸ“‰",title:"SELL Signals",value:t?.sellSignals||0,color:"#ff4466"}),e.jsx(O,{icon:"â¸ï¸",title:"HOLD Signals",value:t?.holdSignals||0,color:"#ffaa00"})]}),e.jsx("h3",{style:{color:"#888",fontSize:"14px",margin:"0 0 12px 0"},children:"Data Collection Progress (need 50+ for model training)"}),e.jsx(M,{current:t?.outcomesByHorizon?.["1h"]?.total||0,target:S,label:"1-Hour Outcomes",color:"#00D4FF"}),e.jsx(M,{current:t?.outcomesByHorizon?.["4h"]?.total||0,target:S,label:"4-Hour Outcomes",color:"#00A0CC"}),e.jsx(M,{current:t?.outcomesByHorizon?.["24h"]?.total||0,target:S,label:"24-Hour Outcomes",color:"#0088AA"}),e.jsx(M,{current:t?.outcomesByHorizon?.["7d"]?.total||0,target:S,label:"7-Day Outcomes",color:"#006688"}),(t?.outcomesByHorizon?.["1h"]?.total||0)>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{color:"#888",fontSize:"14px",margin:"24px 0 12px 0"},children:"Current Accuracy by Time Horizon"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[e.jsx(E,{horizon:"1h",data:t?.outcomesByHorizon?.["1h"]}),e.jsx(E,{horizon:"4h",data:t?.outcomesByHorizon?.["4h"]}),e.jsx(E,{horizon:"24h",data:t?.outcomesByHorizon?.["24h"]}),e.jsx(E,{horizon:"7d",data:t?.outcomesByHorizon?.["7d"]})]})]})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsx("h2",{style:{color:"#fff",fontSize:"16px",margin:"0 0 20px 0"},children:"ðŸŽ¯ StrikeAgent Token Discoveries"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},children:[e.jsx(O,{icon:"ðŸ”",title:"Tokens Analyzed",value:b,subtitle:"From token scans",color:"#ff6b00"}),e.jsx(O,{icon:"ðŸš€",title:"Snipe Recommendations",value:i?.snipeRecommendations||0,color:"#00ff88"}),e.jsx(O,{icon:"ðŸ‘€",title:"Watch Recommendations",value:i?.watchRecommendations||0,color:"#ffaa00"}),e.jsx(O,{icon:"âš ï¸",title:"Avoid Recommendations",value:i?.avoidRecommendations||0,color:"#ff4466"})]}),e.jsx("h3",{style:{color:"#888",fontSize:"14px",margin:"0 0 12px 0"},children:"Token Outcome Tracking Progress"}),e.jsx(M,{current:i?.outcomesByHorizon?.["1h"]?.total||0,target:S,label:"1-Hour Token Outcomes",color:"#ff6b00"}),e.jsx(M,{current:i?.outcomesByHorizon?.["4h"]?.total||0,target:S,label:"4-Hour Token Outcomes",color:"#cc5500"}),e.jsx(M,{current:i?.outcomesByHorizon?.["24h"]?.total||0,target:S,label:"24-Hour Token Outcomes",color:"#aa4400"}),(i?.outcomesByHorizon?.["1h"]?.total||0)>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{color:"#888",fontSize:"14px",margin:"24px 0 12px 0"},children:"Token Prediction Accuracy"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[e.jsx(E,{horizon:"1h",data:i?.outcomesByHorizon?.["1h"]}),e.jsx(E,{horizon:"4h",data:i?.outcomesByHorizon?.["4h"]}),e.jsx(E,{horizon:"24h",data:i?.outcomesByHorizon?.["24h"]}),e.jsx(E,{horizon:"7d",data:i?.outcomesByHorizon?.["7d"]})]})]})]}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e, #16213e)",borderRadius:"16px",padding:"24px",border:"1px solid #00D4FF33"},children:[e.jsx("h2",{style:{color:"#fff",fontSize:"16px",margin:"0 0 16px 0"},children:"ðŸ¤– How the AI Learning System Works"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#00D4FF",fontWeight:600,marginBottom:"8px"},children:"1. Data Collection (Current Phase)"}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:0,lineHeight:1.5},children:"Every time you analyze a coin or scan a token, the system logs the prediction with all indicators. We need 50+ samples per time horizon before training."})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#00D4FF",fontWeight:600,marginBottom:"8px"},children:"2. Outcome Tracking (Running Hourly)"}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:0,lineHeight:1.5},children:`Background workers check each prediction at 1h, 4h, 24h, and 7d to see if the price moved as predicted. This builds a dataset of "what worked" and "what didn't".`})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#00D4FF",fontWeight:600,marginBottom:"8px"},children:"3. Model Training (Weekly)"}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:0,lineHeight:1.5},children:"Every Sunday at 3 AM, the system trains ML models on the collected data. Models with >55% accuracy get activated for live predictions."})]}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#00D4FF",fontWeight:600,marginBottom:"8px"},children:"4. Autonomous Trading (Future)"}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:0,lineHeight:1.5},children:"Once accuracy is proven >60% over 30+ days, the system can auto-trigger trades through StrikeAgent. Gradual rollout: Observer â†’ Approval â†’ Semi-Auto â†’ Full Auto."})]})]})]})]})}const Q=({title:t,value:n,subtitle:i,color:s="#00D4FF",icon:o})=>e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"20px",minWidth:"200px",boxShadow:`0 0 20px ${s}20`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:o}),e.jsx("span",{style:{color:"#888",fontSize:"13px",fontWeight:500},children:t})]}),e.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:s},children:n}),i&&e.jsx("div",{style:{color:"#666",fontSize:"12px",marginTop:"4px"},children:i})]}),pe=({label:t,current:n,max:i,warningThreshold:s=.7,dangerThreshold:o=.9})=>{const d=i>0?Math.min(n/i*100,100):0,l=()=>d>=o*100?"#ff4444":d>=s*100?"#ffaa00":"#00D4FF";return e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:t}),e.jsxs("span",{style:{color:l(),fontSize:"13px",fontWeight:600},children:[n," / ",i," (",d.toFixed(0),"%)"]})]}),e.jsx("div",{style:{background:"#333",borderRadius:"6px",height:"10px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${d}%`,height:"100%",background:l(),borderRadius:"6px",transition:"width 0.5s ease",boxShadow:`0 0 10px ${l()}40`}})})]})},Ge=({status:t})=>{const i=(()=>{switch(t){case"executed":return{bg:"#39FF1422",color:"#39FF14"};case"awaiting_approval":return{bg:"#ffaa0022",color:"#ffaa00"};case"pending":return{bg:"#00D4FF22",color:"#00D4FF"};case"rejected":case"failed":case"cancelled":return{bg:"#ff444422",color:"#ff4444"};default:return{bg:"#88888822",color:"#888"}}})();return e.jsx("span",{style:{padding:"4px 8px",background:i.bg,color:i.color,borderRadius:"6px",fontSize:"11px",fontWeight:600,textTransform:"uppercase"},children:t?.replace("_"," ")||"unknown"})};function Ve({userId:t}){const[n,i]=c.useState(null),[s,o]=c.useState([]),[d,l]=c.useState(!0),[g,f]=c.useState(!1),[v,T]=c.useState(null),w=c.useCallback(async()=>{if(t)try{const[p,R]=await Promise.all([fetch(`/api/auto-trade/stats?userId=${t}`),fetch(`/api/auto-trade/trades?userId=${t}&status=awaiting_approval`)]);if(p.ok){const I=await p.json();I.success&&i(I),T(new Date)}if(R.ok){const I=await R.json();I.success&&I.trades&&o(I.trades)}}catch(p){console.error("Failed to fetch auto-trade stats:",p)}finally{l(!1)}},[t]);c.useEffect(()=>{w();const p=setInterval(w,3e4);return()=>clearInterval(p)},[w]);const m=async()=>{if(t){f(!0);try{(await fetch("/api/auto-trade/pause",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,reason:"Manual emergency stop"})})).ok&&await w()}catch(p){console.error("Failed to pause trading:",p)}finally{f(!1)}}},C=async()=>{if(t){f(!0);try{(await fetch("/api/auto-trade/resume",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok&&await w()}catch(p){console.error("Failed to resume trading:",p)}finally{f(!1)}}},u=async p=>{if(t){f(!0);try{(await fetch(`/api/auto-trade/trades/${p}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})})).ok&&await w()}catch(R){console.error("Failed to approve trade:",R)}finally{f(!1)}}},h=async p=>{if(t){f(!0);try{(await fetch(`/api/auto-trade/trades/${p}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,reason:"Manual rejection"})})).ok&&await w()}catch(R){console.error("Failed to reject trade:",R)}finally{f(!1)}}},b=p=>p?new Date(p).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",S=p=>!p&&p!==0?"-":`$${parseFloat(p).toFixed(6)}`,r=p=>{if(!p&&p!==0)return"-";const R=parseFloat(p);return`${R>=0?"+":""}$${R.toFixed(2)}`};if(d)return e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"32px",marginBottom:"16px"},children:"â³"}),e.jsx("div",{style:{color:"#888"},children:"Loading risk dashboard..."})]});const x=n?.config||{},F=n?.recentTrades||[],A=n?.openPositions||0,z=n?.winRate||0,Y=parseFloat(n?.dailyProfitLoss)||0,$=parseFloat(x.totalProfitLoss)||0,K=x.consecutiveLosses||0,G=0,V=x.isPaused,B=x.enabled,X=x.mode||"observer",H=p=>parseFloat(p)>=0?"#39FF14":"#ff4444",te=p=>p>=55?"#39FF14":p>=50?"#ffaa00":"#ff4444";return e.jsxs("div",{style:{padding:"0 0 40px 0"},children:[e.jsxs("div",{style:{background:"#0f0f0f",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid #222"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#fff",margin:0,marginBottom:"8px",fontSize:"24px",fontWeight:700},children:"âš¡ Risk Dashboard"}),e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[e.jsx("span",{style:{padding:"4px 12px",background:B?"#39FF1422":"#ff444422",color:B?"#39FF14":"#ff4444",borderRadius:"20px",fontSize:"12px",fontWeight:600},children:B?"â— ENABLED":"â—‹ DISABLED"}),e.jsx("span",{style:{padding:"4px 12px",background:"#00D4FF22",color:"#00D4FF",borderRadius:"20px",fontSize:"12px",fontWeight:600,textTransform:"uppercase"},children:X}),V&&e.jsxs("span",{style:{padding:"4px 12px",background:"#ff444422",color:"#ff4444",borderRadius:"20px",fontSize:"12px",fontWeight:600},children:["â¸ PAUSED ",x.pauseReason?`(${x.pauseReason})`:""]})]})]}),e.jsx("div",{style:{display:"flex",gap:"12px"},children:V?e.jsx("button",{onClick:C,disabled:g,style:{padding:"14px 32px",background:"linear-gradient(135deg, #39FF14, #00cc00)",color:"#000",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:700,cursor:g?"not-allowed":"pointer",opacity:g?.6:1,boxShadow:"0 0 30px #39FF1440",transition:"all 0.2s ease"},children:"â–¶ RESUME TRADING"}):e.jsx("button",{onClick:m,disabled:g||!B,style:{padding:"14px 32px",background:"linear-gradient(135deg, #ff4444, #cc0000)",color:"#fff",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:700,cursor:g||!B?"not-allowed":"pointer",opacity:g||!B?.6:1,boxShadow:"0 0 30px #ff444440",transition:"all 0.2s ease"},children:"â¹ EMERGENCY STOP"})})]}),v&&e.jsxs("div",{style:{color:"#666",fontSize:"11px",marginTop:"12px"},children:["Last updated: ",v.toLocaleTimeString()]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[e.jsx(Q,{title:"Total P&L",value:r($),icon:"ðŸ’°",color:H($),subtitle:"All time"}),e.jsx(Q,{title:"Daily P&L",value:r(Y),icon:"ðŸ“Š",color:H(Y),subtitle:"Today"}),e.jsx(Q,{title:"Win Rate",value:`${z.toFixed(1)}%`,icon:"ðŸŽ¯",color:te(z),subtitle:"Success rate"}),e.jsx(Q,{title:"Open Positions",value:`${A} / ${x.maxOpenPositions||3}`,icon:"ðŸ“ˆ",color:A>=(x.maxOpenPositions||3)?"#ffaa00":"#00D4FF",subtitle:"Active trades"})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid #222"},children:[e.jsx("h3",{style:{color:"#fff",margin:"0 0 20px 0",fontSize:"18px",fontWeight:600},children:"ðŸ“Š Risk Meters"}),e.jsx(pe,{label:"Consecutive Losses",current:K,max:x.stopAfterLosses||3,warningThreshold:.6,dangerThreshold:.8}),e.jsx(pe,{label:"Daily Spending",current:G,max:x.maxPerDay||500,warningThreshold:.7,dangerThreshold:.9})]}),s.length>0&&e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid #ffaa0044",boxShadow:"0 0 20px #ffaa0020"},children:[e.jsxs("h3",{style:{color:"#ffaa00",margin:"0 0 20px 0",fontSize:"18px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:["â³ Pending Approvals (",s.length,")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.map(p=>e.jsxs("div",{style:{background:"#0f0f0f",borderRadius:"12px",padding:"16px",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:600,marginBottom:"4px"},children:p.tokenSymbol||p.tokenAddress?.slice(0,8)+"..."}),e.jsxs("div",{style:{color:"#888",fontSize:"12px"},children:[p.tradeType," â€¢ $",parseFloat(p.amountUSD||0).toFixed(2)," â€¢ Confidence: ",(parseFloat(p.signalConfidence||0)*100).toFixed(0),"%"]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>u(p.id),disabled:g,style:{padding:"8px 20px",background:"#39FF14",color:"#000",border:"none",borderRadius:"8px",fontWeight:600,cursor:g?"not-allowed":"pointer",opacity:g?.6:1},children:"âœ“ Approve"}),e.jsx("button",{onClick:()=>h(p.id),disabled:g,style:{padding:"8px 20px",background:"#ff4444",color:"#fff",border:"none",borderRadius:"8px",fontWeight:600,cursor:g?"not-allowed":"pointer",opacity:g?.6:1},children:"âœ— Reject"})]})]},p.id))})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"16px",padding:"24px",border:"1px solid #222"},children:[e.jsx("h3",{style:{color:"#fff",margin:"0 0 20px 0",fontSize:"18px",fontWeight:600},children:"ðŸ“œ Recent Trades"}),F.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[e.jsx("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"ðŸ“­"}),e.jsx("div",{children:"No trades yet"})]}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid #333"},children:[e.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"#888",fontWeight:500},children:"Token"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"left",color:"#888",fontWeight:500},children:"Type"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"right",color:"#888",fontWeight:500},children:"Amount"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"right",color:"#888",fontWeight:500},children:"Entry"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"right",color:"#888",fontWeight:500},children:"Exit"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"right",color:"#888",fontWeight:500},children:"P&L"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"center",color:"#888",fontWeight:500},children:"Status"}),e.jsx("th",{style:{padding:"12px 8px",textAlign:"right",color:"#888",fontWeight:500},children:"Time"})]})}),e.jsx("tbody",{children:F.slice(0,10).map((p,R)=>e.jsxs("tr",{style:{borderBottom:"1px solid #222",background:R%2===0?"transparent":"#0f0f0f"},children:[e.jsx("td",{style:{padding:"12px 8px",color:"#fff",fontWeight:500},children:p.tokenSymbol||p.tokenAddress?.slice(0,8)+"..."}),e.jsx("td",{style:{padding:"12px 8px"},children:e.jsx("span",{style:{color:p.tradeType==="BUY"?"#39FF14":"#ff4444",fontWeight:600},children:p.tradeType})}),e.jsxs("td",{style:{padding:"12px 8px",textAlign:"right",color:"#fff"},children:["$",parseFloat(p.amountUSD||0).toFixed(2)]}),e.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#888"},children:S(p.entryPrice)}),e.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#888"},children:S(p.exitPrice)}),e.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:H(p.profitLossUSD),fontWeight:600},children:r(p.profitLossUSD)}),e.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:e.jsx(Ge,{status:p.status})}),e.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#666",fontSize:"12px"},children:b(p.createdAt||p.executedAt)})]},p.id||R))})]})})]})]})}const xe=[{id:"executive",title:"Executive Summary",icon:"ðŸ“‹",file:"/business-docs/DARKWAVE_EXECUTIVE_SUMMARY_CONSERVATIVE.md",description:"Company overview, problem, solution, business model"},{id:"investor",title:"Investor Brief",icon:"ðŸ’¼",file:"/business-docs/DARKWAVE_INVESTOR_BRIEF_CONSERVATIVE.md",description:"Full business plan for investors"},{id:"roadmap",title:"Product Roadmap",icon:"ðŸ—ºï¸",file:"/business-docs/DARKWAVE_ROADMAP.md",description:"2025-2028 development timeline"},{id:"bootstrap",title:"Bootstrap Plan",icon:"ðŸš€",file:"/business-docs/DARKWAVE_BOOTSTRAP_PLAN.md",description:"Lean startup strategy"}],Je=[{id:1,text:"Complete AI prediction system testing",done:!1,priority:"high"},{id:2,text:"Finalize token launch date",done:!1,priority:"high"},{id:3,text:"Review and update executive summary",done:!0,priority:"medium"},{id:4,text:"Set up marketing campaign for launch",done:!1,priority:"medium"},{id:5,text:"Complete mobile app beta testing",done:!1,priority:"low"},{id:6,text:"Update investor brief with Q4 metrics",done:!1,priority:"medium"},{id:7,text:"Configure Stripe production keys",done:!0,priority:"high"},{id:8,text:"Deploy StrikeAgent to mainnet",done:!1,priority:"high"},{id:9,text:"Set up MoonPay crypto on-ramp (dashboard.moonpay.com)",done:!1,priority:"high",link:"https://dashboard.moonpay.com",instructions:`1. Create account at dashboard.moonpay.com
2. Complete business verification
3. Get your API key (pk_live_xxx)
4. Get your Secret key for URL signing
5. Add keys to Replit Secrets: MOONPAY_API_KEY, MOONPAY_SECRET_KEY`},{id:10,text:"Set up Transak crypto on-ramp (dashboard.transak.com)",done:!1,priority:"high",link:"https://dashboard.transak.com",instructions:`1. Create account at dashboard.transak.com
2. Complete KYB verification
3. Get your API key from Settings
4. Add key to Replit Secrets: TRANSAK_API_KEY`},{id:11,text:"Apply for Stripe Crypto Onramp (stripe.com/crypto)",done:!1,priority:"medium",link:"https://stripe.com/crypto",instructions:`1. Go to Stripe Dashboard > Products > Crypto Onramp
2. Click "Request Access"
3. Complete application form
4. Wait for approval (1-2 weeks)
5. Once approved, existing keys work automatically`},{id:12,text:"Test built-in wallet with real funds",done:!1,priority:"high"}],Ye={free:"#00D4FF",pro:"#39FF14",enterprise:"#8B5CF6"},J={free:["market:read","signals:read"],pro:["market:read","signals:read","predictions:read","accuracy:read"],enterprise:["market:read","signals:read","predictions:read","accuracy:read","strikeagent:read","webhooks:write"]},P={background:"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)"},N=({title:t,icon:n,children:i,fullWidth:s,glowColor:o})=>e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"20px",border:`1px solid ${o?`${o}40`:"#2a2a2a"}`,gridColumn:s?"1 / -1":"span 1",boxShadow:o?`0 0 30px ${o}20`:"none",transition:"all 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:n}),e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:"600"},children:t})]}),i]}),Z=({title:t,value:n,subtitle:i,icon:s,glow:o})=>e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"20px",border:`1px solid ${o?`${o}40`:"#2a2a2a"}`,boxShadow:o?`0 0 20px ${o}20`:"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#888"},children:t}),e.jsx("span",{style:{fontSize:"20px"},children:s})]}),e.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#fff",marginBottom:"4px"},children:n}),i&&e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:i})]}),ge=({count:t})=>e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"24px",border:"1px solid rgba(0, 212, 255, 0.3)",boxShadow:"0 0 40px rgba(0, 212, 255, 0.15)",textAlign:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"#39FF14",boxShadow:"0 0 10px #39FF14",animation:"pulse 2s infinite"}}),e.jsx("span",{style:{fontSize:"14px",color:"#888",textTransform:"uppercase",letterSpacing:"2px"},children:"Live Visitors"})]}),e.jsx("div",{style:{fontSize:"48px",fontWeight:"800",color:"#00D4FF"},children:t}),e.jsx("style",{children:"@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"})]}),fe=({title:t,items:n,labelKey:i,valueKey:s,icon:o})=>e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("span",{children:o}),e.jsx("span",{style:{fontWeight:"600",color:"#fff"},children:t})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:n.length===0?e.jsx("div",{style:{color:"#666",fontSize:"13px",textAlign:"center",padding:"20px"},children:"No data yet"}):n.slice(0,5).map((d,l)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:l<Math.min(n.length,5)-1?"1px solid #2a2a2a":"none"},children:[e.jsx("span",{style:{color:"#ccc",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"70%"},children:d[i]}),e.jsx("span",{style:{color:"#00D4FF",fontWeight:"600",fontSize:"13px"},children:d[s]})]},l))})]}),Xe=({data:t})=>{const n=[{key:"desktop",label:"Desktop",icon:"ðŸ–¥ï¸",color:"#00D4FF"},{key:"mobile",label:"Mobile",icon:"ðŸ“±",color:"#39FF14"},{key:"tablet",label:"Tablet",icon:"ðŸ“²",color:"#8B5CF6"}];return e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"16px"},children:"Device Breakdown"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(i=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[i.icon," ",i.label]}),e.jsxs("span",{style:{color:i.color,fontWeight:"600"},children:[t[i.key],"%"]})]}),e.jsx("div",{style:{height:"6px",background:"#2a2a2a",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${t[i.key]}%`,height:"100%",background:i.color,borderRadius:"3px"}})})]},i.key))})]})},qe=({doc:t,onView:n})=>e.jsx("div",{onClick:()=>n(t),style:{...P,borderRadius:"12px",padding:"16px",border:"1px solid #2a2a2a",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:i=>{i.currentTarget.style.borderColor="#00D4FF",i.currentTarget.style.transform="translateY(-2px)",i.currentTarget.style.boxShadow="0 0 20px rgba(0, 212, 255, 0.2)"},onMouseOut:i=>{i.currentTarget.style.borderColor="#2a2a2a",i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:t.title}),e.jsx("div",{style:{color:"#666",fontSize:"12px"},children:t.description})]})]})}),Qe=({task:t,onToggle:n})=>{const i={high:"#FF4444",medium:"#FFB344",low:"#44FF44"},[s,o]=c.useState(!1);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{onClick:()=>n(t.id),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:t.done?"rgba(26, 42, 26, 0.6)":"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",borderRadius:"8px",border:`1px solid ${t.done?"#39FF1430":"#2a2a2a"}`,cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:`2px solid ${t.done?"#39FF14":"#444"}`,background:t.done?"#39FF14":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:t.done&&e.jsx("span",{style:{color:"#000",fontSize:"12px"},children:"âœ“"})}),e.jsx("span",{style:{flex:1,color:t.done?"#666":"#fff",textDecoration:t.done?"line-through":"none",fontSize:"14px"},children:t.text}),t.link&&e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",onClick:d=>d.stopPropagation(),style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#000",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textDecoration:"none",flexShrink:0},children:"Open â†’"}),t.instructions&&e.jsx("button",{onClick:d=>{d.stopPropagation(),o(!s)},style:{background:"#333",border:"none",color:"#888",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",cursor:"pointer",flexShrink:0},children:s?"Hide":"Steps"}),e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:i[t.priority],flexShrink:0}})]}),s&&t.instructions&&e.jsx("div",{style:{marginLeft:"32px",padding:"12px",background:"rgba(0, 212, 255, 0.05)",border:"1px solid rgba(0, 212, 255, 0.2)",borderRadius:"8px",fontSize:"12px",color:"#aaa",whiteSpace:"pre-line",lineHeight:"1.6"},children:t.instructions})]})},Ze=({doc:t,content:n,onClose:i})=>e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",zIndex:1e4,display:"flex",flexDirection:"column",padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:{fontSize:"24px"},children:t.icon}),e.jsx("h2",{style:{margin:0,color:"#fff"},children:t.title})]}),e.jsx("button",{onClick:i,style:{background:"#333",border:"none",borderRadius:"8px",color:"#fff",padding:"8px 16px",cursor:"pointer"},children:"âœ• Close"})]}),e.jsx("div",{style:{flex:1,overflow:"auto",...P,borderRadius:"12px",padding:"24px",whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"14px",lineHeight:"1.6",color:"#ccc"},children:n||"Loading..."})]}),re=({tier:t,price:n,monthlyPrice:i,annualPrice:s,billingPeriod:o,features:d,limits:l,scopes:g,isCurrentPlan:f,isPopular:v,onUpgrade:T,onManage:w})=>{const[m,C]=c.useState(!1),u=Ye[t],h=o==="annual"?s:i;return e.jsxs("div",{onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),style:{...P,textAlign:"center",padding:"24px 20px",borderRadius:"16px",border:`1px solid ${u}40`,position:"relative",boxShadow:m?`0 0 40px ${u}40, 0 0 60px ${u}20`:`0 0 20px ${u}15`,transform:m?"scale(1.02)":"scale(1)",transition:"all 0.3s ease"},children:[v&&e.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:`linear-gradient(135deg, ${u}, ${u}CC)`,color:t==="pro"?"#000":"#fff",fontSize:"10px",fontWeight:"700",padding:"6px 16px",borderRadius:"12px",boxShadow:`0 0 15px ${u}60`},children:"POPULAR"}),f&&e.jsx("div",{style:{position:"absolute",top:"-12px",right:"12px",background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#fff",fontSize:"9px",fontWeight:"700",padding:"4px 10px",borderRadius:"8px",textTransform:"uppercase"},children:"Current Plan"}),e.jsx("div",{style:{fontSize:"22px",fontWeight:"700",color:u,marginTop:v?"8px":0},children:t.charAt(0).toUpperCase()+t.slice(1)}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"800",color:"#fff",margin:"12px 0 4px"},children:["$",h,e.jsx("span",{style:{fontSize:"14px",color:"#888",fontWeight:"400"},children:"/mo"})]}),o==="annual"&&t!=="free"&&e.jsxs("div",{style:{fontSize:"11px",color:u,marginBottom:"8px"},children:["$",h*12,"/year (billed annually)"]}),e.jsx("div",{style:{fontSize:"12px",color:"#888",marginBottom:"4px"},children:l}),e.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"12px"},children:d}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",justifyContent:"center",marginTop:"12px",padding:"10px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:g.map((b,S)=>e.jsx("span",{style:{fontSize:"9px",padding:"3px 6px",borderRadius:"4px",background:`${u}20`,color:u,border:`1px solid ${u}40`},children:b},S))}),e.jsx("div",{style:{marginTop:"16px"},children:f?t==="free"?e.jsx("div",{style:{padding:"10px 20px",background:"#333",borderRadius:"8px",color:"#888",fontSize:"12px"},children:"Current Plan"}):e.jsx("button",{onClick:w,style:{width:"100%",padding:"12px 20px",background:"transparent",border:`1px solid ${u}`,borderRadius:"8px",color:u,fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"Manage Subscription"}):e.jsx("button",{onClick:()=>T(t),style:{width:"100%",padding:"12px 20px",background:t==="free"?"#333":`linear-gradient(135deg, ${u}, ${u}CC)`,border:"none",borderRadius:"8px",color:t==="pro"?"#000":"#fff",fontSize:"12px",fontWeight:"700",cursor:t==="free"?"default":"pointer",boxShadow:t!=="free"?`0 0 15px ${u}40`:"none",transition:"all 0.2s ease"},children:t==="free"?"Free Forever":`Upgrade to ${t.charAt(0).toUpperCase()+t.slice(1)}`})})]})},et=({environment:t})=>{const n=t==="live";return e.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"9px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",background:n?"rgba(57, 255, 20, 0.15)":"rgba(255, 184, 0, 0.15)",color:n?"#39FF14":"#FFB800",border:`1px solid ${n?"rgba(57, 255, 20, 0.4)":"rgba(255, 184, 0, 0.4)"}`},children:n?"LIVE":"TEST"})},tt=({scope:t})=>{const i={"market:read":"#00D4FF","signals:read":"#39FF14","predictions:read":"#8B5CF6","accuracy:read":"#FFB800","strikeagent:read":"#FF6B35","webhooks:write":"#FF4444"}[t]||"#888";return e.jsx("span",{style:{padding:"2px 5px",borderRadius:"3px",fontSize:"8px",fontWeight:"600",background:`${i}15`,color:i,border:`1px solid ${i}30`},children:t})},nt=({isOpen:t,title:n,message:i,onConfirm:s,onCancel:o})=>t?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"100%",border:"1px solid #FF444440",boxShadow:"0 0 40px rgba(255, 68, 68, 0.2)"},children:[e.jsx("h3",{style:{margin:"0 0 12px",color:"#fff",fontSize:"18px"},children:n}),e.jsx("p",{style:{margin:"0 0 20px",color:"#888",fontSize:"14px",lineHeight:1.5},children:i}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:o,style:{flex:1,padding:"12px",background:"#333",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",cursor:"pointer"},children:"Cancel"}),e.jsx("button",{onClick:s,style:{flex:1,padding:"12px",background:"linear-gradient(135deg, #FF4444, #FF6B6B)",border:"none",borderRadius:"8px",color:"#fff",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Regenerate"})]})]})}):null;function it(){const[t,n]=c.useState("overview"),[i,s]=c.useState(!0),[o,d]=c.useState(0),[l,g]=c.useState(null),[f,v]=c.useState(()=>{const a=localStorage.getItem("adminTasks");return a?JSON.parse(a):Je}),[T,w]=c.useState(null),[m,C]=c.useState(""),[u,h]=c.useState([]),[b,S]=c.useState(!1),[r,x]=c.useState(""),[F,A]=c.useState("live"),[z,Y]=c.useState(["market:read","signals:read"]),[$,K]=c.useState(null),[G,V]=c.useState({}),[B,X]=c.useState("monthly"),[H,te]=c.useState("free"),[p,R]=c.useState(null);c.useEffect(()=>{localStorage.setItem("adminTasks",JSON.stringify(f))},[f]),c.useEffect(()=>{(async()=>{try{const[j,k]=await Promise.all([fetch("/api/analytics/dashboard?tenantId=pulse"),fetch("/api/analytics/live?tenantId=pulse")]),W=await j.json(),L=await k.json();g(W),d(L.liveVisitors||0)}catch(j){console.error("Failed to load analytics:",j)}finally{s(!1)}})();const y=setInterval(async()=>{try{const k=await(await fetch("/api/analytics/live?tenantId=pulse")).json();d(k.liveVisitors||0)}catch{}},3e4);return()=>clearInterval(y)},[]),c.useEffect(()=>{(async()=>{try{const y=JSON.parse(localStorage.getItem("userSession")||"{}"),j=y.sessionToken||y.token;if(!j)return;const W=await(await fetch("/api/developer/subscription",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({sessionToken:j})})).json();W.tier&&(te(W.tier),Y(J[W.tier]||J.free))}catch(y){console.error("Failed to fetch subscription:",y)}})()},[]);const I=async a=>{w(a),C("Loading...");try{const j=await(await fetch(a.file)).text();C(j)}catch{C("Failed to load document")}},be=a=>{v(y=>y.map(j=>j.id===a?{...j,done:!j.done}:j))},ae=f.filter(a=>a.done).length,q=Math.round(ae/f.length*100),D=l||{},je=[{id:"overview",label:"Overview",icon:"ðŸ“Š"},{id:"api",label:"API",icon:"ðŸ”‘"},{id:"documents",label:"Documents",icon:"ðŸ“"},{id:"tasks",label:"Tasks",icon:"âœ…"},{id:"analytics",label:"Analytics",icon:"ðŸ“ˆ"}],ne=async a=>{if(a!=="free")try{const y=JSON.parse(localStorage.getItem("userSession")||"{}"),j=y.id||y.email;if(!j){console.error("No user session found");return}let k;a==="enterprise"?k=B==="annual"?"/api/developer/billing/create-enterprise-annual":"/api/developer/billing/create-enterprise-monthly":k=B==="annual"?"/api/developer/billing/create-pro-annual":"/api/developer/billing/create-pro-monthly";const L=await(await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:j})})).json();L.success&&L.url?window.location.href=L.url:console.error("Failed to create checkout session:",L.error)}catch(y){console.error("Upgrade error:",y)}},ie=async()=>{try{const a=JSON.parse(localStorage.getItem("userSession")||"{}"),y=a.sessionToken||a.token,k=await(await fetch("/api/developer/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:y})})).json();k.url&&(window.location.href=k.url)}catch(a){console.error("Failed to open billing portal:",a)}},ve=async()=>{if(r.trim()){S(!0);try{const a=JSON.parse(localStorage.getItem("userSession")||"{}"),y=a.sessionToken||a.token;if(!y){console.error("No session token found - user not authenticated");return}const k=await(await fetch("/api/developer/keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:y,name:r.trim(),environment:F,scopes:z})})).json();k.success?(K({key:k.apiKey,keyId:k.keyId,prefix:k.prefix,name:r.trim(),environment:k.environment||F,scopes:k.scopes||z}),x(""),h(W=>[...W,{id:k.keyId,name:r.trim(),prefix:k.prefix,environment:k.environment||F,scopes:k.scopes||z,createdAt:new Date().toISOString(),status:"active"}])):k.error&&console.error("API key generation failed:",k.error)}catch(a){console.error("Failed to generate API key:",a)}finally{S(!1)}}},Se=async a=>{try{const y=JSON.parse(localStorage.getItem("userSession")||"{}"),j=y.sessionToken||y.token,W=await(await fetch("/api/developer/keys/regenerate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:j,keyId:a})})).json();if(W.success){const L=u.find(oe=>oe.id===a);K({key:W.apiKey,keyId:W.keyId,prefix:W.prefix,name:L?.name||"Regenerated Key",environment:L?.environment||"live",scopes:L?.scopes||z}),h(oe=>oe.map(se=>se.id===a?{...se,prefix:W.prefix}:se))}}catch(y){console.error("Failed to regenerate key:",y)}finally{R(null)}},Fe=(a,y)=>{navigator.clipboard.writeText(a),V(j=>({...j,[y]:!0})),setTimeout(()=>V(j=>({...j,[y]:!1})),2e3)};return e.jsxs("div",{style:{padding:"20px 0",paddingBottom:"100px"},children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",margin:0},children:"ðŸ› ï¸ Developers Portal"}),e.jsx("p",{style:{color:"#888",margin:"8px 0 0",fontSize:"14px"},children:"Admin dashboard, business docs & analytics"})]}),e.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",overflowX:"auto",paddingBottom:"8px"},children:je.map(a=>e.jsxs("button",{onClick:()=>n(a.id),style:{background:t===a.id?"linear-gradient(135deg, #00D4FF, #0099CC)":"rgba(26, 26, 26, 0.6)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:t===a.id?"none":"1px solid #2a2a2a",borderRadius:"8px",padding:"10px 16px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap",fontSize:"13px",fontWeight:t===a.id?"600":"400",transition:"all 0.2s ease"},children:[e.jsx("span",{children:a.icon}),a.label]},a.id))}),t==="overview"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[e.jsx(ge,{count:o}),e.jsxs(N,{title:"Task Progress",icon:"ðŸ“‹",children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[ae," of ",f.length," tasks done"]}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:"600"},children:[q,"%"]})]}),e.jsx("div",{style:{height:"8px",background:"#2a2a2a",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${q}%`,height:"100%",background:"linear-gradient(90deg, #00D4FF, #39FF14)",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),e.jsx("button",{onClick:()=>n("tasks"),style:{width:"100%",background:"rgba(42, 42, 42, 0.6)",border:"none",borderRadius:"8px",padding:"10px",color:"#fff",cursor:"pointer",fontSize:"13px"},children:"View All Tasks â†’"})]}),e.jsx(N,{title:"Quick Stats",icon:"âš¡",children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#00D4FF"},children:D.today?.views||0}),e.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"Today"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#39FF14"},children:D.allTime?.views||0}),e.jsx("div",{style:{fontSize:"11px",color:"#666"},children:"All Time"})]})]})}),e.jsx(N,{title:"Business Documents",icon:"ðŸ“",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[xe.slice(0,3).map(a=>e.jsxs("div",{onClick:()=>I(a),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",cursor:"pointer"},children:[e.jsx("span",{children:a.icon}),e.jsx("span",{style:{color:"#ccc",fontSize:"13px"},children:a.title})]},a.id)),e.jsx("button",{onClick:()=>n("documents"),style:{background:"rgba(42, 42, 42, 0.6)",border:"none",borderRadius:"8px",padding:"10px",color:"#fff",cursor:"pointer",fontSize:"13px"},children:"View All Docs â†’"})]})})]}),t==="api"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"16px"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1",...P,borderRadius:"20px",padding:"28px",border:"1px solid rgba(0, 212, 255, 0.3)",boxShadow:"0 0 50px rgba(0, 212, 255, 0.15)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[e.jsx("span",{style:{fontSize:"28px"},children:"ðŸš€"}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"20px",fontWeight:"700"},children:"Pulse Developer API"}),e.jsx("p",{style:{margin:"4px 0 0",color:"#888",fontSize:"13px"},children:"Access AI signals, market data & safety scanning"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{style:{display:"flex",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",padding:"4px",border:"1px solid #333"},children:[e.jsx("button",{onClick:()=>X("monthly"),style:{background:B==="monthly"?"linear-gradient(135deg, #00D4FF, #0099CC)":"transparent",border:"none",borderRadius:"8px",padding:"10px 18px",color:B==="monthly"?"#fff":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"all 0.2s ease"},children:"Monthly"}),e.jsx("button",{onClick:()=>X("annual"),style:{background:B==="annual"?"linear-gradient(135deg, #39FF14, #2ECC71)":"transparent",border:"none",borderRadius:"8px",padding:"10px 18px",color:B==="annual"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"all 0.2s ease"},children:"Annual"})]}),B==="annual"&&e.jsx("span",{style:{background:"linear-gradient(135deg, #39FF14, #2ECC71)",color:"#000",fontSize:"10px",fontWeight:"700",padding:"6px 12px",borderRadius:"12px",boxShadow:"0 0 10px rgba(57, 255, 20, 0.4)"},children:"~17% savings"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginTop:"20px"},children:[e.jsx(re,{tier:"free",monthlyPrice:0,annualPrice:0,billingPeriod:B,limits:"60 req/min â€¢ 2K/day",features:"Market Data + Signals",scopes:J.free,isCurrentPlan:H==="free",onUpgrade:ne,onManage:ie}),e.jsx(re,{tier:"pro",monthlyPrice:29,annualPrice:24,billingPeriod:B,limits:"600 req/min â€¢ 100K/day",features:"+ Predictions + Accuracy",scopes:J.pro,isCurrentPlan:H==="pro",isPopular:!0,onUpgrade:ne,onManage:ie}),e.jsx(re,{tier:"enterprise",monthlyPrice:99,annualPrice:82,billingPeriod:B,limits:"3000 req/min â€¢ 1M/day",features:"+ StrikeAgent + Webhooks",scopes:J.enterprise,isCurrentPlan:H==="enterprise",onUpgrade:ne,onManage:ie})]})]}),e.jsxs("div",{style:{gridColumn:"span 12",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"16px"},children:[e.jsxs(N,{title:"Generate API Key",icon:"ðŸ”",glowColor:"#00D4FF",children:[e.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:r,onChange:a=>x(a.target.value),placeholder:"Key name (e.g., My Trading Bot)",style:{flex:1,minWidth:"200px",background:"rgba(15, 15, 15, 0.6)",border:"1px solid #333",borderRadius:"8px",padding:"12px",color:"#fff",fontSize:"14px"}}),e.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",padding:"4px",border:"1px solid #333"},children:[e.jsx("button",{onClick:()=>A("live"),style:{background:F==="live"?"linear-gradient(135deg, #39FF14, #2ECC71)":"transparent",border:"none",borderRadius:"6px",padding:"8px 14px",color:F==="live"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px"},children:"Live"}),e.jsx("button",{onClick:()=>A("test"),style:{background:F==="test"?"linear-gradient(135deg, #FFB800, #FF8C00)":"transparent",border:"none",borderRadius:"6px",padding:"8px 14px",color:F==="test"?"#000":"#888",cursor:"pointer",fontWeight:"600",fontSize:"12px"},children:"Test"})]}),e.jsx("button",{onClick:ve,disabled:b||!r.trim(),style:{background:b?"#333":"linear-gradient(135deg, #00D4FF, #0099CC)",border:"none",borderRadius:"8px",padding:"12px 20px",color:"#fff",cursor:b?"wait":"pointer",fontWeight:"600",opacity:r.trim()?1:.5,boxShadow:!b&&r.trim()?"0 0 15px rgba(0, 212, 255, 0.3)":"none"},children:b?"Generating...":"Generate Key"})]}),e.jsx("div",{style:{fontSize:"11px",color:"#666",marginBottom:"12px"},children:F==="live"?"ðŸŸ¢ Live keys access real data and count against rate limits":"ðŸŸ¡ Test keys return mock data for development - no rate limit impact"}),$&&e.jsxs("div",{style:{background:"rgba(10, 26, 10, 0.6)",border:"2px solid #39FF14",borderRadius:"12px",padding:"20px",marginTop:"16px",boxShadow:"0 0 30px rgba(57, 255, 20, 0.3), inset 0 0 20px rgba(57, 255, 20, 0.05)",animation:"glowPulse 2s ease-in-out infinite"},children:[e.jsx("style",{children:`
                    @keyframes glowPulse {
                      0%, 100% { box-shadow: 0 0 30px rgba(57, 255, 20, 0.3), inset 0 0 20px rgba(57, 255, 20, 0.05); }
                      50% { box-shadow: 0 0 40px rgba(57, 255, 20, 0.5), inset 0 0 30px rgba(57, 255, 20, 0.1); }
                    }
                  `}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{color:"#39FF14",fontSize:"20px"},children:"âœ“"}),e.jsx("span",{style:{color:"#39FF14",fontWeight:"700",fontSize:"16px"},children:"API Key Generated!"})]}),e.jsx("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:e.jsx("p",{style:{color:"#FF6B6B",fontSize:"13px",margin:0,fontWeight:"600"},children:"âš ï¸ Save this key now - it cannot be retrieved again!"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"rgba(15, 15, 15, 0.8)",padding:"14px",borderRadius:"10px",border:"1px solid #39FF1440",fontFamily:"monospace"},children:[e.jsx("code",{style:{flex:1,color:"#00D4FF",fontSize:"13px",wordBreak:"break-all"},children:$.key}),e.jsx("button",{onClick:()=>Fe($.key,"newKey"),style:{background:G.newKey?"#39FF14":"linear-gradient(135deg, #333, #444)",border:"none",borderRadius:"6px",padding:"10px 16px",color:G.newKey?"#000":"#fff",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.2s ease"},children:G.newKey?"âœ“ Copied!":"Copy"})]}),e.jsx("button",{onClick:()=>K(null),style:{marginTop:"16px",background:"rgba(42, 42, 42, 0.6)",border:"1px solid #444",borderRadius:"8px",padding:"10px 20px",color:"#888",cursor:"pointer",fontSize:"12px",transition:"all 0.2s ease"},children:"Dismiss"})]})]}),u.length>0&&e.jsx(N,{title:"Your API Keys",icon:"ðŸ“‹",glowColor:"#8B5CF6",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:u.map(a=>e.jsxs("div",{style:{...P,display:"flex",flexDirection:"column",gap:"10px",padding:"14px",borderRadius:"10px",border:"1px solid #2a2a2a",transition:"all 0.2s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"8px"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:e.jsxs("div",{children:[e.jsx("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:a.name}),e.jsxs("div",{style:{color:"#666",fontSize:"12px",fontFamily:"monospace"},children:[a.prefix,"..."]})]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(et,{environment:a.environment}),e.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",background:a.status==="active"?"rgba(57, 255, 20, 0.15)":"rgba(255, 107, 53, 0.15)",color:a.status==="active"?"#39FF14":"#FF6B35",fontSize:"11px",fontWeight:"600"},children:a.status==="active"?"Active":"Revoked"})]})]}),a.scopes&&a.scopes.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:a.scopes.map((y,j)=>e.jsx(tt,{scope:y},j))}),e.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"4px"},children:e.jsx("button",{onClick:()=>R(a.id),style:{padding:"8px 14px",background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)",borderRadius:"6px",color:"#FFB800",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ”„ Regenerate"})})]},a.id))})})]}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsxs(N,{title:"API Documentation",icon:"ðŸ“–",fullWidth:!0,glowColor:"#00D4FF",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("span",{style:{background:"linear-gradient(135deg, #00D4FF, #0099CC)",color:"#fff",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:"700"},children:"v1.21.0"}),e.jsx("span",{style:{color:"#888",fontSize:"12px"},children:"Latest release with WebAuthn & Session Security"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"12px"},children:[e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/market-overview?category=top"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get market overview with top coins, BTC dominance, and sentiment"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/price/:symbol"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get current price for a cryptocurrency (e.g., BTC, ETH, SOL)"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid #2a2a2a"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#39FF14",color:"#000",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"GET"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/signals?symbol=BTC"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get AI analysis signals for a coin (BUY/SELL/HOLD with confidence)"})]}),e.jsxs("div",{style:{padding:"14px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"10px",border:"1px solid rgba(139, 92, 246, 0.3)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{background:"#8B5CF6",color:"#fff",padding:"3px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"700"},children:"PRO"}),e.jsx("code",{style:{color:"#ccc",fontSize:"13px"},children:"/api/v1/predictions/:symbol?horizon=4h"})]}),e.jsx("p",{style:{color:"#888",fontSize:"12px",margin:0},children:"Get ML predictions with probability scores (Pro tier required)"})]})]}),e.jsx("div",{style:{marginTop:"16px",padding:"14px",background:"rgba(26, 26, 42, 0.6)",borderRadius:"10px",border:"1px solid rgba(0, 212, 255, 0.3)"},children:e.jsxs("p",{style:{color:"#00D4FF",fontSize:"13px",margin:0},children:[e.jsx("strong",{children:"Authentication:"})," Include your API key in the ",e.jsx("code",{style:{background:"rgba(15, 15, 15, 0.6)",padding:"3px 8px",borderRadius:"4px"},children:"X-Pulse-Api-Key"})," header"]})})]})}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsxs(N,{title:"ðŸ” Security Features (v1.21.0)",icon:"ðŸ›¡ï¸",fullWidth:!0,glowColor:"#39FF14",children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"ðŸ”‘"}),e.jsx("h4",{style:{margin:0,color:"#fff",fontSize:"15px",fontWeight:"600"},children:"Biometric Authentication (WebAuthn)"}),e.jsx("span",{style:{background:"rgba(57, 255, 20, 0.15)",color:"#39FF14",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"NEW"})]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"0 0 12px",lineHeight:1.5},children:"Optional 2FA using fingerprint, Face ID, or security keys. Users can enable biometric verification for login, wallet transactions, or both."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"10px"},children:[e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/register-options"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Get WebAuthn registration options for credential creation"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/register-verify"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Verify and store new biometric credential"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/auth-options"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Get authentication challenge for biometric login"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{background:"#FFB800",color:"#000",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"POST"}),e.jsx("code",{style:{color:"#ccc",fontSize:"12px"},children:"/api/webauthn/auth-verify"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Verify biometric authentication response"})]})]}),e.jsx("div",{style:{marginTop:"12px",padding:"10px 14px",background:"rgba(57, 255, 20, 0.05)",borderRadius:"8px",border:"1px solid rgba(57, 255, 20, 0.15)"},children:e.jsxs("p",{style:{color:"#39FF14",fontSize:"12px",margin:0},children:["ðŸ’¡ ",e.jsx("strong",{children:"User Settings:"})," Enable for login only, wallet transactions only, both, or neither. Fully user-controlled."]})})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"ðŸ”’"}),e.jsx("h4",{style:{margin:0,color:"#fff",fontSize:"15px",fontWeight:"600"},children:"Session Security"}),e.jsx("span",{style:{background:"rgba(57, 255, 20, 0.15)",color:"#39FF14",padding:"3px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"NEW"})]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"0 0 12px",lineHeight:1.5},children:"Enhanced session management with automatic token rotation for improved security."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"10px"},children:[e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"ðŸ”„"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"Token Rotation"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Session tokens rotate automatically to prevent session hijacking"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"ðŸ“¡"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"X-Session-Token-Rotated"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Response header signals when token has been refreshed"})]}),e.jsxs("div",{style:{padding:"12px",background:"rgba(15, 15, 15, 0.6)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.2)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[e.jsx("span",{style:{color:"#00D4FF",fontSize:"14px"},children:"â±ï¸"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:"600"},children:"Tier-Based Durations"})]}),e.jsx("p",{style:{color:"#666",fontSize:"11px",margin:0},children:"Session lengths vary by subscription tier for flexible security"})]})]}),e.jsx("div",{style:{marginTop:"12px",padding:"10px 14px",background:"rgba(0, 212, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 212, 255, 0.15)"},children:e.jsxs("p",{style:{color:"#00D4FF",fontSize:"12px",margin:0},children:["ðŸ”§ ",e.jsx("strong",{children:"Frontend Integration:"})," Check for ",e.jsx("code",{style:{background:"rgba(15, 15, 15, 0.6)",padding:"2px 6px",borderRadius:"4px"},children:"X-Session-Token-Rotated"})," header and update stored token when present."]})})]})]})})]}),t==="documents"&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:xe.map(a=>e.jsx(qe,{doc:a,onView:I},a.id))}),t==="tasks"&&e.jsxs("div",{children:[e.jsxs("div",{style:{...P,borderRadius:"12px",padding:"20px",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("span",{style:{color:"#fff",fontWeight:"600"},children:"Progress"}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:"700"},children:[q,"%"]})]}),e.jsx("div",{style:{height:"12px",background:"#2a2a2a",borderRadius:"6px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${q}%`,height:"100%",background:"linear-gradient(90deg, #00D4FF, #39FF14)",borderRadius:"6px",transition:"width 0.3s ease"}})}),e.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"16px",fontSize:"12px",color:"#666"},children:[e.jsxs("span",{children:["ðŸ”´ High: ",f.filter(a=>a.priority==="high"&&!a.done).length]}),e.jsxs("span",{children:["ðŸŸ¡ Medium: ",f.filter(a=>a.priority==="medium"&&!a.done).length]}),e.jsxs("span",{children:["ðŸŸ¢ Low: ",f.filter(a=>a.priority==="low"&&!a.done).length]})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...f].sort((a,y)=>{if(a.done!==y.done)return a.done?1:-1;const j={high:0,medium:1,low:2};return j[a.priority]-j[y.priority]}).map(a=>e.jsx(Qe,{task:a,onToggle:be},a.id))})]}),t==="analytics"&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:i?e.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#888"},children:"Loading analytics..."}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{count:o}),e.jsx(Z,{title:"Today",value:D.today?.views||0,subtitle:`${D.today?.sessions||0} sessions`,icon:"ðŸ“…",glow:"#00D4FF"}),e.jsx(Z,{title:"This Week",value:D.week?.views||0,icon:"ðŸ“Š",glow:"#39FF14"}),e.jsx(Z,{title:"This Month",value:D.month?.views||0,icon:"ðŸ“ˆ",glow:"#8B5CF6"}),e.jsx(Z,{title:"All Time",value:D.allTime?.views||0,subtitle:`${D.allTime?.sessions||0} unique sessions`,icon:"ðŸŒ",glow:"#FF6B35"}),e.jsx(fe,{title:"Top Pages",items:D.topPages||[],labelKey:"page",valueKey:"views",icon:"ðŸ“„"}),e.jsx(fe,{title:"Top Referrers",items:D.topReferrers||[],labelKey:"referrer",valueKey:"count",icon:"ðŸ”—"}),e.jsx(Xe,{data:D.deviceBreakdown||{desktop:0,mobile:0,tablet:0}}),e.jsxs("div",{style:{...P,borderRadius:"16px",padding:"20px",border:"1px solid #2a2a2a"},children:[e.jsx("div",{style:{fontWeight:"600",color:"#fff",marginBottom:"12px"},children:"Avg. Session Duration"}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:"#00D4FF"},children:[Math.floor((D.avgDuration||0)/60),"m ",(D.avgDuration||0)%60,"s"]})]})]})}),T&&e.jsx(Ze,{doc:T,content:m,onClose:()=>w(null)}),e.jsx(nt,{isOpen:!!p,title:"Regenerate API Key?",message:"This will invalidate your current key and generate a new one. Any applications using the old key will stop working immediately.",onConfirm:()=>Se(p),onCancel:()=>R(null)})]})}const ot=()=>{let t=sessionStorage.getItem("pulse_session_id");return t||(t="sess_"+Math.random().toString(36).substring(2,15)+Date.now().toString(36),sessionStorage.setItem("pulse_session_id",t)),t};function st(t="pulse"){const n=c.useRef(ot()),i=c.useRef(Date.now()),s=c.useRef(""),o=c.useCallback(async d=>{if(d!==s.current){if(s.current&&i.current){const l=Math.round((Date.now()-i.current)/1e3);if(l>0)try{await fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:s.current,sessionId:n.current,tenantId:t,duration:l})})}catch{}}s.current=d,i.current=Date.now();try{await fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:d,referrer:document.referrer||null,sessionId:n.current,tenantId:t})})}catch(l){console.warn("Analytics tracking failed:",l)}}},[t]);return c.useEffect(()=>{const d=window.location.pathname+window.location.hash;o(d);const l=()=>{if(s.current&&i.current){const f=Math.round((Date.now()-i.current)/1e3);navigator.sendBeacon("/api/analytics/track",JSON.stringify({page:s.current,sessionId:n.current,tenantId:t,duration:f}))}},g=()=>{if(document.visibilityState==="hidden"&&s.current&&i.current){const f=Math.round((Date.now()-i.current)/1e3);navigator.sendBeacon("/api/analytics/track",JSON.stringify({page:s.current,sessionId:n.current,tenantId:t,duration:f}))}};return window.addEventListener("beforeunload",l),document.addEventListener("visibilitychange",g),()=>{window.removeEventListener("beforeunload",l),document.removeEventListener("visibilitychange",g)}},[t,o]),{trackPageView:o,sessionId:n.current}}const me=t=>t>55?"#14F195":t>=45?"#F3BA2F":"#FF6B6B",ee=({title:t,value:n,icon:i,color:s="#00D4FF"})=>e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"20px",minWidth:"140px",flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:i}),e.jsx("span",{style:{color:"#888",fontSize:"13px",fontWeight:500},children:t})]}),e.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:s},children:n})]}),rt=({horizon:t,data:n,trend:i})=>{const s=parseFloat(n?.winRate||0),o=n?.total||0,d=n?.correct||0,l=me(s),g=i||{},f=parseFloat(g.delta||0),v=g.trend||"neutral",T={"1h":"1 Hour","4h":"4 Hours","24h":"24 Hours","7d":"7 Days"};return e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"12px",padding:"20px",minWidth:"200px",flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("span",{style:{color:"#888",fontSize:"14px",fontWeight:500},children:T[t]||t}),v!=="neutral"&&v!=="new"&&e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",background:v==="improving"?"#14F19515":"#FF6B6B15",color:v==="improving"?"#14F195":"#FF6B6B",borderRadius:"6px",fontSize:"12px",fontWeight:600},children:[v==="improving"?"â†‘":"â†“",Math.abs(f).toFixed(1),"%"]}),v==="new"&&e.jsx("span",{style:{padding:"4px 8px",background:"#00D4FF15",color:"#00D4FF",borderRadius:"6px",fontSize:"11px"},children:"NEW"})]}),e.jsxs("div",{style:{fontSize:"36px",fontWeight:700,color:l,marginBottom:"8px"},children:[s.toFixed(1),"%"]}),e.jsx("div",{style:{marginBottom:"8px"},children:e.jsx("div",{style:{height:"8px",background:"#0f0f0f",borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(s,100)}%`,height:"100%",background:"linear-gradient(90deg, #00D4FF, #9945FF)",borderRadius:"4px"}})})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#666",fontSize:"12px"},children:[e.jsxs("span",{children:[d," correct"]}),e.jsxs("span",{children:[o," total"]})]})]})},at=({horizon:t,current:n,target:i=50})=>{const s=Math.min(n/i*100,100),o=n>=i,d={"1h":"1-Hour","4h":"4-Hour","24h":"24-Hour","7d":"7-Day"};return e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px",fontSize:"13px"},children:[e.jsxs("span",{style:{color:"#fff"},children:[d[t]," Samples"]}),e.jsxs("span",{style:{color:o?"#14F195":"#888"},children:[n," / ",i," ",o&&"âœ“"]})]}),e.jsx("div",{style:{height:"6px",background:"#0f0f0f",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${s}%`,height:"100%",background:o?"#14F195":"linear-gradient(90deg, #00D4FF, #9945FF)",borderRadius:"3px",transition:"width 0.5s ease"}})})]})},lt=({model:t})=>{const n=parseFloat(t.accuracy||0),i=me(n*100);return e.jsxs("div",{style:{background:"#141414",borderRadius:"8px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{color:"#fff",fontSize:"14px",fontWeight:600},children:t.ticker}),e.jsx("span",{style:{padding:"2px 6px",background:"#0f0f0f",color:"#888",borderRadius:"4px",fontSize:"11px"},children:t.horizon}),t.isActive&&e.jsx("span",{style:{padding:"2px 6px",background:"#14F19515",color:"#14F195",borderRadius:"4px",fontSize:"10px",fontWeight:600},children:"ACTIVE"})]}),e.jsxs("div",{style:{color:"#666",fontSize:"11px"},children:["Trained: ",t.trainedAt?new Date(t.trainedAt).toLocaleDateString():"N/A"," â€¢",t.sampleCount||0," samples"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:"20px",fontWeight:700,color:i},children:[(n*100).toFixed(1),"%"]}),e.jsx("div",{style:{color:"#666",fontSize:"11px"},children:"accuracy"})]})]})},dt=({prediction:t})=>{const i={BUY:"#14F195",STRONG_BUY:"#14F195",SELL:"#FF6B6B",STRONG_SELL:"#FF6B6B",HOLD:"#F3BA2F",NEUTRAL:"#888"}[t.signalType]||"#888";return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 80px 100px 120px",gap:"12px",padding:"12px 16px",background:"#141414",borderRadius:"8px",alignItems:"center",fontSize:"13px"},children:[e.jsx("span",{style:{color:"#fff",fontWeight:500},children:t.ticker}),e.jsx("span",{style:{color:i,fontWeight:600},children:t.signalType}),e.jsxs("span",{style:{color:"#888"},children:[(t.confidence*100).toFixed(0),"%"]}),e.jsxs("span",{style:{color:"#00D4FF"},children:["$",parseFloat(t.price||0).toFixed(4)]}),e.jsx("span",{style:{color:"#666",fontSize:"11px"},children:t.createdAt?new Date(t.createdAt).toLocaleString():"N/A"})]})},ct=({driftStatus:t})=>{if(!t||!t.hasAnyDrift)return null;const n={CRITICAL:{bg:"#FF6B6B20",border:"#FF6B6B",text:"#FF6B6B"},HIGH:{bg:"#FF8C4220",border:"#FF8C42",text:"#FF8C42"},MEDIUM:{bg:"#F3BA2F20",border:"#F3BA2F",text:"#F3BA2F"},LOW:{bg:"#00D4FF20",border:"#00D4FF",text:"#00D4FF"}},i=Object.entries(t.horizonStatus||{}).filter(([d,l])=>l.hasDrift).sort((d,l)=>{const g={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3};return(g[d[1].severity]||4)-(g[l[1].severity]||4)}),s=i[0]?.[1]?.severity||"LOW",o=n[s];return e.jsxs("div",{style:{background:o.bg,border:`1px solid ${o.border}`,borderRadius:"12px",padding:"16px 20px",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:s==="CRITICAL"?"ðŸš¨":s==="HIGH"?"âš ï¸":"ðŸ“Š"}),e.jsx("span",{style:{color:o.text,fontWeight:600,fontSize:"15px"},children:"Model Drift Detected"}),e.jsx("span",{style:{padding:"3px 8px",background:o.border,color:"#0f0f0f",borderRadius:"4px",fontSize:"11px",fontWeight:700},children:s})]}),e.jsx("p",{style:{color:"#ccc",fontSize:"13px",margin:"0 0 12px 0",lineHeight:1.5},children:t.overallRecommendation}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:i.map(([d,l])=>e.jsxs("div",{style:{padding:"6px 12px",background:"#0f0f0f",borderRadius:"6px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{color:"#fff",fontSize:"12px",fontWeight:500},children:d}),e.jsxs("span",{style:{color:n[l.severity]?.text||"#888",fontSize:"11px"},children:[l.recentAccuracy,"% (",l.severity,")"]})]},d))})]})};function pt(){const[t,n]=c.useState(null),[i,s]=c.useState(null),[o,d]=c.useState(null),[l,g]=c.useState(null),[f,v]=c.useState(!0),[T,w]=c.useState(null),m=c.useCallback(async()=>{try{const[h,b,S,r]=await Promise.all([fetch("/api/ml/stats"),fetch("/api/ml/model-status"),fetch("/api/ml/accuracy-trends"),fetch("/api/ml/drift-status")]);if(h.ok){const x=await h.json();n(x)}if(b.ok){const x=await b.json();s(x)}if(S.ok){const x=await S.json();d(x)}if(r.ok){const x=await r.json();g(x)}w(new Date)}catch(h){console.error("Failed to fetch accuracy data:",h)}finally{v(!1)}},[]);if(c.useEffect(()=>{m();const h=setInterval(m,3e4);return()=>clearInterval(h)},[m]),f)return e.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"#0f0f0f",minHeight:"100vh"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"ðŸ“Š"}),e.jsx("div",{style:{color:"#888"},children:"Loading AI Performance Data..."})]});const C=["1h","4h","24h","7d"],u=o?.technicalAnalysis?.byHorizon||{};return e.jsxs("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",background:"#0f0f0f",minHeight:"100vh"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("div",{children:[e.jsxs("h1",{style:{color:"#fff",fontSize:"24px",margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{children:"ðŸ“Š"}),"AI Prediction Performance"]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"4px 0 0 0"},children:"Track accuracy and model performance across all time horizons"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T&&e.jsxs("span",{style:{color:"#666",fontSize:"12px"},children:["Updated ",T.toLocaleTimeString()]}),e.jsx("button",{onClick:m,style:{padding:"8px 16px",background:"#1a1a1a",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:"â†» Refresh"})]})]}),e.jsx(ct,{driftStatus:l}),e.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",flexWrap:"wrap"},children:[e.jsx(ee,{icon:"ðŸ“ˆ",title:"Total Predictions",value:t?.totalPredictions||0,color:"#00D4FF"}),e.jsx(ee,{icon:"ðŸŸ¢",title:"Buy Signals",value:t?.buySignals||0,color:"#14F195"}),e.jsx(ee,{icon:"ðŸ”´",title:"Sell Signals",value:t?.sellSignals||0,color:"#FF6B6B"}),e.jsx(ee,{icon:"ðŸŸ¡",title:"Hold Signals",value:t?.holdSignals||0,color:"#F3BA2F"})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸŽ¯"}),"Win Rates by Horizon",o?.technicalAnalysis?.overall?.trend==="improving"&&e.jsx("span",{style:{padding:"4px 12px",background:"#14F19515",color:"#14F195",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:"â†‘ Improving"}),o?.technicalAnalysis?.overall?.trend==="declining"&&e.jsx("span",{style:{padding:"4px 12px",background:"#FF6B6B15",color:"#FF6B6B",borderRadius:"12px",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px"},children:"â†“ Declining"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"16px"},children:C.map(h=>e.jsx(rt,{horizon:h,data:t?.outcomesByHorizon?.[h],trend:u[h]},h))})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ“š"}),"Training Data Progress",e.jsx("span",{style:{color:"#888",fontSize:"12px",fontWeight:400},children:"(50 samples needed per horizon)"})]}),C.map(h=>e.jsx(at,{horizon:h,current:t?.outcomesByHorizon?.[h]?.total||0,target:50},h))]}),i&&i.models&&i.models.length>0&&e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ§ "}),"Model Status",e.jsxs("span",{style:{padding:"4px 10px",background:"#00D4FF15",color:"#00D4FF",borderRadius:"8px",fontSize:"12px"},children:[i.activeModels," active / ",i.totalModels," total"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.models.slice(0,10).map((h,b)=>e.jsx(lt,{model:h},h.id||b))})]}),t?.recentPredictions&&t.recentPredictions.length>0&&e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ“‹"}),"Recent Predictions"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 80px 100px 120px",gap:"12px",padding:"8px 16px",color:"#666",fontSize:"11px",fontWeight:600,textTransform:"uppercase",marginBottom:"8px"},children:[e.jsx("span",{children:"Ticker"}),e.jsx("span",{children:"Signal"}),e.jsx("span",{children:"Confidence"}),e.jsx("span",{children:"Price"}),e.jsx("span",{children:"Time"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:t.recentPredictions.map((h,b)=>e.jsx(dt,{prediction:h},h.id||b))})]})]})}const xt={observer:"Watch only - log recommendations without executing trades",approval:"Requires your approval before each trade is executed","semi-auto":"Execute small positions automatically, notify on all trades","full-auto":"Execute trades within limits, log everything"},gt=({mode:t,selected:n,onClick:i,disabled:s})=>{const o={observer:"ðŸ‘ï¸",approval:"âœ…","semi-auto":"âš¡","full-auto":"ðŸ¤–"},d={observer:"Observer",approval:"Approval","semi-auto":"Semi-Auto","full-auto":"Full Auto"};return e.jsxs("button",{onClick:()=>!s&&i(t),disabled:s,style:{flex:1,minWidth:"140px",padding:"16px",background:n?"#1a1a1a":"#141414",border:n?"2px solid #00D4FF":"2px solid transparent",borderRadius:"12px",cursor:s?"not-allowed":"pointer",opacity:s?.5:1,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"28px",marginBottom:"8px"},children:o[t]}),e.jsx("div",{style:{color:n?"#00D4FF":"#fff",fontWeight:600,fontSize:"14px",marginBottom:"4px"},children:d[t]}),e.jsx("div",{style:{color:"#666",fontSize:"11px",lineHeight:1.4},children:xt[t]})]})},U=({label:t,value:n,onChange:i,min:s,max:o,step:d=1,suffix:l="",disabled:g})=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{color:"#888",fontSize:"13px"},children:t}),e.jsxs("span",{style:{color:"#00D4FF",fontWeight:600,fontSize:"14px"},children:[n,l]})]}),e.jsx("input",{type:"range",min:s,max:o,step:d,value:n,onChange:f=>i(parseFloat(f.target.value)),disabled:g,style:{width:"100%",height:"6px",borderRadius:"3px",background:"#0f0f0f",appearance:"none",cursor:g?"not-allowed":"pointer"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#555",fontSize:"10px",marginTop:"4px"},children:[e.jsxs("span",{children:[s,l]}),e.jsxs("span",{children:[o,l]})]})]}),he=({label:t,checked:n,onChange:i,disabled:s})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid #1a1a1a"},children:[e.jsx("span",{style:{color:"#ccc",fontSize:"14px"},children:t}),e.jsx("button",{onClick:()=>!s&&i(!n),disabled:s,style:{width:"48px",height:"26px",borderRadius:"13px",border:"none",background:n?"#14F195":"#333",cursor:s?"not-allowed":"pointer",position:"relative",transition:"background 0.2s"},children:e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"#fff",position:"absolute",top:"3px",left:n?"25px":"3px",transition:"left 0.2s"}})})]}),ue=({label:t,options:n,selected:i,onChange:s,disabled:o})=>e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{color:"#888",fontSize:"13px",marginBottom:"10px"},children:t}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:n.map(d=>{const l=i.includes(d.value);return e.jsx("button",{onClick:()=>{o||s(l?i.filter(g=>g!==d.value):[...i,d.value])},disabled:o,style:{padding:"8px 16px",background:l?"#00D4FF20":"#141414",border:l?"1px solid #00D4FF":"1px solid #333",borderRadius:"20px",color:l?"#00D4FF":"#888",fontSize:"13px",cursor:o?"not-allowed":"pointer"},children:d.label},d.value)})})]}),_={enabled:!1,mode:"observer",confidenceThreshold:"0.70",accuracyThreshold:"0.55",maxPerTrade:"10.00",maxPerDay:"50.00",maxOpenPositions:3,stopAfterLosses:3,isPaused:!1,pauseReason:null,allowedSignals:'["BUY", "STRONG_BUY"]',allowedHorizons:'["1h", "4h"]',notifyOnTrade:!0,notifyOnRecommendation:!0,notifyChannel:"telegram",totalTradesExecuted:0,winningTrades:0,losingTrades:0,totalProfitLoss:"0",consecutiveLosses:0};function ft({userId:t}){const[n,i]=c.useState(_),[s,o]=c.useState(!0),[d,l]=c.useState(!1),[g,f]=c.useState(null),[v,T]=c.useState(!1),w=c.useCallback(async()=>{if(t)try{const r=await fetch(`/api/auto-trade/config?userId=${t}`);if(r.ok){const x=await r.json();i(x.config?{..._,...x.config}:_)}else i(_)}catch(r){console.error("Failed to fetch auto-trade config:",r),f("Failed to load configuration"),i(_)}finally{o(!1)}},[t]);c.useEffect(()=>{w()},[w]);const m=(r,x)=>{i(F=>({...F||_,[r]:x})),T(!0)},C=async()=>{if(!(!t||!v)){l(!0),f(null);try{if((await fetch("/api/auto-trade/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,...n})})).ok)T(!1);else throw new Error("Failed to save")}catch{f("Failed to save configuration")}finally{l(!1)}}},u=async()=>{if(t){l(!0);try{const r=await fetch("/api/auto-trade/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,enabled:!n.enabled})});if(r.ok){const x=await r.json();i(x.config)}}catch{f("Failed to toggle auto-trading")}finally{l(!1)}}},h=async()=>{if(t){l(!0);try{const r=n.isPaused?"/api/auto-trade/resume":"/api/auto-trade/pause",x=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,reason:"Manual pause"})});if(x.ok){const F=await x.json();i(F.config)}}catch{f("Failed to pause/resume trading")}finally{l(!1)}}};if(s)return e.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"#0f0f0f",minHeight:"100vh"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"âš™ï¸"}),e.jsx("div",{style:{color:"#888"},children:"Loading Auto-Trade Settings..."})]});const b=JSON.parse(n?.allowedSignals||'["BUY", "STRONG_BUY"]'),S=JSON.parse(n?.allowedHorizons||'["1h", "4h"]');return e.jsxs("div",{style:{padding:"20px",maxWidth:"900px",margin:"0 auto",background:"#0f0f0f",minHeight:"100vh"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("div",{children:[e.jsxs("h1",{style:{color:"#fff",fontSize:"24px",margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{children:"ðŸ¤–"}),"Auto-Trade Settings"]}),e.jsx("p",{style:{color:"#888",fontSize:"13px",margin:"4px 0 0 0"},children:"Configure AI-powered autonomous trading behavior"})]}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:v&&e.jsx("button",{onClick:C,disabled:d,style:{padding:"10px 20px",background:"linear-gradient(90deg, #00D4FF, #9945FF)",color:"#fff",border:"none",borderRadius:"8px",cursor:d?"not-allowed":"pointer",fontWeight:600,fontSize:"13px"},children:d?"Saving...":"Save Changes"})})]}),g&&e.jsx("div",{style:{background:"#FF6B6B20",border:"1px solid #FF6B6B",borderRadius:"8px",padding:"12px 16px",marginBottom:"20px",color:"#FF6B6B",fontSize:"13px"},children:g}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#fff",fontSize:"18px",margin:0},children:"Auto-Trading"}),e.jsx("p",{style:{color:"#666",fontSize:"12px",margin:"4px 0 0 0"},children:n?.enabled?"AI trading is active":"AI trading is disabled"})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[n?.enabled&&e.jsx("button",{onClick:h,disabled:d,style:{padding:"8px 16px",background:n?.isPaused?"#14F19520":"#FF6B6B20",border:`1px solid ${n?.isPaused?"#14F195":"#FF6B6B"}`,borderRadius:"8px",color:n?.isPaused?"#14F195":"#FF6B6B",fontSize:"12px",cursor:"pointer"},children:n?.isPaused?"â–¶ï¸ Resume":"â¸ï¸ Pause"}),e.jsx("button",{onClick:u,disabled:d,style:{padding:"10px 24px",background:n?.enabled?"#FF6B6B":"#14F195",border:"none",borderRadius:"8px",color:"#0f0f0f",fontWeight:600,fontSize:"13px",cursor:"pointer"},children:n?.enabled?"Disable":"Enable"})]})]}),n?.isPaused&&n?.pauseReason&&e.jsxs("div",{style:{background:"#F3BA2F20",border:"1px solid #F3BA2F",borderRadius:"8px",padding:"12px 16px",color:"#F3BA2F",fontSize:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{children:"âš ï¸"}),e.jsxs("span",{children:["Paused: ",n.pauseReason]})]})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸŽ®"}),"Trading Mode"]}),e.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:["observer","approval","semi-auto","full-auto"].map(r=>e.jsx(gt,{mode:r,selected:n?.mode===r,onClick:x=>m("mode",x),disabled:!n?.enabled},r))})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸŽ¯"}),"Thresholds"]}),e.jsx(U,{label:"Confidence Threshold",value:Math.round(parseFloat(n?.confidenceThreshold||.7)*100),onChange:r=>m("confidenceThreshold",(r/100).toFixed(2)),min:50,max:95,step:5,suffix:"%",disabled:!n?.enabled}),e.jsx(U,{label:"Accuracy Threshold",value:Math.round(parseFloat(n?.accuracyThreshold||.55)*100),onChange:r=>m("accuracyThreshold",(r/100).toFixed(2)),min:50,max:80,step:5,suffix:"%",disabled:!n?.enabled})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ’°"}),"Position Limits"]}),e.jsx(U,{label:"Max Per Trade",value:parseFloat(n?.maxPerTrade||10),onChange:r=>m("maxPerTrade",r.toFixed(2)),min:5,max:100,step:5,suffix:" USD",disabled:!n?.enabled}),e.jsx(U,{label:"Max Per Day",value:parseFloat(n?.maxPerDay||50),onChange:r=>m("maxPerDay",r.toFixed(2)),min:10,max:500,step:10,suffix:" USD",disabled:!n?.enabled}),e.jsx(U,{label:"Max Open Positions",value:n?.maxOpenPositions||3,onChange:r=>m("maxOpenPositions",Math.round(r)),min:1,max:10,step:1,suffix:"",disabled:!n?.enabled}),e.jsx(U,{label:"Stop After Consecutive Losses",value:n?.stopAfterLosses||3,onChange:r=>m("stopAfterLosses",Math.round(r)),min:2,max:10,step:1,suffix:"",disabled:!n?.enabled})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ“¡"}),"Signal Filters"]}),e.jsx(ue,{label:"Allowed Signals",options:[{value:"BUY",label:"BUY"},{value:"STRONG_BUY",label:"STRONG BUY"},{value:"SELL",label:"SELL"},{value:"STRONG_SELL",label:"STRONG SELL"}],selected:b,onChange:r=>m("allowedSignals",JSON.stringify(r)),disabled:!n?.enabled}),e.jsx(ue,{label:"Allowed Horizons",options:[{value:"1h",label:"1 Hour"},{value:"4h",label:"4 Hours"},{value:"24h",label:"24 Hours"},{value:"7d",label:"7 Days"}],selected:S,onChange:r=>m("allowedHorizons",JSON.stringify(r)),disabled:!n?.enabled})]}),e.jsxs("div",{style:{background:"#1a1a1a",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[e.jsxs("h2",{style:{color:"#fff",fontSize:"18px",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:"ðŸ””"}),"Notifications"]}),e.jsx(he,{label:"Notify on trade execution",checked:n?.notifyOnTrade??!0,onChange:r=>m("notifyOnTrade",r),disabled:!n?.enabled}),e.jsx(he,{label:"Notify on recommendations",checked:n?.notifyOnRecommendation??!0,onChange:r=>m("notifyOnRecommendation",r),disabled:!n?.enabled}),e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("div",{style:{color:"#888",fontSize:"13px",marginBottom:"10px"},children:"Notification Channel"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:["telegram","email","both"].map(r=>e.jsx("button",{onClick:()=>n?.enabled&&m("notifyChannel",r),disabled:!n?.enabled,style:{padding:"8px 16px",background:n?.notifyChannel===r?"#00D4FF20":"#141414",border:n?.notifyChannel===r?"1px solid #00D4FF":"1px solid #333",borderRadius:"8px",color:n?.notifyChannel===r?"#00D4FF":"#888",fontSize:"13px",cursor:n?.enabled?"pointer":"not-allowed",textTransform:"capitalize"},children:r},r))})]})]}),e.jsxs("div",{style:{background:"#141414",borderRadius:"12px",padding:"20px",display:"flex",gap:"20px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"11px",marginBottom:"4px"},children:"Total Trades"}),e.jsx("div",{style:{color:"#fff",fontSize:"24px",fontWeight:700},children:n?.totalTradesExecuted||0})]}),e.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"11px",marginBottom:"4px"},children:"Win Rate"}),e.jsxs("div",{style:{color:(n?.winningTrades||0)>=(n?.losingTrades||0)?"#14F195":"#FF6B6B",fontSize:"24px",fontWeight:700},children:[n?.totalTradesExecuted>0?(n.winningTrades/n.totalTradesExecuted*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"11px",marginBottom:"4px"},children:"Total P/L"}),e.jsxs("div",{style:{color:parseFloat(n?.totalProfitLoss||0)>=0?"#14F195":"#FF6B6B",fontSize:"24px",fontWeight:700},children:["$",parseFloat(n?.totalProfitLoss||0).toFixed(2)]})]}),e.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[e.jsx("div",{style:{color:"#666",fontSize:"11px",marginBottom:"4px"},children:"Consecutive Losses"}),e.jsx("div",{style:{color:(n?.consecutiveLosses||0)>=(n?.stopAfterLosses||3)?"#FF6B6B":"#fff",fontSize:"24px",fontWeight:700},children:n?.consecutiveLosses||0})]})]})]})}class ht extends c.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n,i){console.error("SniperBotTab error:",n,i)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"âš ï¸"}),e.jsx("h2",{style:{color:"#fff",marginBottom:"12px"},children:"StrikeAgent Loading Error"}),e.jsx("p",{style:{color:"#888",marginBottom:"24px"},children:"There was an issue loading StrikeAgent. Please try again."}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),style:{padding:"12px 24px",background:"linear-gradient(135deg, #00D4FF, #00A0CC)",color:"#000",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,marginRight:"12px"},children:"Try Again"}),e.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",background:"#333",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Go to Dashboard"})]}):this.props.children}}function ye({onNavigate:t}){return e.jsxs("div",{style:{padding:"60px 20px",textAlign:"center",background:"linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(139, 92, 246, 0.1))",borderRadius:"16px",margin:"20px 0"},children:[e.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"ðŸŽ¯"}),e.jsx("h2",{style:{color:"#fff",fontSize:"28px",marginBottom:"12px"},children:"Unlock StrikeAgent Elite"}),e.jsx("p",{style:{color:"#9ca3af",fontSize:"16px",maxWidth:"500px",margin:"0 auto 24px"},children:"Get access to our AI-powered sniper bot with real-time safety checks, multi-chain support, and automated trading capabilities."}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",flexWrap:"wrap",marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#00D4FF"},children:[e.jsx("span",{children:"âœ“"})," AI-Powered Sniping"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#00D4FF"},children:[e.jsx("span",{children:"âœ“"})," Honeypot Detection"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#00D4FF"},children:[e.jsx("span",{children:"âœ“"})," Anti-MEV Protection"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#00D4FF"},children:[e.jsx("span",{children:"âœ“"})," 23+ Chains Supported"]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>t("pricing"),style:{padding:"14px 32px",background:"linear-gradient(135deg, #00D4FF, #8B5CF6)",color:"#000",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:"View Plans - Starting at $30/mo"}),e.jsx("button",{onClick:()=>t("dashboard"),style:{padding:"14px 32px",background:"transparent",color:"#9ca3af",border:"1px solid #374151",borderRadius:"8px",cursor:"pointer",fontSize:"16px"},children:"Back to Dashboard"})]}),e.jsx("p",{style:{color:"#6b7280",fontSize:"13px",marginTop:"20px"},children:"2-day free trial included â€¢ 3-day refund policy â€¢ Cancel anytime"})]})}const ut=t=>{if(!t)return!1;const n=t.subscriptionTier;return["strike_agent","strike_agent_monthly","strike_agent_annual","complete_bundle","complete_bundle_monthly","complete_bundle_annual","founder","legacy_founder","annual","premium"].includes(n)};function yt(){const t=window.location.hostname.includes("strikeagent"),n=window.location.pathname.startsWith("/demo"),i=t||n,[s,o]=c.useState("dashboard"),[d,l]=c.useState(i?"demo-user":null),[g,f]=c.useState(i?{isDemoMode:!0,demoBalance:1e4}:null),[v,T]=c.useState(null),{trackPageView:w}=st("pulse");c.useEffect(()=>{w(`/tab/${s}`)},[s,w]),c.useEffect(()=>{if(!i){const h=localStorage.getItem("dwp_user");if(h)try{const b=JSON.parse(h);b.isDemoMode||b.accessLevel==="demo"?(console.log("ðŸ§¹ Clearing stale demo session"),localStorage.removeItem("dwp_user"),localStorage.removeItem("dwp_demo_mode")):b.accessLevel&&(console.log("ðŸ” Restoring session from localStorage:",b.accessLevel),l(b.email||b.id||"user"),f(S=>({...S,accessLevel:b.accessLevel,...b})))}catch{}}if(i){console.log("ðŸŽ¯ StrikeAgent Demo Mode - bypassing login"),sessionStorage.setItem("dwp_demo_mode","true"),sessionStorage.setItem("dwp_demo_balance","10000"),setTimeout(()=>o("sniper"),500);return}(async()=>{try{const h=localStorage.getItem("sessionToken"),S=await fetch("/api/session",{headers:h?{"X-Session-Token":h}:{}});if(S.ok){const r=S.headers.get("X-Session-Token-Rotated")==="true",x=await S.json();if(x.user?.email){l(x.user.email),x.sessionToken&&(localStorage.setItem("sessionToken",x.sessionToken),r&&console.log("ðŸ”„ Session token rotated for security"));const F=await fetch(`/api/users/${x.user.email}/dashboard`);if(F.ok){const A=await F.json();f(z=>({...z,...A,sessionToken:x.sessionToken})),A.defaultLandingTab&&!t&&o(A.defaultLandingTab)}}}}catch{console.log("Session check failed, using defaults")}})()},[i]);const m=u=>{T(u),o("analysis")},C=()=>{switch(s){case"dashboard":return e.jsx(le,{userId:d,userConfig:g,onNavigate:o,onAnalyzeCoin:m});case"markets":return e.jsx($e,{});case"projects":return e.jsx(Ne,{});case"learn":return e.jsx(Me,{});case"portfolio":return e.jsx(He,{});case"staking":return e.jsx(Ee,{});case"sniper":return i?e.jsx(ye,{onNavigate:o}):ut(g)?e.jsx(ht,{children:e.jsx(Oe,{})}):e.jsx(ye,{onNavigate:o});case"wallet":return e.jsx(Le,{userId:d});case"settings":return e.jsx(Ie,{userId:d,userConfig:g,setUserConfig:f});case"v2-details":return e.jsx(Pe,{});case"pricing":return e.jsx(De,{userId:d,currentTier:g?.subscriptionTier});case"analysis":return e.jsx(We,{coin:v,onBack:()=>o("dashboard")});case"ml-dashboard":return e.jsx(Ke,{});case"accuracy":return e.jsx(pt,{});case"auto-trade":return e.jsx(ft,{userId:d});case"risk":return e.jsx(Ve,{userId:d});case"dev-portal":return e.jsx(it,{});default:return e.jsx(le,{userId:d,userConfig:g,onNavigate:o,onAnalyzeCoin:m})}};return e.jsx(ke,{children:e.jsx(we,{children:e.jsx(ze,{children:e.jsx(Te,{children:e.jsx(Re,{userId:d,children:e.jsxs(Ce,{children:[e.jsx(Be,{activeTab:s,onTabChange:o,userTier:g?.subscriptionTier,accessLevel:g?.accessLevel,children:e.jsx("div",{style:{padding:"0 12px"},children:C()})}),e.jsx(Ae,{})]})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("[PWA] Service Worker registered:",t.scope),t.addEventListener("updatefound",()=>{const n=t.installing;n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[PWA] New version available! Refreshing..."),n.postMessage("skipWaiting"),window.location.reload())})})}).catch(t=>{console.error("[PWA] Service Worker registration failed:",t)})});Ue.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(_e,{children:e.jsx(yt,{})})}));
